/*! For license information please see main.e304a128.js.LICENSE.txt */
(()=>{var e={557:function(e,t,n){var r;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof this||("undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g),r=function(e){return function(){"use strict";var t={172:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CellHookData=t.HookData=void 0;var r=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.pageCount=this.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()};t.HookData=r;var a=function(e){function t(t,n,r,a,s,i){var o=e.call(this,t,n,i)||this;return o.cell=r,o.row=a,o.column=s,o.section=a.section,o}return n(t,e),t}(r);t.CellHookData=a},340:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=n(136),s=n(744),i=n(776),o=n(664),l=n(972);t.default=function(e){e.API.autoTable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];1===t.length?e=t[0]:(console.error("Use of deprecated autoTable initiation"),(e=t[2]||{}).columns=t[0],e.body=t[1]);var r=(0,i.parseInput)(this,e),a=(0,l.createTable)(this,r);return(0,o.drawTable)(this,a),this},e.API.lastAutoTable=!1,e.API.previousAutoTable=!1,e.API.autoTable.previous=!1,e.API.autoTableText=function(e,t,n,r){(0,a.default)(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return s.DocHandler.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){s.DocHandler.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new s.DocHandler(this),i=(0,r.parseHtml)(a,e,window,t,!1),o=i.head,l=i.body;return{columns:(null===(n=o[0])||void 0===n?void 0:n.map((function(e){return e.content})))||[],rows:l,data:l}},e.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var e=this.lastAutoTable;return e&&e.finalY?e.finalY:0},e.API.autoTableAddPageContent=function(t){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),e.API.autoTable.globalDefaults||(e.API.autoTable.globalDefaults={}),e.API.autoTable.globalDefaults.addPageContent=t,this},e.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,a){r=r||{};var s=a.internal.scaleFactor,i=a.internal.getFontSize()/s,o=i*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=i*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var d=i;if("center"===r.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)a.text(l[u],t-a.getStringUnitWidth(l[u])*d,n),n+=o;return a}t-=a.getStringUnitWidth(e)*d}return"justify"===r.halign?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}},420:function(e,t){function n(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function r(e,t){var n,r,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(s=e.bottom)&&void 0!==s?s:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageAvailableWidth=t.parseSpacing=t.getFillStyle=t.addTableBorder=t.getStringWidth=void 0,t.getStringWidth=function(e,t,n){return n.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map((function(e){return n.getTextWidth(e)})).reduce((function(e,t){return Math.max(e,t)}),0)},t.addTableBorder=function(e,t,r,a){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var o=n(s,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,o)},t.getFillStyle=n,t.parseSpacing=r,t.getPageAvailableWidth=function(e,t){var n=r(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}},796:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getTheme=t.defaultStyles=t.HtmlRowInput=void 0;var r=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return n(t,e),t}(Array);t.HtmlRowInput=r,t.defaultStyles=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},t.getTheme=function(e){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[e]}},903:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=void 0;var r=n(420);function a(e,t){var n=s(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function s(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:s(e.parentElement,t):n}t.parseCss=function(e,t,n,s,i){var o={},l=96/72,c=a(t,(function(e){return i.getComputedStyle(e).backgroundColor}));null!=c&&(o.fillColor=c);var d=a(t,(function(e){return i.getComputedStyle(e).color}));null!=d&&(o.textColor=d);var u=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map((function(e){return parseInt(e||"0")/a})),o=(0,r.parseSpacing)(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}(s,n);u&&(o.cellPadding=u);var h="borderTopColor",f=l*n,m=s.borderTopWidth;if(s.borderBottomWidth===m&&s.borderRightWidth===m&&s.borderLeftWidth===m){var p=(parseFloat(m)||0)/f;p&&(o.lineWidth=p)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/f,right:(parseFloat(s.borderRightWidth)||0)/f,bottom:(parseFloat(s.borderBottomWidth)||0)/f,left:(parseFloat(s.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?h="borderRightColor":o.lineWidth.bottom?h="borderBottomColor":o.lineWidth.left&&(h="borderLeftColor"));var g=a(t,(function(e){return i.getComputedStyle(e)[h]}));null!=g&&(o.lineColor=g);var x=["left","right","center","justify"];-1!==x.indexOf(s.textAlign)&&(o.halign=s.textAlign),-1!==(x=["middle","bottom","top"]).indexOf(s.verticalAlign)&&(o.valign=s.verticalAlign);var b=parseInt(s.fontSize||"");isNaN(b)||(o.fontSize=b/l);var v=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(s);v&&(o.fontStyle=v);var y=(s.fontFamily||"").toLowerCase();return-1!==e.indexOf(y)&&(o.font=y),o}},744:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DocHandler=void 0;var n={},r=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:n=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,a,s;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,d),(d=e.unifyColor(t.lineColor))&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,a){return this.jsPDFDocument.rect(e,t,n,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return n||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}();t.DocHandler=r},4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=void 0;var r=n(903),a=n(796);function s(e,t,n,s,o,l){for(var c=new a.HtmlRowInput(s),d=0;d<s.cells.length;d++){var u=s.cells[d],h=n.getComputedStyle(u);if(o||"none"!==h.display){var f=void 0;l&&(f=(0,r.parseCss)(e,u,t,h,n)),c.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:i(u)})}}var m=n.getComputedStyle(s);if(c.length>0&&(o||"none"!==m.display))return c}function i(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map((function(e){return e.trim()})).join("\n"),t.innerText||t.textContent||""}t.parseHtml=function(e,t,n,r,a){var i,o,l;void 0===r&&(r=!1),void 0===a&&(a=!1),l="string"===typeof t?n.document.querySelector(t):t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],h=[],f=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:f};for(var m=0;m<l.rows.length;m++){var p=l.rows[m],g=null===(o=null===(i=null===p||void 0===p?void 0:p.parentElement)||void 0===i?void 0:i.tagName)||void 0===o?void 0:o.toLowerCase(),x=s(c,d,n,p,r,a);x&&("thead"===g?u.push(x):"tfoot"===g?f.push(x):h.push(x))}return{head:u,body:h,foot:f}}},776:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=void 0;var r=n(4),a=n(356),s=n(420),i=n(744),o=n(792);t.parseInput=function(e,t){var n=new i.DocHandler(e),l=n.getDocumentOptions(),c=n.getGlobalOptions();(0,o.default)(n,c,l,t);var d,u=(0,a.assign)({},c,l,t);"undefined"!==typeof window&&(d=window);var h=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(s){if("columnStyles"===s){var i=e[s],o=t[s],l=n[s];r.columnStyles=(0,a.assign)({},i,o,l)}else{var c=[e,t,n].map((function(e){return e[s]||{}}));r[s]=(0,a.assign)({},c[0],c[1],c[2])}},i=0,o=Object.keys(r);i<o.length;i++)s(o[i]);return r}(c,l,t),f=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=[e,t,n];a<s.length;a++){var i=s[a];i.didParseCell&&r.didParseCell.push(i.didParseCell),i.willDrawCell&&r.willDrawCell.push(i.willDrawCell),i.didDrawCell&&r.didDrawCell.push(i.didDrawCell),i.willDrawPage&&r.willDrawPage.push(i.willDrawPage),i.didDrawPage&&r.didDrawPage.push(i.didDrawPage)}return r}(c,l,t),m=function(e,t){var n,r,a,i,o,l,c,d,u,h,f,m,p,g,x=(0,s.parseSpacing)(t.margin,40/e.scaleFactor()),b=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),s=!1;return n&&n.startPageNumber&&(s=n.startPageNumber+n.pageNumber-1===a),"number"===typeof t?t:null!=t&&!1!==t||!s||null==(null===n||void 0===n?void 0:n.finalY)?null:n.finalY+20/r}(e,t.startY))&&void 0!==n?n:x.top;p=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage",g=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var v=null!==(i=t.useCss)&&void 0!==i&&i,y=t.theme||(v?"plain":"striped"),w=!!t.horizontalPageBreak,N=null!==(o=t.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=t.includeHiddenHtml)&&void 0!==l&&l,useCss:v,theme:y,startY:b,margin:x,pageBreak:null!==(c=t.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(d=t.rowPageBreak)&&void 0!==d?d:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:g,showFoot:p,tableLineWidth:null!==(h=t.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(f=t.tableLineColor)&&void 0!==f?f:200,horizontalPageBreak:w,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:null!==(m=t.horizontalPageBreakBehaviour)&&void 0!==m?m:"afterAllRows"}}(n,u),p=function(e,t,n){var a=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var l=(0,r.parseHtml)(e,t.html,n,o,t.useCss)||{};a=l.head||a,s=l.body||a,i=l.foot||a}else console.error("Cannot parse html in non browser environment")}var c=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter((function(e){return"_element"!==e})).forEach((function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var s=0;s<n;s++){var i={dataKey:Array.isArray(r)?a.length:e+(s>0?"_".concat(s):"")};a.push(i)}})),a}(a,s,i);return{columns:c,head:a,body:s,foot:i}}(n,u,d);return{id:t.tableId,content:p,hooks:f,styles:h,settings:m}}},792:function(e,t){function n(e){e.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),e.minCellHeight||(e.minCellHeight=e.rowHeight)):e.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),e.cellWidth||(e.cellWidth=e.columnWidth))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a){for(var s=function(t){t&&"object"!==typeof t&&console.error("The options parameter should be of type object, is: "+typeof t),"undefined"!==typeof t.extendWidth&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),"undefined"!==typeof t.margins&&("undefined"===typeof t.margin&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&"number"!==typeof t.startY&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(n){e.applyStyles(e.userStyles),t.beforePageContent&&t.beforePageContent(n),e.applyStyles(e.userStyles),t.afterPageContent&&t.afterPageContent(n),e.applyStyles(e.userStyles),t.afterPageAdd&&n.pageNumber>1&&n.afterPageAdd(n),e.applyStyles(e.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach((function(e){t[e]&&console.error('The "'.concat(e,'" hook has changed in version 3.0, check the changelog for how to migrate.'))})),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach((function(e){var n=e[0],r=e[1];t[r]&&(console.error("Use of deprecated option ".concat(r,". Use ").concat(n," instead")),t[n]=t[r])})),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach((function(e){var n="string"===typeof e?e:e[0],r="string"===typeof e?e:e[1];"undefined"!==typeof t[n]&&("undefined"===typeof t.styles[r]&&(t.styles[r]=t[n]),console.error("Use of deprecated option: "+n+", use the style "+r+" instead."))}));for(var r=0,a=["styles","bodyStyles","headStyles","footStyles"];r<a.length;r++)n(t[a[r]]||{});for(var s=t.columnStyles||{},i=0,o=Object.keys(s);i<o.length;i++)n(s[o[i]]||{})},i=0,o=[t,r,a];i<o.length;i++)s(o[i])}},260:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Column=t.Cell=t.Row=t.Table=void 0;var r=n(796),a=n(172),s=n(420),i=function(){function e(e,t){this.pageNumber=1,this.pageCount=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce((function(t,n){return t+n.getMaxCellHeight(e)}),0)},e.prototype.getFootHeight=function(e){return this.foot.reduce((function(t,n){return t+n.getMaxCellHeight(e)}),0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,s,i){for(var o=0,l=t;o<l.length;o++){var c=!1===(0,l[o])(new a.CellHookData(e,this,n,r,s,i));if(n.text=Array.isArray(n.text)?n.text:[n.text],c)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new a.HookData(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new a.HookData(e,this,t))},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce((function(e,t){return e+t.wrappedWidth}),0);var t=this.settings.margin;return e-t.left-t.right},e}();t.Table=i;var o=function(){function e(e,t,n,a,s){void 0===s&&(s=!1),this.height=0,this.raw=e,e instanceof r.HtmlRowInput&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce((function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)}),0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter((function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1})).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce((function(e,r){var a=n.cells[r.index];if(!a)return 0;var s=t.getLineHeight(a.styles.fontSize),i=a.padding("vertical")+s;return i>e?i:e}),0)},e}();t.Row=o;var l=function(){function e(e,t,n){var r,a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=null!==(a=null!==(r=e.content)&&void 0!==r?r:e.title)&&void 0!==a?a:e,e._element&&(this.raw=e._element));var i=null!=s?""+s:"";this.text=i.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=(0,s.parseSpacing)(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}();t.Cell=l;var c=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n].cells[this.index];a&&"number"===typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();t.Column=c},356:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assign=void 0,t.assign=function(e,t,n,r,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}},972:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=void 0;var r=n(744),a=n(260),s=n(324),i=n(796),o=n(356);function l(e,t,n,r,s,i){var o={};return t.map((function(t,l){for(var c=0,u={},h=0,f=0,m=0,p=n;m<p.length;m++){var g=p[m];if(null==o[g.index]||0===o[g.index].left)if(0===f){var x=void 0,b={};"object"!==typeof(x=Array.isArray(t)?t[g.index-h-c]:t[g.dataKey])||Array.isArray(x)||(b=(null===x||void 0===x?void 0:x.styles)||{});var v=d(e,g,l,s,r,i,b),y=new a.Cell(x,v,e);u[g.dataKey]=y,u[g.index]=y,f=y.colSpan-1,o[g.index]={left:y.rowSpan-1,times:f}}else f--,h++;else o[g.index].left--,f=o[g.index].times,c++}return new a.Row(t,l,e,u)}))}function c(e,t){var n={};return e.forEach((function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||t.title||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}})),Object.keys(n).length>0?n:null}function d(e,t,n,r,a,s,l){var c,d=(0,i.getTheme)(r);"head"===e?c=a.headStyles:"body"===e?c=a.bodyStyles:"foot"===e&&(c=a.footStyles);var u=(0,o.assign)({},d.table,d[e],a.styles,c),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f="body"===e?h:{},m="body"===e&&n%2===0?(0,o.assign)({},d.alternateRow,a.alternateRowStyles):{},p=(0,i.defaultStyles)(s),g=(0,o.assign)({},p,u,m,f);return(0,o.assign)(g,l)}t.createTable=function(e,t){var n=new r.DocHandler(e),i=function(e,t){var n,r=e.content,s=function(e){return e.map((function(e,t){var n,r,s;return s="object"===typeof e&&null!==(r=null!==(n=e.dataKey)&&void 0!==n?n:e.key)&&void 0!==r?r:t,new a.Column(s,e,t)}))}(r.columns);(0===r.head.length&&(n=c(s,"head"))&&r.head.push(n),0===r.foot.length)&&((n=c(s,"foot"))&&r.foot.push(n));var i=e.settings.theme,o=e.styles;return{columns:s,head:l("head",r.head,s,o,i,t),body:l("body",r.body,s,o,i,t),foot:l("foot",r.foot,s,o,i,t)}}(t,n.scaleFactor()),o=new a.Table(t,i);return(0,s.calculateWidths)(n,o),n.applyStyles(n.userStyles),o}},664:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addPage=t.drawTable=void 0;var r=n(420),a=n(260),s=n(744),i=n(356),o=n(136),l=n(224);function c(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach((function(a){return m(e,t,a,n,r)}))}function d(e,t,n,r,a,s){e.applyStyles(e.userStyles),s=null!==s&&void 0!==s?s:t.body.length;var i=Math.min(n+s,t.body.length),o=-1;return t.body.slice(n,i).forEach((function(s,i){var l=n+i===t.body.length-1,c=g(e,t,l,r);s.canEntireRowFit(c,a)&&(m(e,t,s,r,a),o=n+i)})),o}function u(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach((function(a){return m(e,t,a,n,r)}))}function h(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/r);return Math.max(0,s)}function f(e,t,n,r,s,o,l){var c=g(e,t,r,o);if(n.canEntireRowFit(c,l))m(e,t,n,o,l);else if(function(e,t,n,r){var a=e.pageSize().height,s=r.settings.margin,i=a-(s.top+s.bottom);"body"===t.section&&(i-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=t.getMinimumRowHeight(r.columns,e),l=o<n;if(o>i)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>i?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,c,t)){var d=function(e,t,n,r){var s={};e.spansMultiplePages=!0,e.height=0;for(var o=0,l=0,c=n.columns;l<c.length;l++){var d=c[l];if(v=e.cells[d.index]){Array.isArray(v.text)||(v.text=[v.text]);var u=new a.Cell(v.raw,v.styles,v.section);(u=(0,i.assign)(u,v)).text=[];var f=h(v,t,r);v.text.length>f&&(u.text=v.text.splice(f,v.text.length));var m=r.scaleFactor(),p=r.getLineHeightFactor();v.contentHeight=v.getContentHeight(m,p),v.contentHeight>=t&&(v.contentHeight=t,u.styles.minCellHeight-=t),v.contentHeight>e.height&&(e.height=v.contentHeight),u.contentHeight=u.getContentHeight(m,p),u.contentHeight>o&&(o=u.contentHeight),s[d.index]=u}}var g=new a.Row(e.raw,-1,e.section,s,!0);g.height=o;for(var x=0,b=n.columns;x<b.length;x++){var v;d=b[x],(u=g.cells[d.index])&&(u.height=g.height),(v=e.cells[d.index])&&(v.height=e.height)}return g}(n,c,t,e);m(e,t,n,o,l),x(e,t,s,o,l),f(e,t,d,r,s,o,l)}else x(e,t,s,o,l),f(e,t,n,r,s,o,l)}function m(e,t,n,r,a){r.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var l=i[s],c=n.cells[l.index];if(c)if(e.applyStyles(c.styles),c.x=r.x,c.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,c,n,l,r)){p(e,c,r);var d=c.getTextPos();(0,o.default)(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,l,r),r.x+=l.width}else r.x+=l.width;else r.x+=l.width}r.y+=n.height}function p(e,t,n){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof a.lineWidth){var s=(0,r.getFillStyle)(a.lineWidth,a.fillColor);s&&e.rect(t.x,n.y,t.width,t.height,s)}else"object"===typeof a.lineWidth&&(a.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var a,s,i,o;function l(t,n,r,a,s){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,a,s,"S")}r.top&&(a=n.x,s=n.y,i=n.x+t.width,o=n.y,r.right&&(i+=.5*r.right),r.left&&(a-=.5*r.left),l(r.top,a,s,i,o)),r.bottom&&(a=n.x,s=n.y+t.height,i=n.x+t.width,o=n.y+t.height,r.right&&(i+=.5*r.right),r.left&&(a-=.5*r.left),l(r.bottom,a,s,i,o)),r.left&&(a=n.x,s=n.y,i=n.x,o=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,a,s,i,o)),r.right&&(a=n.x+t.width,s=n.y,i=n.x+t.width,o=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,a,s,i,o))}(e,t,n,a.lineWidth))}function g(e,t,n,r){var a=t.settings.margin.bottom,s=t.settings.showFoot;return("everyPage"===s||"lastPage"===s&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function x(e,t,n,a,s,i){void 0===s&&(s=[]),void 0===i&&(i=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||i||t.foot.forEach((function(n){return m(e,t,n,a,s)})),t.callEndPageHooks(e,a);var o=t.settings.margin;(0,r.addTableBorder)(e,t,n,a),b(e),t.pageNumber++,t.pageCount++,a.x=o.left,a.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,a),"everyPage"===t.settings.showHead&&(t.head.forEach((function(n){return m(e,t,n,a,s)})),e.applyStyles(e.userStyles))}function b(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}t.drawTable=function(e,t){var n=t.settings,a=n.startY,o=n.margin,h={x:o.left,y:a},p=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),g=a+o.bottom+p;"avoid"===n.pageBreak&&(g+=t.body.reduce((function(e,t){return e+t.height}),0));var v=new s.DocHandler(e);("always"===n.pageBreak||null!=n.startY&&g>v.pageSize().height)&&(b(v),h.y=o.top),t.callWillDrawPageHooks(v,h);var y=(0,i.assign)({},h);t.startPageNumber=v.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var a=(0,l.calculateAllColumnsCanFitInPage)(e,t),s=t.settings;if("afterAllRows"===s.horizontalPageBreakBehaviour)a.forEach((function(a,s){e.applyStyles(e.userStyles),s>0?x(e,t,n,r,a.columns,!0):c(e,t,r,a.columns),function(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach((function(s,i){var o=i===t.body.length-1;f(e,t,s,o,n,r,a)}))}(e,t,n,r,a.columns),u(e,t,r,a.columns)}));else for(var i=-1,o=a[0],h=function(){var s=i;if(o){e.applyStyles(e.userStyles);var l=o.columns;i>=0?x(e,t,n,r,l,!0):c(e,t,r,l),s=d(e,t,i+1,r,l),u(e,t,r,l)}var h=s-i;a.slice(1).forEach((function(a){e.applyStyles(e.userStyles),x(e,t,n,r,a.columns,!0),d(e,t,i+1,r,a.columns,h),u(e,t,r,a.columns)})),i=s};i<t.body.length-1;)h()}(v,t,y,h):(v.applyStyles(v.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach((function(e){return m(v,t,e,h,t.columns)})),v.applyStyles(v.userStyles),t.body.forEach((function(e,n){var r=n===t.body.length-1;f(v,t,e,r,y,h,t.columns)})),v.applyStyles(v.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach((function(e){return m(v,t,e,h,t.columns)}))),(0,r.addTableBorder)(v,t,y,h),t.callEndPageHooks(v,h),t.finalY=h.y,e.lastAutoTable=t,e.previousAutoTable=t,e.autoTable&&(e.autoTable.previous=t),v.applyStyles(v.userStyles)},t.addPage=x},224:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAllColumnsCanFitInPage=void 0;var r=n(420);function a(e,t,n){var a;void 0===n&&(n={});var s=(0,r.getPageAvailableWidth)(e,t),i=new Map,o=[],l=[],c=[];t.settings.horizontalPageBreakRepeat,Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(c=[t.settings.horizontalPageBreakRepeat]),c.forEach((function(e){var n=t.columns.find((function(t){return t.dataKey===e||t.index===e}));n&&!i.has(n.index)&&(i.set(n.index,!0),o.push(n.index),l.push(t.columns[n.index]),s-=n.wrappedWidth)}));for(var d=!0,u=null!==(a=null===n||void 0===n?void 0:n.start)&&void 0!==a?a:0;u<t.columns.length;)if(i.has(u))u++;else{var h=t.columns[u].wrappedWidth;if(!(d||s>=h))break;d=!1,o.push(u),l.push(t.columns[u]),s-=h,u++}return{colIndexes:o,columns:l,lastIndex:u-1}}t.calculateAllColumnsCanFitInPage=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var s=a(e,t,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}},324:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ellipsize=t.resizeColumns=t.calculateWidths=void 0;var r=n(420);function a(e,t,n){for(var r=t,s=e.reduce((function(e,t){return e+t.wrappedWidth}),0),i=0;i<e.length;i++){var o=e[i],l=r*(o.wrappedWidth/s),c=o.width+l,d=n(o),u=c<d?d:c;t-=u-o.width,o.width=u}if(t=Math.round(1e10*t)/1e10){var h=e.filter((function(e){return!(t<0)||e.width>n(e)}));h.length&&(t=a(h,t,n))}return t}function s(e,t,n,a,s){return e.map((function(e){return function(e,t,n,a,s){var i=1e4*a.scaleFactor();if((t=Math.ceil(t*i)/i)>=(0,r.getStringWidth)(e,n,a))return e;for(;t<(0,r.getStringWidth)(e+s,n,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}(e,t,n,a,s)}))}t.calculateWidths=function(e,t){!function(e,t){var n=e.scaleFactor(),a=t.settings.horizontalPageBreak,s=(0,r.getPageAvailableWidth)(e,t);t.allRows().forEach((function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var h=d.padding("horizontal");d.contentWidth=(0,r.getStringWidth)(d.text,d.styles,e)+h;var f=(0,r.getStringWidth)(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=f+d.padding("horizontal"),"number"===typeof d.styles.cellWidth)d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if("wrap"===d.styles.cellWidth||!0===a)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/n;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}})),t.allRows().forEach((function(e){for(var n=0,r=t.columns;n<r.length;n++){var a=r[n],s=e.cells[a.index];if(s&&1===s.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,s.wrappedWidth),a.minWidth=Math.max(a.minWidth,s.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,s.minReadableWidth);else{var i=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},o=i.cellWidth||i.minCellWidth;o&&"number"===typeof o&&(a.minWidth=o,a.wrappedWidth=o)}s&&(s.colSpan>1&&!a.minWidth&&(a.minWidth=s.minWidth),s.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=s.minWidth))}}))}(e,t);var n=[],i=0;t.columns.forEach((function(e){var r=e.getMaxCustomCellWidth(t);r?e.width=r:(e.width=e.wrappedWidth,n.push(e)),i+=e.width}));var o=t.getWidth(e.pageSize().width)-i;o&&(o=a(n,o,(function(e){return Math.max(e.minReadableWidth,e.minWidth)}))),o&&(o=a(n,o,(function(e){return e.minWidth}))),o=Math.abs(o),!t.settings.horizontalPageBreak&&o>.1/e.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((i-=1)>1&&e.columns[o+1])s+=l.width,delete r.cells[l.index];else if(a){var c=a;delete r.cells[l.index],a=null,c.width=l.width+s}else{if(!(c=r.cells[l.index]))continue;if(i=c.colSpan,s=0,c.colSpan>1){a=c,s+=l.width;continue}c.width=l.width+s}}}(t),function(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var i=a[r],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if("linebreak"===d.styles.overflow)d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if("ellipsize"===d.styles.overflow)d.text=s(d.text,u,d.styles,t,"...");else if("hidden"===d.styles.overflow)d.text=s(d.text,u,d.styles,t,"");else if("function"===typeof d.styles.overflow){var h=d.styles.overflow(d.text,u);d.text="string"===typeof h?[h]:h}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<f*d.rowSpan?n={height:f,count:d.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>i.height&&(i.height=f)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var s=r[a],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=t[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var u=r.length-a,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:s}}}}}(t)},t.resizeColumns=a,t.ellipsize=s},964:function(t){if("undefined"===typeof e){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}t.exports=e}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}var a={};return function(){var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.Cell=e.Column=e.Row=e.Table=e.CellHookData=e.__drawTable=e.__createTable=e.applyPlugin=void 0;var t=r(340),n=r(776),s=r(664),i=r(972),o=r(260);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return o.Table}});var l=r(172);Object.defineProperty(e,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=r(260);function d(e){(0,t.default)(e)}Object.defineProperty(e,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(e,"Row",{enumerable:!0,get:function(){return c.Row}}),e.applyPlugin=d,e.__createTable=function(e,t){var r=(0,n.parseInput)(e,t);return(0,i.createTable)(e,r)},e.__drawTable=function(e,t){(0,s.drawTable)(e,t)};try{var u=r(964);u.jsPDF&&(u=u.jsPDF),d(u)}catch(h){}e.default=function(e,t){var r=(0,n.parseInput)(e,t),a=(0,i.createTable)(e,r);(0,s.drawTable)(e,a)}}(),a}()},e.exports=r(function(){try{return n(7762)}catch(e){}}())},579:(e,t,n)=>{"use strict";e.exports=n(1153)},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1487:(e,t,n)=>{"use strict";n.d(t,{O9:()=>u,Ow:()=>d,getPatientProgramsGrade:()=>c,getProgramById:()=>l,lF:()=>h,pF:()=>i,sp:()=>o,v2:()=>f,xT:()=>m});var r=n(9722),a=n(3488);const s=r.A.create({baseURL:a.H});s.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));const i=async()=>{try{return(await s.get("/programs")).data}catch(t){var e;throw console.error("Erro detalhado em getAllPrograms:",{message:t.message,request_url:null===(e=t.config)||void 0===e?void 0:e.url}),t}},o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n={search:e};t&&(n.discipline=t);return(await s.get("/programs",{params:n})).data}catch(n){throw console.error("Erro ao buscar programas:",n),n}},l=async e=>{try{return(await s.get("/programs/".concat(e))).data}catch(n){var t;throw console.error("Erro detalhado em getProgramById para o ID ".concat(e,":"),{message:n.message,request_url:null===(t=n.config)||void 0===t?void 0:t.url}),n}},c=async e=>{try{return(await s.get("/programs/patient/".concat(e,"/grade"))).data}catch(n){var t;throw console.error("Erro detalhado em getPatientProgramsGrade para o paciente ".concat(e,":"),{message:n.message,request_url:null===(t=n.config)||void 0===t?void 0:t.url}),n}},d=async e=>{try{return(await s.get("/assignments/".concat(e))).data}catch(n){var t;throw console.error("Erro detalhado em getAssignmentDetails para o ID ".concat(e,":"),{message:n.message,request_url:null===(t=n.config)||void 0===t?void 0:t.url}),n}},u=async()=>{try{return(await s.get("/assignments/prompt-levels")).data}catch(e){throw console.error("Erro ao buscar n\xedveis de prompting:",e),e}},h=async e=>{try{return(await s.post("/assignments/progress",e)).data}catch(n){var t;throw console.error("Erro detalhado em recordProgress:",{message:n.message,request_url:null===(t=n.config)||void 0===t?void 0:t.url}),n}},f=async e=>{try{return(await s.get("/assignments/".concat(e,"/progress"))).data}catch(n){var t;throw console.error("Erro detalhado em getAssignmentEvolution para a atribui\xe7\xe3o ".concat(e,":"),{message:n.message,request_url:null===(t=n.config)||void 0===t?void 0:t.url}),n}},m=async(e,t)=>{try{return(await s.patch("/assignments/".concat(e,"/status"),{status:t})).data}catch(r){var n;throw console.error("Erro detalhado em updateAssignmentStatus para a atribui\xe7\xe3o ".concat(e,":"),{message:r.message,request_url:null===(n=r.config)||void 0===n?void 0:n.url}),r}}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(m,e)||!u.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,b);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var R,I=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case S:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var xe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,_e=null;function Se(e){if(e=va(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),Ne(e.stateNode,e.type,t))}}function ke(e){je?_e?_e.push(e):_e=[e]:je=e}function Ce(){if(je){var e=je,t=_e;if(_e=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Le=!1;function Ee(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ae(e,t,n)}finally{Le=!1,(null!==je||null!==_e)&&(Pe(),Ce())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){De=!1}function Te(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,Ie=null,Fe=!1,ze=null,Be={onError:function(e){Re=!0,Ie=e}};function qe(e,t,n,r,a,s,i,o,l){Re=!1,Ie=null,Te.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=ut(o):0!==(s&=i)&&(r=ut(s))}else 0!==(i=n&~a)?r=ut(i):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,jt,_t,St,kt=!1,Ct=[],At=null,Pt=null,Lt=null,Et=new Map,Mt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Rt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=ba(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){kt=!1,null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Lt&&Ft(Lt)&&(Lt=null),Et.forEach(zt),Mt.forEach(zt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&qt(At,e),null!==Pt&&qt(Pt,e),null!==Lt&&qt(Lt,e),Et.forEach(t),Mt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)It(n),null===n.blockedOn&&Dt.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Yt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Gt(e,t,n,r){if(Ht){var a=$t(e,t,n,r);if(null===a)Hr(e,t,r,Xt,n),Tt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return At=Rt(At,e,t,n,r,a),!0;case"dragenter":return Pt=Rt(Pt,e,t,n,r,a),!0;case"mouseover":return Lt=Rt(Lt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Et.set(s,Rt(Et.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Mt.set(s,Rt(Mt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Tt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&wt(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Xt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function $t(e,t,n,r){if(Xt=null,null!==(e=ba(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=I({},cn,{view:0,detail:0}),hn=an(un),fn=I({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(I({},fn,{dataTransfer:0})),gn=an(I({},un,{relatedTarget:0})),xn=an(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),yn=an(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Sn(){return _n}var kn=I({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(kn),An=an(I({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(I({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Ln=an(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=I({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(En),Dn=[9,13,27,32],On=d&&"CompositionEvent"in window,Tn=null;d&&"documentMode"in document&&(Tn=document.documentMode);var Rn=d&&"TextEvent"in window&&!Tn,In=d&&(!On||Tn&&8<Tn&&11>=Tn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){ke(r),0<(t=Yr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Xn(e){Fr(e,0)}function $n(e){if(G(ya(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Qn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Vn(t,Gn,e,we(e)),Ee(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var i=dr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,br=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Yr(xr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},_r={};function Sr(e){if(jr[e])return jr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return jr[e]=n[t];return e}d&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var kr=Sr("animationend"),Cr=Sr("animationiteration"),Ar=Sr("animationstart"),Pr=Sr("transitionend"),Lr=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Lr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Er.length;Dr++){var Or=Er[Dr];Mr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Mr(kr,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Ar,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(qe.apply(this,arguments),Re){if(!Re)throw Error(s(198));var d=Ie;Re=!1,Ie=null,Fe||(Fe=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Ir(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Ir(a,o,c),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[qr]){e[qr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var a=Vt;break;case 4:a=Yt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ba(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Ee((function(){var r=s,a=we(n),i=[];e:{var o=Lr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case kr:case Cr:case Ar:l=xn;break;case Pr:l=Ln;break;case"scroll":l=hn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Me(m,h))&&d.push(Vr(m,p,f)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,p="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:ya(l),f=null==c?o:ya(c),(o=new d(p,m+"leave",l,n,a)).target=u,o.relatedTarget=f,p=null,ba(a)===r&&((d=new d(h,m+"enter",c,n,a)).target=f,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,m=0,f=d=l;f;f=Gr(f))m++;for(f=0,p=h;p;p=Gr(p))f++;for(;0<m-f;)d=Gr(d),m--;for(;0<f-m;)h=Gr(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Gr(d),h=Gr(h)}d=null}else d=null;null!==l&&Xr(i,o,l,d,!1),null!==c&&null!==u&&Xr(i,u,c,d,!0)}if("select"===(l=(o=r?ya(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Kn;else if(Hn(o))if(Jn)g=ir;else{g=ar;var x=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?ya(r):window,e){case"focusin":(Hn(x)||"true"===x.contentEditable)&&(gr=x,xr=r,br=null);break;case"focusout":br=xr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(i,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(i,n,a)}var b;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(b=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,Un=!0)),0<(x=Yr(r,v)).length&&(v=new yn(v,e,null,n,a),i.push({event:v,listeners:x}),b?v.data=b:null!==(b=qn(n))&&(v.data=b))),(b=Rn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Qt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Fr(i,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Me(e,n))&&r.unshift(Vr(e,s,a)),null!=(s=Me(e,t))&&r.push(Vr(e,s,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Me(n,s))&&i.unshift(Vr(n,l,o)):a||null!=(l=Me(n,s))&&i.push(Vr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,fa="__reactProps$"+ua,ma="__reactContainer$"+ua,pa="__reactEvents$"+ua,ga="__reactListeners$"+ua,xa="__reactHandles$"+ua;function ba(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ha])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[fa]||null}var Na=[],ja=-1;function _a(e){return{current:e}}function Sa(e){0>ja||(e.current=Na[ja],Na[ja]=null,ja--)}function ka(e,t){ja++,Na[ja]=e.current,e.current=t}var Ca={},Aa=_a(Ca),Pa=_a(!1),La=Ca;function Ea(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){Sa(Pa),Sa(Aa)}function Oa(e,t,n){if(Aa.current!==Ca)throw Error(s(168));ka(Aa,t),ka(Pa,n)}function Ta(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return I({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,La=Aa.current,ka(Aa,e),ka(Pa,Pa.current),!0}function Ia(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ta(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,Sa(Pa),Sa(Aa),ka(Aa,e)):Sa(Pa),ka(Pa,n)}var Fa=null,za=!1,Ba=!1;function qa(e){null===Fa?Fa=[e]:Fa.push(e)}function Ua(){if(!Ba&&null!==Fa){Ba=!0;var e=0,t=vt;try{var n=Fa;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ge(Ze,Ua),a}finally{vt=t,Ba=!1}}return null}var Wa=[],Ha=0,Va=null,Ya=0,Ga=[],Xa=0,$a=null,Ka=1,Ja="";function Qa(e,t){Wa[Ha++]=Ya,Wa[Ha++]=Va,Va=e,Ya=t}function Za(e,t,n){Ga[Xa++]=Ka,Ga[Xa++]=Ja,Ga[Xa++]=$a,$a=e;var r=Ka;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ka=1<<32-it(t)+a|n<<a|r,Ja=s+e}else Ka=1<<s|n<<a|r,Ja=e}function es(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Wa[--Ha],Wa[Ha]=null,Ya=Wa[--Ha],Wa[Ha]=null;for(;e===$a;)$a=Ga[--Xa],Ga[Xa]=null,Ja=Ga[--Xa],Ga[Xa]=null,Ka=Ga[--Xa],Ga[Xa]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ka,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&bs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Tc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||T(t))return(t=Tc(t,e.mode,n,null)).return=e,t;xs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case N:return n.key===a?d(e,t,n,r):null;case M:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||T(n))return null!==a?null:u(e,t,n,r,null);xs(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||T(r))return u(t,e=e.get(n)||null,r,a,null);xs(t,r)}return null}function p(a,s,o,l){for(var c=null,d=null,u=s,p=s=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var x=f(a,u,o[p],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),s=i(x,s,p),null===d?c=x:d.sibling=x,d=x,u=g}if(p===o.length)return n(a,u),as&&Qa(a,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(a,o[p],l))&&(s=i(u,s,p),null===d?c=u:d.sibling=u,d=u);return as&&Qa(a,p),c}for(u=r(a,u);p<o.length;p++)null!==(g=m(u,a,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),s=i(g,s,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(a,e)})),as&&Qa(a,p),c}function g(a,o,l,c){var d=T(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,p=o,g=o=0,x=null,b=l.next();null!==p&&!b.done;g++,b=l.next()){p.index>g?(x=p,p=null):x=p.sibling;var v=f(a,p,b.value,c);if(null===v){null===p&&(p=x);break}e&&p&&null===v.alternate&&t(a,p),o=i(v,o,g),null===u?d=v:u.sibling=v,u=v,p=x}if(b.done)return n(a,p),as&&Qa(a,g),d;if(null===p){for(;!b.done;g++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return as&&Qa(a,g),d}for(p=r(a,p);!b.done;g++,b=l.next())null!==(b=m(p,a,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach((function(e){return t(a,e)})),as&&Qa(a,g),d}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===j){if(7===d.tag){n(r,d.sibling),(s=a(d,i.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&bs(c)===d.type){n(r,d.sibling),(s=a(d,i.props)).ref=gs(r,d,i),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===j?((s=Tc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Oc(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case N:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(i,r.mode,l)).return=r,r=s}return o(r);case M:return e(r,s,(d=i._init)(i._payload),l)}if(te(i))return p(r,s,i,l);if(T(i))return g(r,s,i,l);xs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Ic(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ys=vs(!0),ws=vs(!1),Ns=_a(null),js=null,_s=null,Ss=null;function ks(){Ss=_s=js=null}function Cs(e){var t=Ns.current;Sa(Ns),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){js=e,Ss=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===js)throw Error(s(308));_s=e,js.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Es=null;function Ms(e){null===Es?Es=[e]:Es.push(e)}function Ds(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ms(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ts=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,Ms(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var a=e.updateQueue;Ts=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(f,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,u,h):m)||void 0===h)break e;u=I({},u,h);break e;case 2:Ts=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},Vs=_a(Hs),Ys=_a(Hs),Gs=_a(Hs);function Xs(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(ka(Gs,t),ka(Ys,e),ka(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Vs),ka(Vs,t)}function Ks(){Sa(Vs),Sa(Ys),Sa(Gs)}function Js(e){Xs(Gs.current);var t=Xs(Vs.current),n=le(t,e.type);t!==n&&(ka(Ys,e),ka(Vs,n))}function Qs(e){Ys.current===e&&(Sa(Vs),Sa(Ys))}var Zs=_a(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function fi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function pi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Qi:Zi,e=n(r,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(di)}if(ri.current=Ji,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==ui;return ui=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Rl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ni(){}function ji(e,t){var n=ii,r=bi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,vo=!0),r=r.queue,Ti(ki.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Li(9,Si.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||_i(n,t,a)}return a}function _i(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,Ci(t)&&Ai(e)}function ki(e,t,n){return n((function(){Ci(t)&&Ai(e)}))}function Ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ai(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ei(){return bi().memoizedState}function Mi(e,t,n,r){var a=xi();ii.flags|=e,a.memoizedState=Li(1|t,n,void 0,void 0===r?null:r)}function Di(e,t,n,r){var a=bi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Li(t,n,s,r))}ii.flags|=e,a.memoizedState=Li(1|t,n,s,r)}function Oi(e,t){return Mi(8390656,8,e,t)}function Ti(e,t){return Di(2048,8,e,t)}function Ri(e,t){return Di(4,2,e,t)}function Ii(e,t){return Di(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Di(4,4,Fi.bind(null,t,e),n)}function Bi(){}function qi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ui(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ii.lanes|=n,Rl|=n,e.baseState=!0),t)}function Hi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{vt=n,ai.transition=r}}function Vi(){return bi().memoizedState}function Yi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xi(e))$i(t,n);else if(null!==(n=Ds(e,t,n,r))){nc(n,e,r,ec()),Ki(n,t,r)}}function Gi(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xi(e))$i(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ms(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ds(e,t,a,r))&&(nc(n,e,r,a=ec()),Ki(n,t,r))}}function Xi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ki(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ji={readContext:Ls,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Qi={readContext:Ls,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Ls,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Pi,useDebugValue:Bi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Hi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=xi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&si)||_i(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Oi(ki.bind(null,r,i,e),[e]),r.flags|=2048,Li(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=Pl.identifierPrefix;if(as){var n=Ja;t=":"+t+"R"+(n=(Ka&~(1<<32-it(Ka)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ls,useCallback:qi,useContext:Ls,useEffect:Ti,useImperativeHandle:zi,useInsertionEffect:Ri,useLayoutEffect:Ii,useMemo:Ui,useReducer:yi,useRef:Ei,useState:function(){return yi(vi)},useDebugValue:Bi,useDeferredValue:function(e){return Wi(bi(),oi.memoizedState,e)},useTransition:function(){return[yi(vi)[0],bi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:ji,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Ls,useCallback:qi,useContext:Ls,useEffect:Ti,useImperativeHandle:zi,useInsertionEffect:Ri,useLayoutEffect:Ii,useMemo:Ui,useReducer:wi,useRef:Ei,useState:function(){return wi(vi)},useDebugValue:Bi,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[wi(vi)[0],bi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:ji,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Fs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(nc(t,e,a,r),Bs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Fs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(nc(t,e,a,r),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Fs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zs(e,a,r))&&(nc(t,e,r,n),Bs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ls(s):(a=Ma(t)?La:Aa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ea(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ls(s):(s=Ma(t)?La:Aa.current,a.context=Ea(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Us(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),uo(0,t)},n}function mo(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=y.ReactCurrentOwner,vo=!1;function yo(e,t,n,r){t.child=null===e?ws(t,null,n,r):ys(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=pi(e,t,n,r,s,a),n=gi(),null===e||vo?(as&&n&&es(t),t.flags|=1,yo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function No(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jo(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(vo=!0)}}return ko(e,t,n,r,a)}function _o(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Dl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Dl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ka(Dl,Ml),Ml|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ka(Dl,Ml),Ml|=r;return yo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,a){var s=Ma(n)?La:Aa.current;return s=Ea(t,s),Ps(t,a),n=pi(e,t,n,r,s,a),r=gi(),null===e||vo?(as&&r&&es(t),t.flags|=1,yo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Co(e,t,n,r,a){if(Ma(n)){var s=!0;Ra(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ls(c):c=Ea(t,c=Ma(n)?La:Aa.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Ts=!1;var h=t.memoizedState;i.state=h,Us(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Pa.current||Ts?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=Ts||ao(t,n,o,r,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Is(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ls(l):l=Ea(t,l=Ma(n)?La:Aa.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,r,l),Ts=!1,h=t.memoizedState,i.state=h,Us(t,r,i,a);var m=t.memoizedState;o!==u||h!==m||Pa.current||Ts?("function"===typeof f&&(no(t,n,f,r),m=t.memoizedState),(c=Ts||ao(t,n,c,r,h,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,s,a)}function Ao(e,t,n,r,a,s){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ia(t,n,!1),Ho(e,t,s);r=t.stateNode,bo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,a&&Ia(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),$s(e,t.containerInfo)}function Lo(e,t,n,r,a){return fs(),ms(a),t.flags|=256,yo(e,t,n,r),t.child}var Eo,Mo,Do,Oo,To={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ka(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,a,0,null),e=Tc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=To,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(i=Tc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=To,i);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),nc(r,e,a,-1))}return pc(),zo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ga[Xa++]=Ka,Ga[Xa++]=Ja,Ga[Xa++]=$a,Ka=e.id,Ja=e.overflow,$a=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Dc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Dc(r,o):(o=Tc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=To,a}return e=(o=e.child).sibling,a=Dc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ms(r),ys(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function qo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Uo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ka(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),qo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}qo(t,!0,n,null,s);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Ma(t.type)&&Da(),Yo(t),null;case 3:return r=t.stateNode,Ks(),Sa(Pa),Sa(Aa),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Mo(e,t),Yo(t),null;case 5:Qs(t);var a=Xs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yo(t),null}if(e=Xs(Vs.current),us(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Tr.length;a++)zr(Tr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ae(r,i),zr("invalid",r)}for(var l in be(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Y(r),Z(r,i,!0);break;case"textarea":Y(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Eo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)zr(Tr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":K(e,r),a=$(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(i in be(n,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&zr("scroll",e):null!=d&&v(e,i,d,l))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Xs(Gs.current),Xs(Vs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Yo(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return Ks(),Mo(e,t),null===e&&Ur(t.stateNode.containerInfo),Yo(t),null;case 10:return Cs(t.type._context),Yo(t),null;case 19:if(Sa(Zs),null===(i=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Vo(i,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Vo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ka(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Ul&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Yo(t),null}else 2*Je()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ka(Zs,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Ma(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ks(),Sa(Pa),Sa(Aa),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Ks(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Eo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Do=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xs(Vs.current);var s,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in be(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Ko=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[pa],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Ko||Zo(n,t);case 6:var r=dl,a=ul;dl=null,hl(e,t,n),ul=a,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(dl,n.stateNode));break;case 4:r=dl,a=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Ko&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,hl(e,t,n),Ko=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));fl(i,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){_c(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),xl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:pl(t,e),xl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),xl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(a,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):v(a,u,h,d)}switch(l){case"input":Q(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){_c(e,e.return,g)}}break;case 6:if(pl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){_c(e,e.return,g)}}break;case 3:if(pl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:pl(t,e),xl(e);break;case 13:pl(t,e),xl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(ql=Je())),4&r&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(d=Ko)||u,pl(t,e),Ko=d):pl(t,e),xl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qo=e,u=e.child;null!==u;){for(h=Qo=u;null!==Qo;){switch(m=(f=Qo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,Qo=m):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),xl(e),4&r&&ml(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var a=Qo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||$o;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=$o;var c=Ko;if($o=i,(Ko=l)&&!c)for(Qo=a;null!==Qo;)l=(i=Qo).child,22===i.tag&&null!==i.memoizedState?Nl(a):null!==l?(l.return=i,Qo=l):Nl(a);for(;null!==s;)Qo=s,vl(s,t,n),s=s.sibling;Qo=a,$o=o,Ko=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Qo=s):yl(e)}}function yl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ws(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Ko||512&t.flags&&al(t)}catch(f){_c(t,t.return,f)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function Nl(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){_c(t,a,l)}}var s=t.return;try{al(t)}catch(l){_c(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){_c(t,i,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var jl,_l=Math.ceil,Sl=y.ReactCurrentDispatcher,kl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,Al=0,Pl=null,Ll=null,El=0,Ml=0,Dl=_a(0),Ol=0,Tl=null,Rl=0,Il=0,Fl=0,zl=null,Bl=null,ql=0,Ul=1/0,Wl=null,Hl=!1,Vl=null,Yl=null,Gl=!1,Xl=null,$l=0,Kl=0,Jl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&Al)?Je():-1!==Ql?Ql:Ql=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==El?El&-El:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,r){if(50<Kl)throw Kl=0,Jl=null,Error(s(185));xt(e,n,r),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Il|=n),4===Ol&&oc(e,El)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Ul=Je()+500,za&&Ua()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Pl?El:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){za=!0,qa(e)}(lc.bind(null,e)):qa(lc.bind(null,e)),ia((function(){0===(6&Al)&&Ua()})),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ql=-1,Zl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?El:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Al;Al|=2;var i=mc();for(Pl===e&&El===t||(Wl=null,Ul=Je()+500,hc(e,t));;)try{bc();break}catch(l){fc(e,l)}ks(),Sl.current=i,Al=a,null!==Ll?t=0:(Pl=null,El=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Tl,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=mt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Tl,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Bl,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=ql+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Bl,Wl),t);break}wc(e,Bl,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Bl,Wl),r);break}wc(e,Bl,Wl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ic(t)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Fl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(s(327));Nc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Tl,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Wl),rc(e,Je()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Ul=Je()+500,za&&Ua())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Al)&&Nc();var t=Al;Al|=1;var n=Cl.transition,r=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=r,Cl.transition=n,0===(6&(Al=t))&&Ua()}}function uc(){Ml=Dl.current,Sa(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:Ks(),Sa(Pa),Sa(Aa),ni();break;case 5:Qs(r);break;case 4:Ks();break;case 13:case 19:Sa(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Pl=e,Ll=e=Dc(e.current,null),El=Ml=t,Ol=0,Tl=null,Fl=Il=Rl=0,Bl=zl=null,null!==Es){for(t=0;t<Es.length;t++)if(null!==(r=(n=Es[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Es=null}return e}function fc(e,t){for(;;){var n=Ll;try{if(ks(),ri.current=Ji,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,kl.current=null,null===n||null===n.return){Ol=1,Tl=t,Ll=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,t),1&m.mode&&po(i,d,t),c=d;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(i,d,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),ms(lo(c,l));break e}}i=c=lo(c,l),4!==Ol&&(Ol=2),null===zl?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qs(i,fo(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yl||!Yl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,qs(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(y){t=y,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=Ji,null===e?Ji:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||0===(268435455&Rl)&&0===(268435455&Il)||oc(Pl,El)}function gc(e,t){var n=Al;Al|=2;var r=mc();for(Pl===e&&El===t||(Wl=null,hc(e,t));;)try{xc();break}catch(a){fc(e,a)}if(ks(),Al=n,Sl.current=r,null!==Ll)throw Error(s(261));return Pl=null,El=0,Ol}function xc(){for(;null!==Ll;)vc(Ll)}function bc(){for(;null!==Ll&&!$e();)vc(Ll)}function vc(e){var t=jl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?yc(e):Ll=t,kl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Ml)))return void(Ll=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Ol=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=vt,a=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,n,r){do{Nc()}while(null!==Xl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Pl&&(Ll=Pl=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,(function(){return Nc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=Al;Al|=4,kl.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++u===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,x=p.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}p=tl,tl=!1}(e,n),gl(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Ke(),Al=l,vt=o,Cl.transition=i}else e.current=n;if(Gl&&(Gl=!1,Xl=e,$l=a),i=e.pendingLanes,0===i&&(Yl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&$l)&&0!==e.tag&&Nc(),i=e.pendingLanes,0!==(1&i)?e===Jl?Kl++:(Kl=0,Jl=e):Kl=0,Ua()}(e,t,n,r)}finally{Cl.transition=a,vt=r}return null}function Nc(){if(null!==Xl){var e=yt($l),t=Cl.transition,n=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,$l=0,0!==(6&Al))throw Error(s(331));var a=Al;for(Al|=4,Qo=e.current;null!==Qo;){var i=Qo,o=i.child;if(0!==(16&Qo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qo=d;null!==Qo;){var u=Qo;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Qo=h;else for(;null!==Qo;){var f=(u=Qo).sibling,m=u.return;if(sl(u),u===d){Qo=null;break}if(null!==f){f.return=m,Qo=f;break}Qo=m}}}var p=i.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Qo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(i=Qo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Qo=b;break e}Qo=i.return}}var v=e.current;for(Qo=v;null!==Qo;){var y=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Qo=y;else e:for(o=v;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(N){_c(l,l.return,N)}if(l===o){Qo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qo=w;break e}Qo=l.return}}if(Al=a,Ua(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}r=!0}return r}finally{vt=n,Cl.transition=t}}return!1}function jc(e,t,n){e=zs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=zs(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(El&n)===n&&(4===Ol||3===Ol&&(130023424&El)===El&&500>Je()-ql?hc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Os(e,t))&&(xt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Pc(e,t){return Ge(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,r){return new Lc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Tc(n.children,a,i,t);case _:o=8,a|=8;break;case S:return(e=Ec(12,n,t,2|a)).elementType=S,e.lanes=i,e;case P:return(e=Ec(13,n,t,a)).elementType=P,e.lanes=i,e;case L:return(e=Ec(19,n,t,a)).elementType=L,e.lanes=i,e;case D:return Rc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case A:o=11;break e;case E:o=14;break e;case M:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ec(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Tc(e,t,n,r){return(e=Ec(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ec(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,s,i,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ec(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function qc(e){if(!e)return Ca;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Ta(e,n,t)}return t}function Uc(e,t,n,r,a,s,i,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=qc(null),n=e.current,(s=Fs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,a),e.current.lanes=a,xt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(a,t,i))&&(nc(e,a,i,s),Bs(e,a,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fs();break;case 5:Js(t);break;case 1:Ma(t.type)&&Ra(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ka(Ns,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ka(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Io(e,t,n):(ka(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);ka(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Ho(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Ea(t,Aa.current);Ps(t,n),a=pi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Ao(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),yo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===E)return 14}return 2}(r),e=to(r,e),a){case 0:t=ko(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=No(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ko(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Is(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Lo(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=Lo(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Ho(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),So(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Io(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ka(Ns,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Pa.current){t=Ho(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Fs(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),As(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),As(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=Ls(a)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),No(e,t,r,a=to(r.type,a),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Ma(r)?(e=!0,Ra(t)):e=!1,Ps(t,n),so(t,r,a),oo(t,r,a,n),Ao(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return _o(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Hc(i);o.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(i);s.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=i,e[ma]=i.current,Ur(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[ma]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,a,r);return Hc(i)}$c.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},$c.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[ma]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Je()),0===(6&Al)&&(Ul=Je()+500,Ua()))}break;case 13:dc((function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Yc(e,1)}},Nt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},_t=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));G(r),Q(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[va,ya,wa,ke,Ce,cc]},td={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(nd),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,i,o),e[ma]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3488:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,H:()=>r});const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://abaplay-backendv2.onrender.com/api",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SOCKET_URL||"https://abaplay-backendv2.onrender.com"},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,p(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,a)&&!_.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:j.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+A(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(i,t,a,"",(function(e){return e}))):null!=i&&(k(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+A(o=e[c],c);l+=P(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,a,d=s+A(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},D={transition:null},O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:D,ReactCurrentOwner:j};function T(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=T,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=T,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5173:(e,t,n)=>{e.exports=n(1497)()},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,p=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,y(e),!p)if(null!==r(c))p=!0,D(N);else{var t=r(d);null!==t&&O(w,t.startTime-e)}}function N(e,n){p=!1,g&&(g=!1,b(k),k=-1),m=!0;var s=f;try{for(y(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),y(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&O(w,u.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,_=!1,S=null,k=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function L(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?j():(_=!1,S=null)}}else _=!1}if("function"===typeof v)j=function(){v(L)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,M=E.port2;E.port1.onmessage=L,j=function(){M.postMessage(null)}}else j=function(){x(L,0)};function D(e){S=e,_||(_=!0,j())}function O(e,n){k=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,D(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(b(k),k=-1):g=!0,O(w,s-i))):(e.sortIndex=o,n(c,e),p||m||(p=!0,D(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7762:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AcroForm:()=>wt,AcroFormAppearance:()=>vt,AcroFormButton:()=>ht,AcroFormCheckBox:()=>gt,AcroFormChoiceField:()=>lt,AcroFormComboBox:()=>dt,AcroFormEditBox:()=>ut,AcroFormListBox:()=>ct,AcroFormPasswordField:()=>bt,AcroFormPushButton:()=>ft,AcroFormRadioButton:()=>mt,AcroFormTextField:()=>xt,GState:()=>Pe,ShadingPattern:()=>Ee,TilingPattern:()=>Me,default:()=>yn,jsPDF:()=>De});var r=n(2284),a=Uint8Array,s=Uint16Array,i=Int32Array,o=new a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var n=new s(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new i(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)a[o]=o-n[r]<<5|r;return{b:n,r:a}},u=d(o,2),h=u.b,f=u.r;h[28]=258,f[258]=28;for(var m=d(l,0),p=m.b,g=m.r,x=new s(32768),b=0;b<32768;++b){var v=(43690&b)>>1|(21845&b)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,x[b]=((65280&v)>>8|(255&v)<<8)>>1}var y=function(e,t,n){for(var r=e.length,a=0,i=new s(t);a<r;++a)e[a]&&++i[e[a]-1];var o,l=new s(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;if(n){o=new s(1<<t);var c=15-t;for(a=0;a<r;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],h=l[e[a]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)o[x[h]>>c]=d}else for(o=new s(r),a=0;a<r;++a)e[a]&&(o[a]=x[l[e[a]-1]++]>>15-e[a]);return o},w=new a(288);for(b=0;b<144;++b)w[b]=8;for(b=144;b<256;++b)w[b]=9;for(b=256;b<280;++b)w[b]=7;for(b=280;b<288;++b)w[b]=8;var N=new a(32);for(b=0;b<32;++b)N[b]=5;var j=y(w,9,0),_=y(w,9,1),S=y(N,5,0),k=y(N,5,1),C=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},A=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},P=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},L=function(e){return(e+7)/8|0},E=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new a(e.subarray(t,n))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],D=function(e,t,n){var r=new Error(t||M[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,D),!n)throw r;return r},O=function(e,t,n,r){var s=e.length,i=r?r.length:0;if(!s||t.f&&!t.l)return n||new a(0);var d=!n,u=d||2!=t.i,f=t.i;d&&(n=new a(3*s));var m=function(e){var t=n.length;if(e>t){var r=new a(Math.max(2*t,e));r.set(n),n=r}},g=t.f||0,x=t.p||0,b=t.b||0,v=t.l,w=t.d,N=t.m,j=t.n,S=8*s;do{if(!v){g=A(e,x,1);var M=A(e,x+1,3);if(x+=3,!M){var O=e[(V=L(x)+4)-4]|e[V-3]<<8,T=V+O;if(T>s){f&&D(0);break}u&&m(b+O),n.set(e.subarray(V,T),b),t.b=b+=O,t.p=x=8*T,t.f=g;continue}if(1==M)v=_,w=k,N=9,j=5;else if(2==M){var R=A(e,x,31)+257,I=A(e,x+10,15)+4,F=R+A(e,x+5,31)+1;x+=14;for(var z=new a(F),B=new a(19),q=0;q<I;++q)B[c[q]]=A(e,x+3*q,7);x+=3*I;var U=C(B),W=(1<<U)-1,H=y(B,U,1);for(q=0;q<F;){var V,Y=H[A(e,x,W)];if(x+=15&Y,(V=Y>>4)<16)z[q++]=V;else{var G=0,X=0;for(16==V?(X=3+A(e,x,3),x+=2,G=z[q-1]):17==V?(X=3+A(e,x,7),x+=3):18==V&&(X=11+A(e,x,127),x+=7);X--;)z[q++]=G}}var $=z.subarray(0,R),K=z.subarray(R);N=C($),j=C(K),v=y($,N,1),w=y(K,j,1)}else D(1);if(x>S){f&&D(0);break}}u&&m(b+131072);for(var J=(1<<N)-1,Q=(1<<j)-1,Z=x;;Z=x){var ee=(G=v[P(e,x)&J])>>4;if((x+=15&G)>S){f&&D(0);break}if(G||D(2),ee<256)n[b++]=ee;else{if(256==ee){Z=x,v=null;break}var te=ee-254;if(ee>264){var ne=o[q=ee-257];te=A(e,x,(1<<ne)-1)+h[q],x+=ne}var re=w[P(e,x)&Q],ae=re>>4;re||D(3),x+=15&re;K=p[ae];if(ae>3){ne=l[ae];K+=P(e,x)&(1<<ne)-1,x+=ne}if(x>S){f&&D(0);break}u&&m(b+131072);var se=b+te;if(b<K){var ie=i-K,oe=Math.min(K,se);for(ie+b<0&&D(3);b<oe;++b)n[b]=r[ie+b]}for(;b<se;++b)n[b]=n[b-K]}}t.l=v,t.p=Z,t.b=b,t.f=g,v&&(g=1,t.m=N,t.d=w,t.n=j)}while(!g);return b!=n.length&&d?E(n,0,b):n.subarray(0,b)},T=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},R=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},I=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return{t:H,l:0};if(1==i){var l=new a(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,h=1,f=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};h!=i-1;)c=n[n[u].f<n[f].f?u++:f++],d=n[u!=h&&n[u].f<n[f].f?u++:f++],n[h++]={s:-1,f:c.f+d.f,l:c,r:d};var m=o[0].s;for(r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var p=new s(m+1),g=F(n[h-1],p,0);if(g>t){r=0;var x=0,b=g-t,v=1<<b;for(o.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<i;++r){var y=o[r].s;if(!(p[y]>t))break;x+=v-(1<<g-p[y]),p[y]=t}for(x>>=b;x>0;){var w=o[r].s;p[w]<t?x-=1<<t-p[w]++-1:++r}for(;r>=0&&x;--r){var N=o[r].s;p[N]==t&&(--p[N],++x)}g=t}return{t:new a(p),l:g}},F=function(e,t,n){return-1==e.s?Math.max(F(e.l,t,n+1),F(e.r,t,n+1)):t[e.s]=n},z=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new s(++t),r=0,a=e[0],i=1,o=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:n.subarray(0,r),n:t}},B=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},q=function(e,t,n){var r=n.length,a=L(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<r;++s)e[a+s+4]=n[s];return 8*(a+4+r)},U=function(e,t,n,r,a,i,d,u,h,f,m){T(t,m++,n),++a[256];for(var p=I(a,15),g=p.t,x=p.l,b=I(i,15),v=b.t,_=b.l,k=z(g),C=k.c,A=k.n,P=z(v),L=P.c,E=P.n,M=new s(19),D=0;D<C.length;++D)++M[31&C[D]];for(D=0;D<L.length;++D)++M[31&L[D]];for(var O=I(M,7),F=O.t,U=O.l,W=19;W>4&&!F[c[W-1]];--W);var H,V,Y,G,X=f+5<<3,$=B(a,w)+B(i,N)+d,K=B(a,g)+B(i,v)+d+14+3*W+B(M,F)+2*M[16]+3*M[17]+7*M[18];if(h>=0&&X<=$&&X<=K)return q(t,m,e.subarray(h,h+f));if(T(t,m,1+(K<$)),m+=2,K<$){H=y(g,x,0),V=g,Y=y(v,_,0),G=v;var J=y(F,U,0);T(t,m,A-257),T(t,m+5,E-1),T(t,m+10,W-4),m+=14;for(D=0;D<W;++D)T(t,m+3*D,F[c[D]]);m+=3*W;for(var Q=[C,L],Z=0;Z<2;++Z){var ee=Q[Z];for(D=0;D<ee.length;++D){var te=31&ee[D];T(t,m,J[te]),m+=F[te],te>15&&(T(t,m,ee[D]>>5&127),m+=ee[D]>>12)}}}else H=j,V=w,Y=S,G=N;for(D=0;D<u;++D){var ne=r[D];if(ne>255){R(t,m,H[(te=ne>>18&31)+257]),m+=V[te+257],te>7&&(T(t,m,ne>>23&31),m+=o[te]);var re=31&ne;R(t,m,Y[re]),m+=G[re],re>3&&(R(t,m,ne>>5&8191),m+=l[re])}else R(t,m,H[ne]),m+=V[ne]}return R(t,m,H[256]),m+V[256]},W=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),H=new a(0),V=function(e,t,n,r,c,d){var u=d.z||e.length,h=new a(r+u+5*(1+Math.ceil(u/7e3))+c),m=h.subarray(r,h.length-c),p=d.l,x=7&(d.r||0);if(t){x&&(m[0]=d.r>>3);for(var b=W[t-1],v=b>>13,y=8191&b,w=(1<<n)-1,N=d.p||new s(32768),j=d.h||new s(w+1),_=Math.ceil(n/3),S=2*_,k=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<S)&w},C=new i(25e3),A=new s(288),P=new s(32),M=0,D=0,O=d.i||0,T=0,R=d.w||0,I=0;O+2<u;++O){var F=k(O),z=32767&O,B=j[F];if(N[z]=B,j[F]=z,R<=O){var H=u-O;if((M>7e3||T>24576)&&(H>423||!p)){x=U(e,m,0,C,A,P,D,T,I,O-I,x),T=M=D=0,I=O;for(var V=0;V<286;++V)A[V]=0;for(V=0;V<30;++V)P[V]=0}var Y=2,G=0,X=y,$=z-B&32767;if(H>2&&F==k(O-$))for(var K=Math.min(v,H)-1,J=Math.min(32767,O),Q=Math.min(258,H);$<=J&&--X&&z!=B;){if(e[O+Y]==e[O+Y-$]){for(var Z=0;Z<Q&&e[O+Z]==e[O+Z-$];++Z);if(Z>Y){if(Y=Z,G=$,Z>K)break;var ee=Math.min($,Z-2),te=0;for(V=0;V<ee;++V){var ne=O-$+V&32767,re=ne-N[ne]&32767;re>te&&(te=re,B=ne)}}}$+=(z=B)-(B=N[z])&32767}if(G){C[T++]=268435456|f[Y]<<18|g[G];var ae=31&f[Y],se=31&g[G];D+=o[ae]+l[se],++A[257+ae],++P[se],R=O+Y,++M}else C[T++]=e[O],++A[e[O]]}}for(O=Math.max(O,R);O<u;++O)C[T++]=e[O],++A[e[O]];x=U(e,m,p,C,A,P,D,T,I,O-I,x),p||(d.r=7&x|m[x/8|0]<<3,x-=7,d.h=j,d.p=N,d.i=O,d.w=R)}else{for(O=d.w||0;O<u+p;O+=65535){var ie=O+65535;ie>=u&&(m[x/8|0]=p,ie=u),x=q(m,x+1,e.subarray(O,ie))}d.i=u}return E(h,0,r+L(x)+c)},Y=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,s=0|n.length,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=r+=n[i];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},G=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new a(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return V(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,s)},X=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},$=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Y();a.p(t.dictionary),X(e,2,a.d())}},K=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&D(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&D(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function J(e,t){t||(t={});var n=Y();n.p(e);var r=G(e,t,t.dictionary?6:2,4);return $(r,t),X(r,r.length-4,n.d()),r}function Q(e,t){return O(e.subarray(K(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Z="undefined"!=typeof TextDecoder&&new TextDecoder;try{Z.decode(H,{stream:!0})}catch(wn){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var ee=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function te(){ee.console&&"function"==typeof ee.console.log&&ee.console.log.apply(ee.console,arguments)}var ne={log:te,warn:function(e){ee.console&&("function"==typeof ee.console.warn?ee.console.warn.apply(ee.console,arguments):te.call(null,arguments))},error:function(e){ee.console&&("function"==typeof ee.console.error?ee.console.error.apply(ee.console,arguments):te(e))}};function re(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){le(r.response,t,n)},r.onerror=function(){ne.error("could not download file")},r.send()}function ae(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function se(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ie,oe,le=ee.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,r.A)(window))||window!==ee?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ee.URL||ee.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?ae(a.href)?re(e,t,n):se(a,a.target="_blank"):se(a)):(a.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(a.href)}),4e4),setTimeout((function(){se(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(ae(e))re(e,t,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){se(a)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,r.A)(t)&&(ne.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return re(e,t,n);var s="application/octet-stream"===e.type,i=/constructor/i.test(ee.HTMLElement)||ee.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,r.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var e=l.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var c=ee.URL||ee.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});function ce(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function de(e,t){var n=e[0],r=e[1],a=e[2],s=e[3];n=he(n,r,a,s,t[0],7,-680876936),s=he(s,n,r,a,t[1],12,-389564586),a=he(a,s,n,r,t[2],17,606105819),r=he(r,a,s,n,t[3],22,-1044525330),n=he(n,r,a,s,t[4],7,-176418897),s=he(s,n,r,a,t[5],12,1200080426),a=he(a,s,n,r,t[6],17,-1473231341),r=he(r,a,s,n,t[7],22,-45705983),n=he(n,r,a,s,t[8],7,1770035416),s=he(s,n,r,a,t[9],12,-1958414417),a=he(a,s,n,r,t[10],17,-42063),r=he(r,a,s,n,t[11],22,-1990404162),n=he(n,r,a,s,t[12],7,1804603682),s=he(s,n,r,a,t[13],12,-40341101),a=he(a,s,n,r,t[14],17,-1502002290),n=fe(n,r=he(r,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=fe(s,n,r,a,t[6],9,-1069501632),a=fe(a,s,n,r,t[11],14,643717713),r=fe(r,a,s,n,t[0],20,-373897302),n=fe(n,r,a,s,t[5],5,-701558691),s=fe(s,n,r,a,t[10],9,38016083),a=fe(a,s,n,r,t[15],14,-660478335),r=fe(r,a,s,n,t[4],20,-405537848),n=fe(n,r,a,s,t[9],5,568446438),s=fe(s,n,r,a,t[14],9,-1019803690),a=fe(a,s,n,r,t[3],14,-187363961),r=fe(r,a,s,n,t[8],20,1163531501),n=fe(n,r,a,s,t[13],5,-1444681467),s=fe(s,n,r,a,t[2],9,-51403784),a=fe(a,s,n,r,t[7],14,1735328473),n=me(n,r=fe(r,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=me(s,n,r,a,t[8],11,-2022574463),a=me(a,s,n,r,t[11],16,1839030562),r=me(r,a,s,n,t[14],23,-35309556),n=me(n,r,a,s,t[1],4,-1530992060),s=me(s,n,r,a,t[4],11,1272893353),a=me(a,s,n,r,t[7],16,-155497632),r=me(r,a,s,n,t[10],23,-1094730640),n=me(n,r,a,s,t[13],4,681279174),s=me(s,n,r,a,t[0],11,-358537222),a=me(a,s,n,r,t[3],16,-722521979),r=me(r,a,s,n,t[6],23,76029189),n=me(n,r,a,s,t[9],4,-640364487),s=me(s,n,r,a,t[12],11,-421815835),a=me(a,s,n,r,t[15],16,530742520),n=pe(n,r=me(r,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=pe(s,n,r,a,t[7],10,1126891415),a=pe(a,s,n,r,t[14],15,-1416354905),r=pe(r,a,s,n,t[5],21,-57434055),n=pe(n,r,a,s,t[12],6,1700485571),s=pe(s,n,r,a,t[3],10,-1894986606),a=pe(a,s,n,r,t[10],15,-1051523),r=pe(r,a,s,n,t[1],21,-2054922799),n=pe(n,r,a,s,t[8],6,1873313359),s=pe(s,n,r,a,t[15],10,-30611744),a=pe(a,s,n,r,t[6],15,-1560198380),r=pe(r,a,s,n,t[13],21,1309151649),n=pe(n,r,a,s,t[4],6,-145523070),s=pe(s,n,r,a,t[11],10,-1120210379),a=pe(a,s,n,r,t[2],15,718787259),r=pe(r,a,s,n,t[9],21,-343485551),e[0]=je(n,e[0]),e[1]=je(r,e[1]),e[2]=je(a,e[2]),e[3]=je(s,e[3])}function ue(e,t,n,r,a,s){return t=je(je(t,e),je(r,s)),je(t<<a|t>>>32-a,n)}function he(e,t,n,r,a,s,i){return ue(t&n|~t&r,e,t,a,s,i)}function fe(e,t,n,r,a,s,i){return ue(t&r|n&~r,e,t,a,s,i)}function me(e,t,n,r,a,s,i){return ue(t^n^r,e,t,a,s,i)}function pe(e,t,n,r,a,s,i){return ue(n^(t|~r),e,t,a,s,i)}function ge(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)de(r,xe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(de(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,de(r,a),r}function xe(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ie=ee.atob.bind(ee),oe=ee.btoa.bind(ee);var be="0123456789abcdef".split("");function ve(e){for(var t="",n=0;n<4;n++)t+=be[e>>8*n+4&15]+be[e>>8*n&15];return t}function ye(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function we(e){return ge(e).map(ye).join("")}var Ne="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=ve(e[t]);return e.join("")}(ge("hello"));function je(e,t){if(Ne){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function _e(e,t){var n,r,a,s;if(e!==n){for(var i=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+i.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,f=0,m="";for(l=0;l<u;l++)f=(f+(d=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=d,i=o[(o[h]+o[f])%256],m+=String.fromCharCode(t.charCodeAt(l)^i);return m}var Se={print:4,modify:8,copy:16,"annot-forms":32};function ke(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach((function(e){if(void 0!==Se.perm)throw new Error("Invalid permission: "+e);a+=Se[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=we(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_e(this.encryptionKey,this.padding)}function Ce(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function Ae(e){if("object"!==(0,r.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var i=t[n][s];try{i[0].apply(e,r)}catch(n){ee.console&&ne.error("jsPDF PubSub Error",n.message,n)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pe(e){if(!(this instanceof Pe))return new Pe(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Le(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ee(e,t,n,r,a){if(!(this instanceof Ee))return new Ee(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Le.call(this,r,a)}function Me(e,t,n,r,a){if(!(this instanceof Me))return new Me(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Le.call(this,r,a)}function De(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;"object"===(0,r.A)(e=e||{})&&(n=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(!0===i?["FlateEncode"]:o),a=a||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=Ae;var p="1.3",g=m.__private__.getPdfVersion=function(){return p};m.__private__.setPdfVersion=function(e){p=e};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var b=m.__private__.getPageFormat=function(e){return x[e]};s=s||"a4";var v="compat",y="advanced",w=v;function N(){this.saveGraphicsState(),Q(new He(be,0,0,-be,0,jn()*be).toString()+" cm"),this.setFontSize(this.getFontSize()/be),d="n",w=y}function j(){this.restoreGraphicsState(),d="S",w=v}var _=m.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};m.advancedAPI=function(e){var t=w===v;return t&&N.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},m.compatAPI=function(e){var t=w===y;return t&&j.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},m.isAdvancedAPI=function(){return w===y};var S,k=function(e){if(w!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=m.roundToPrecision=m.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};S=m.hpf=m.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var A=m.f2=m.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},P=m.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},L=m.scale=m.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?e*be:w===y?e:void 0},E=function(e){return L(function(e){return w===v?jn()-e:w===y?e:void 0}(e))};m.__private__.setPrecision=m.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var M,D="00000000000000000000000000000000",O=m.__private__.getFileId=function(){return D},T=m.__private__.setFileId=function(e){return D=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():D.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==u&&(Mt=new ke(u.userPermissions,u.userPassword,u.ownerPassword,D)),D};m.setFileId=function(e){return T(e),this},m.getFileId=function(){return O()};var R=m.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),s=[n,q(r),"'",q(a),"'"].join("");return["D:",e.getFullYear(),q(e.getMonth()+1),q(e.getDate()),q(e.getHours()),q(e.getMinutes()),q(e.getSeconds()),s].join("")},I=m.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,s,i,0)},F=m.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=R(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return M=t},z=m.__private__.getCreationDate=function(e){var t=M;return"jsDate"===e&&(t=I(M)),t};m.setCreationDate=function(e){return F(e),this},m.getCreationDate=function(e){return z(e)};var B,q=m.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=m.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},W=0,H=[],V=[],Y=0,G=[],X=[],$=!1,K=V;m.__private__.setCustomOutputDestination=function(e){$=!0,K=e};var J=function(e){$||(K=e)};m.__private__.resetCustomOutputDestination=function(){$=!1,K=V};var Q=m.__private__.out=function(e){return e=e.toString(),Y+=e.length+1,K.push(e),K},Z=m.__private__.write=function(e){return Q(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},te=m.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return re};var ae=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(e){return ae=w===y?e/be:e,this};var se,ie=m.__private__.getFontSize=m.getFontSize=function(){return w===v?ae:ae*be},de=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(e){return de=e,this},m.__private__.getR2L=m.getR2L=function(){return de};var ue,he=m.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))se=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');se=e}else se=parseInt(e,10)};m.__private__.getZoomMode=function(){return se};var fe,me=m.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ue=e};m.__private__.getPageMode=function(){return ue};var pe=m.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');fe=e};m.__private__.getLayoutMode=function(){return fe},m.__private__.setDisplayMode=m.setDisplayMode=function(e,t,n){return he(e),pe(t),me(n),this};var ge={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ge).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ge[e]},m.__private__.getDocumentProperties=function(){return ge},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(e){for(var t in ge)ge.hasOwnProperty(t)&&e[t]&&(ge[t]=e[t]);return this},m.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ge).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ge[e]=t};var xe,be,ve,ye,we,Ne={},je={},_e=[],Se={},Le={},Oe={},Te={},Re=null,Ie=0,Fe=[],ze=new Ae(m),Be=e.hotfixes||[],qe={},Ue={},We=[],He=function e(t,n,r,a,s,i){if(!(this instanceof e))return new e(t,n,r,a,s,i);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(s)&&(s=0),isNaN(i)&&(i=0),this._matrix=[t,n,r,a,s,i]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),He.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(e)},He.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new He(t,n,r,a,s,i)},He.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*n+(t/=i)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new He(i,0,0,l,0,0),translate:new He(1,0,0,1,a,s),rotate:new He(e,t,-t,e,0,0),skew:new He(1,0,o,1,0,0)}},He.prototype.toString=function(e){return this.join(" ")},He.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,i=1/(e*r-t*n),o=r*i,l=-t*i,c=-n*i,d=e*i;return new He(o,l,c,d,-o*a-c*s,-l*a-d*s)},He.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new gn(t,n)},He.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new gn(e.x+e.w,e.y+e.h));return new xn(t.x,t.y,n.x-t.x,n.y-t.y)},He.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty;return new He(e,t,n,r,a,s)},m.Matrix=He;var Ve=m.matrixMult=function(e,t){return t.multiply(e)},Ye=new He(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ye;var Ge=function(e,t){if(!Le[e]){var n=(t instanceof Ee?"Sh":"P")+(Object.keys(Se).length+1).toString(10);t.id=n,Le[e]=n,Se[n]=t,ze.publish("addPattern",t)}};m.ShadingPattern=Ee,m.TilingPattern=Me,m.addShadingPattern=function(e,t){return k("addShadingPattern()"),Ge(e,t),this},m.beginTilingPattern=function(e){k("beginTilingPattern()"),vn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},m.endTilingPattern=function(e,t){k("endTilingPattern()"),t.stream=X[B].join("\n"),Ge(e,t),ze.publish("endTilingPattern",t),We.pop().restore()};var Xe,$e=m.__private__.newObject=function(){var e=Ke();return Je(e,!0),e},Ke=m.__private__.newObjectDeferred=function(){return W++,H[W]=function(){return Y},W},Je=function(e,t){return t="boolean"==typeof t&&t,H[e]=Y,t&&Q(e+" 0 obj"),e},Qe=m.__private__.newAdditionalObject=function(){var e={objId:Ke(),content:""};return G.push(e),e},Ze=Ke(),et=Ke(),tt=m.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},nt=m.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,a=e.ch2,s=e.ch3,i=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var l=new ce(n);if(l.ok)n=l.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,a=c>>8&255,s=255&c}if(void 0===a||void 0===i&&n===a&&a===s)if("string"==typeof n)t=n+" "+o[0];else if(2===e.precision)t=A(n/255)+" "+o[0];else t=P(n/255)+" "+o[0];else if(void 0===i||"object"===(0,r.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof n)t=[n,a,s,o[1]].join(" ");else if(2===e.precision)t=[A(n/255),A(a/255),A(s/255),o[1]].join(" ");else t=[P(n/255),P(a/255),P(s/255),o[1]].join(" ")}else if("string"==typeof n)t=[n,a,s,i,o[2]].join(" ");else if(2===e.precision)t=[A(n),A(a),A(s),A(i),o[2]].join(" ");else t=[P(n),P(a),P(s),P(i),o[2]].join(" ");return t},rt=m.__private__.getFilters=function(){return o},at=m.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||rt(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,s=t.length,i=e.objectId,o=function(e){return e};if(null!==u&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=Mt.encryptor(i,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==De.API.processDataByFilters?De.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:s})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var f=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)f.push("null");f.push(c[h].value),c[h].value="["+f.join(" ")+"]"}}Q("<<");for(var p=0;p<c.length;p++)Q("/"+c[p].key+" "+c[p].value);Q(">>"),0!==l.data.length&&(Q("stream"),Q(o(l.data)),Q("endstream"))},st=m.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Je(r,!0),Q("<</Type /Page"),Q("/Parent "+e.rootDictionaryObjId+" 0 R"),Q("/Resources "+e.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(S(e.mediaBox.bottomLeftX))+" "+parseFloat(S(e.mediaBox.bottomLeftY))+" "+S(e.mediaBox.topRightX)+" "+S(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Q("/CropBox ["+S(e.cropBox.bottomLeftX)+" "+S(e.cropBox.bottomLeftY)+" "+S(e.cropBox.topRightX)+" "+S(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Q("/BleedBox ["+S(e.bleedBox.bottomLeftX)+" "+S(e.bleedBox.bottomLeftY)+" "+S(e.bleedBox.topRightX)+" "+S(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Q("/TrimBox ["+S(e.trimBox.bottomLeftX)+" "+S(e.trimBox.bottomLeftY)+" "+S(e.trimBox.topRightX)+" "+S(e.trimBox.topRightY)+"]"),null!==e.artBox&&Q("/ArtBox ["+S(e.artBox.bottomLeftX)+" "+S(e.artBox.bottomLeftY)+" "+S(e.artBox.topRightX)+" "+S(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Q("/UserUnit "+e.userUnit),ze.publish("putPage",{objId:r,pageContext:Fe[t],pageNumber:t,page:n}),Q("/Contents "+a+" 0 R"),Q(">>"),Q("endobj");var s=n.join("\n");return w===y&&(s+="\nQ"),Je(a,!0),at({data:s,filters:rt(),objectId:a}),Q("endobj"),r},it=m.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Ie;e++)Fe[e].objId=Ke(),Fe[e].contentsObjId=Ke();for(e=1;e<=Ie;e++)n.push(st({number:e,data:X[e],objId:Fe[e].objId,contentsObjId:Fe[e].contentsObjId,mediaBox:Fe[e].mediaBox,cropBox:Fe[e].cropBox,bleedBox:Fe[e].bleedBox,trimBox:Fe[e].trimBox,artBox:Fe[e].artBox,userUnit:Fe[e].userUnit,rootDictionaryObjId:Ze,resourceDictionaryObjId:et}));Je(Ze,!0),Q("<</Type /Pages");var r="/Kids [";for(t=0;t<Ie;t++)r+=n[t]+" 0 R ";Q(r+"]"),Q("/Count "+Ie),Q(">>"),Q("endobj"),ze.publish("postPutPages")},ot=function(e){ze.publish("putFont",{font:e,out:Q,newObject:$e,putStream:at}),!0!==e.isAlreadyPutted&&(e.objectNumber=$e(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Ce(e.postScriptName)),Q("/Subtype /Type1"),"string"==typeof e.encoding&&Q("/Encoding /"+e.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},lt=function(e){e.objectNumber=$e();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[S(e.x),S(e.y),S(e.x+e.width),S(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");at({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Q("endobj")},ct=function(e,t){t||(t=21);var n=$e(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,f=e[l+1].color;o+=U(Math.round((1-u)*h[0]+u*f[0]).toString(16))+U(Math.round((1-u)*h[1]+u*f[1]).toString(16))+U(Math.round((1-u)*h[2]+u*f[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Q("endobj"),e.objectNumber=$e(),Q("<< /ShadingType "+e.type),Q("/ColorSpace /DeviceRGB");var s="/Coords ["+S(parseFloat(e.coords[0]))+" "+S(parseFloat(e.coords[1]))+" ";2===e.type?s+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3])):s+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3]))+" "+S(parseFloat(e.coords[4]))+" "+S(parseFloat(e.coords[5])),Q(s+="]"),e.matrix&&Q("/Matrix ["+e.matrix.toString()+"]"),Q("/Function "+n+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},dt=function(e,t){var n=Ke(),r=$e();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(S).join(" ")+"]"}),a.push({key:"XStep",value:S(e.xStep)}),a.push({key:"YStep",value:S(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),at({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),Q("endobj")},ut=function(e){for(var t in e.objectNumber=$e(),Q("<<"),e)switch(t){case"opacity":Q("/ca "+A(e[t]));break;case"stroke-opacity":Q("/CA "+A(e[t]))}Q(">>"),Q("endobj")},ht=function(e){Je(e.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Q("/Font <<"),Ne)Ne.hasOwnProperty(e)&&(!1===h||!0===h&&f.hasOwnProperty(e))&&Q("/"+e+" "+Ne[e].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(Se).length>0){for(var e in Q("/Shading <<"),Se)Se.hasOwnProperty(e)&&Se[e]instanceof Ee&&Se[e].objectNumber>=0&&Q("/"+e+" "+Se[e].objectNumber+" 0 R");ze.publish("putShadingPatternDict"),Q(">>")}}(),function(e){if(Object.keys(Se).length>0){for(var t in Q("/Pattern <<"),Se)Se.hasOwnProperty(t)&&Se[t]instanceof m.TilingPattern&&Se[t].objectNumber>=0&&Se[t].objectNumber<e&&Q("/"+t+" "+Se[t].objectNumber+" 0 R");ze.publish("putTilingPatternDict"),Q(">>")}}(e.objectOid),function(){if(Object.keys(Oe).length>0){var e;for(e in Q("/ExtGState <<"),Oe)Oe.hasOwnProperty(e)&&Oe[e].objectNumber>=0&&Q("/"+e+" "+Oe[e].objectNumber+" 0 R");ze.publish("putGStateDict"),Q(">>")}}(),function(){for(var e in Q("/XObject <<"),qe)qe.hasOwnProperty(e)&&qe[e].objectNumber>=0&&Q("/"+e+" "+qe[e].objectNumber+" 0 R");ze.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},ft=function(){var e=[];(function(){for(var e in Ne)Ne.hasOwnProperty(e)&&(!1===h||!0===h&&f.hasOwnProperty(e))&&ot(Ne[e])})(),function(){var e;for(e in Oe)Oe.hasOwnProperty(e)&&ut(Oe[e])}(),function(){for(var e in qe)qe.hasOwnProperty(e)&&lt(qe[e])}(),function(e){var t;for(t in Se)Se.hasOwnProperty(t)&&(Se[t]instanceof Ee?ct(Se[t]):Se[t]instanceof Me&&dt(Se[t],e))}(e),ze.publish("putResources"),e.forEach(ht),ht({resourcesOid:et,objectOid:Number.MAX_SAFE_INTEGER}),ze.publish("postPutResources")},mt=function(e){je[e.fontName]=je[e.fontName]||{},je[e.fontName][e.fontStyle]=e.id},pt=function(e,t,n,r,a){var s={id:"F"+(Object.keys(Ne).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return ze.publish("addFont",{font:s,instance:this}),Ne[s.id]=s,mt(s),s.id},gt=m.__private__.pdfEscape=m.pdfEscape=function(e,t){return function(e,t){var n,r,a,s,i,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&Ne[xe].metadata&&Ne[xe].metadata[a]&&Ne[xe].metadata[a].encoding&&(s=Ne[xe].metadata[a].encoding,!i&&Ne[xe].encoding&&(i=Ne[xe].encoding),!i&&s.codePages&&(i=s.codePages[0]),"string"==typeof i&&(i=s[i]),i)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=i[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=m.__private__.beginPage=function(e){X[++Ie]=[],Fe[Ie]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},yt(Ie),J(X[B])},bt=function(e,t){var r,a,i;switch(n=t||n,"string"==typeof e&&(r=b(e.toLowerCase()),Array.isArray(r)&&(a=r[0],i=r[1])),Array.isArray(e)&&(a=e[0]*be,i=e[1]*be),isNaN(a)&&(a=s[0],i=s[1]),(a>14400||i>14400)&&(ne.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),i=Math.min(14400,i)),s=[a,i],n.substr(0,1)){case"l":i>a&&(s=[i,a]);break;case"p":a>i&&(s=[i,a])}xt(s),Qt(Kt),Q(on),0!==fn&&Q(fn+" J"),0!==mn&&Q(mn+" j"),ze.publish("addPage",{pageNumber:Ie})},vt=function(e){e>0&&e<=Ie&&(X.splice(e,1),Fe.splice(e,1),Ie--,B>Ie&&(B=Ie),this.setPage(B))},yt=function(e){e>0&&e<=Ie&&(B=e)},wt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return X.length-1},Nt=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:Ne[xe].fontName,t=void 0!==t?t:Ne[xe].fontStyle,r=e.toLowerCase(),void 0!==je[r]&&void 0!==je[r][t]?a=je[r][t]:void 0!==je[e]&&void 0!==je[e][t]?a=je[e][t]:!1===n.disableWarning&&ne.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=je.times[t])&&(a=je.times.normal),a},jt=m.__private__.putInfo=function(){var e=$e(),t=function(e){return e};for(var n in null!==u&&(t=Mt.encryptor(e,0)),Q("<<"),Q("/Producer ("+gt(t("jsPDF "+De.version))+")"),ge)ge.hasOwnProperty(n)&&ge[n]&&Q("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+gt(t(ge[n]))+")");Q("/CreationDate ("+gt(t(M))+")"),Q(">>"),Q("endobj")},_t=m.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Ze;switch($e(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+t+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+se;"%"===n.substr(n.length-1)&&(se=parseInt(se)/100),"number"==typeof se&&Q("/OpenAction [3 0 R /XYZ null null "+A(se)+"]")}switch(fe||(fe="continuous"),fe){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}ue&&Q("/PageMode /"+ue),ze.publish("putCatalog"),Q(">>"),Q("endobj")},St=m.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(W+1)),Q("/Root "+W+" 0 R"),Q("/Info "+(W-1)+" 0 R"),null!==u&&Q("/Encrypt "+Mt.oid+" 0 R"),Q("/ID [ <"+D+"> <"+D+"> ]"),Q(">>")},kt=m.__private__.putHeader=function(){Q("%PDF-"+p),Q("%\xba\xdf\xac\xe0")},Ct=m.__private__.putXRef=function(){var e="0000000000";Q("xref"),Q("0 "+(W+1)),Q("0000000000 65535 f ");for(var t=1;t<=W;t++)"function"==typeof H[t]?Q((e+H[t]()).slice(-10)+" 00000 n "):void 0!==H[t]?Q((e+H[t]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},At=m.__private__.buildDocument=function(){W=0,Y=0,V=[],H=[],G=[],Ze=Ke(),et=Ke(),J(V),ze.publish("buildDocument"),kt(),it(),function(){ze.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];Je(t.objId,!0),Q(t.content),Q("endobj")}ze.publish("postPutAdditionalObjects")}(),ft(),null!==u&&(Mt.oid=$e(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Mt.v),Q("/R "+Mt.r),Q("/U <"+Mt.toHexString(Mt.U)+">"),Q("/O <"+Mt.toHexString(Mt.O)+">"),Q("/P "+Mt.P),Q(">>"),Q("endobj")),jt(),_t();var e=Y;return Ct(),St(),Q("startxref"),Q(""+e),Q("%%EOF"),J(X[B]),V.join("\n")},Pt=m.__private__.getBlob=function(e){return new Blob([te(e)],{type:"application/pdf"})},Lt=m.output=m.__private__.output=(Xe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return At();case"save":m.save(t.filename);break;case"arraybuffer":return te(At());case"blob":return Pt(At());case"bloburi":case"bloburl":if(void 0!==ee.URL&&"function"==typeof ee.URL.createObjectURL)return ee.URL&&ee.URL.createObjectURL(Pt(At()))||void 0;ne.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=At();try{n=oe(r)}catch(e){n=oe(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,s="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=ee.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=ee.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ee))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=ee.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return ee.document.location.href=this.output("datauristring",t);default:return null}},Xe.foo=function(){try{return Xe.apply(this,arguments)}catch(Xe){var e=Xe.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Xe.message;if(!ee.console)throw new Error(t);ee.console.error(t,Xe),ee.alert&&alert(t)}},Xe.foo.bar=Xe,Xe.foo),Et=function(e){return!0===Array.isArray(Be)&&Be.indexOf(e)>-1};switch(a){case"pt":be=1;break;case"mm":be=72/25.4;break;case"cm":be=72/2.54;break;case"in":be=72;break;case"px":be=1==Et("px_scaling")?.75:96/72;break;case"pc":case"em":be=12;break;case"ex":be=6;break;default:if("number"!=typeof a)throw new Error("Invalid unit: "+a);be=a}var Mt=null;F(),T();var Dt=m.__private__.getPageInfo=m.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Fe[e].objId,pageNumber:e,pageContext:Fe[e]}},Ot=m.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Fe)if(Fe[t].objId===e)break;return Dt(t)},Tt=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Fe[B].objId,pageNumber:B,pageContext:Fe[B]}};m.addPage=function(){return bt.apply(this,arguments),this},m.setPage=function(){return yt.apply(this,arguments),J.call(this,X[B]),this},m.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},m.movePage=function(e,t){var n,r;if(e>t){n=X[e],r=Fe[e];for(var a=e;a>t;a--)X[a]=X[a-1],Fe[a]=Fe[a-1];X[t]=n,Fe[t]=r,this.setPage(t)}else if(e<t){n=X[e],r=Fe[e];for(var s=e;s<t;s++)X[s]=X[s+1],Fe[s]=Fe[s+1];X[t]=n,Fe[t]=r,this.setPage(t)}return this},m.deletePage=function(){return vt.apply(this,arguments),this},m.__private__.text=m.text=function(e,t,n,a,s){var i,o,l,c,d,u,h,m,p,g=(a=a||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var x=n;n=t,t=e,e=x}if(arguments[3]instanceof He==0?(l=arguments[4],c=arguments[5],"object"===(0,r.A)(h=arguments[3])&&null!==h||("string"==typeof l&&(c=l,l=null),"string"==typeof h&&(c=h,h=null),"number"==typeof h&&(l=h,h=null),a={flags:h,angle:l,align:c})):(k("The transform parameter of text() with a Matrix value"),p=s),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var b,v="",N="number"==typeof a.lineHeightFactor?a.lineHeightFactor:$t,j=g.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(a.TabLen||9).join(" ")),gt(e,h)}function C(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function A(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,s=e.concat(),i=[],o=s.length;o--;)"string"==typeof(r=s.shift())?i.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),i.push([a[0],a[1],a[2]]));n=i}return n}var P=!1,E=!0;if("string"==typeof e)P=!0;else if(Array.isArray(e)){var M=e.concat();o=[];for(var D,O=M.length;O--;)("string"!=typeof(D=M.shift())||Array.isArray(D)&&"string"!=typeof D[0])&&(E=!1);P=E}if(!1===P)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var T=ae/g.internal.scaleFactor,R=T*(N-1);switch(a.baseline){case"bottom":n-=R;break;case"top":n+=T-R;break;case"hanging":n+=T-2*R;break;case"middle":n+=T/2-R}if((u=a.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(g.splitTextToSize(t,u))}),[]))),i={text:e,x:t,y:n,options:a,mutex:{pdfEscape:gt,activeFontKey:xe,fonts:Ne,activeFontSize:ae}},ze.publish("preProcessText",i),e=i.text,l=(a=i.options).angle,p instanceof He==0&&l&&"number"==typeof l){l*=Math.PI/180,0===a.rotationDirection&&(l=-l),w===y&&(l=-l);var I=Math.cos(l),F=Math.sin(l);p=new He(I,F,-F,I,0,0)}else l&&l instanceof He&&(p=l);w!==y||p||(p=Ye),void 0!==(d=a.charSpace||un)&&(v+=S(L(d))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(m=a.horizontalScale)&&(v+=S(100*m)+" Tz\n"),a.lang;var z=-1,B=void 0!==a.renderingMode?a.renderingMode:a.stroke,q=g.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":z=0;break;case 1:case!0:case"stroke":z=1;break;case 2:case"fillThenStroke":z=2;break;case 3:case"invisible":z=3;break;case 4:case"fillAndAddForClipping":z=4;break;case 5:case"strokeAndAddPathForClipping":z=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":z=6;break;case 7:case"addToPathForClipping":z=7}var U=void 0!==q.usedRenderingMode?q.usedRenderingMode:-1;-1!==z?v+=z+" Tr\n":-1!==U&&(v+="0 Tr\n"),-1!==z&&(q.usedRenderingMode=z),c=a.align||"left";var W,H=ae*N,V=g.internal.pageSize.getWidth(),Y=Ne[xe];d=a.charSpace||un,u=a.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},a.flags);var G=[],X=function(e){return g.getStringUnitWidth(e,{font:Y,charSpace:d,fontSize:ae,doKerning:!1})*ae/j};if("[object Array]"===Object.prototype.toString.call(e)){var $;o=C(e),"left"!==c&&(W=o.map(X));var K,J=0;if("right"===c){t-=W[0],e=[],O=o.length;for(var Z=0;Z<O;Z++)0===Z?(K=nn(t),$=rn(n)):(K=L(J-W[Z]),$=-H),e.push([o[Z],K,$]),J=W[Z]}else if("center"===c){t-=W[0]/2,e=[],O=o.length;for(var ee=0;ee<O;ee++)0===ee?(K=nn(t),$=rn(n)):(K=L((J-W[ee])/2),$=-H),e.push([o[ee],K,$]),J=W[ee]}else if("left"===c){e=[],O=o.length;for(var te=0;te<O;te++)e.push(o[te])}else if("justify"===c&&"Identity-H"===Y.encoding){e=[],O=o.length,u=0!==u?u:V;for(var ne=0,re=0;re<O;re++)if($=0===re?rn(n):-H,K=0===re?nn(t):ne,re<O-1){var se=L((u-W[re])/(o[re].split(" ").length-1)),ie=o[re].split(" ");e.push([ie[0]+" ",K,$]),ne=0;for(var oe=1;oe<ie.length;oe++){var le=(X(ie[oe-1]+" "+ie[oe])-X(ie[oe]))*j+se;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),ne-=le}}else e.push([o[re],K,$]);e.push(["",ne,0])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],O=o.length,u=0!==u?u:V,re=0;re<O;re++)$=0===re?rn(n):-H,K=0===re?nn(t):0,re<O-1?G.push(S(L((u-W[re])/(o[re].split(" ").length-1)))):G.push(0),e.push([o[re],K,$])}}!0===("boolean"==typeof a.R2L?a.R2L:de)&&(e=A(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),i={text:e,x:t,y:n,options:a,mutex:{pdfEscape:gt,activeFontKey:xe,fonts:Ne,activeFontSize:ae}},ze.publish("postProcessText",i),e=i.text,b=i.mutex.isHex||!1;var ce=Ne[xe].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=A(e,(function(e,t,n){return[_(e),t,n]}))),o=C(e),e=[];for(var ue,he,fe,me=Array.isArray(o[0])?1:0,pe="",ge=function(e,t,n){var r="";return n instanceof He?(n="number"==typeof a.angle?Ve(n,new He(1,0,0,1,e,t)):Ve(new He(1,0,0,1,e,t),n),w===y&&(n=Ve(new He(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=S(e)+" "+S(t)+" Td\n",r},be=0;be<o.length;be++){switch(pe="",me){case 1:fe=(b?"<":"(")+o[be][0]+(b?">":")"),ue=parseFloat(o[be][1]),he=parseFloat(o[be][2]);break;case 0:fe=(b?"<":"(")+o[be]+(b?">":")"),ue=nn(t),he=rn(n)}void 0!==G&&void 0!==G[be]&&(pe=G[be]+" Tw\n"),0===be?e.push(pe+ge(ue,he,p)+fe):0===me?e.push(pe+fe):1===me&&e.push(pe+ge(ue,he,p)+fe)}e=0===me?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=xe+" "+ae+" Tf\n",ve+=S(ae*N)+" TL\n",ve+=cn+"\n",ve+=v,ve+=e,Q(ve+="ET"),f[xe]=!0,g};var Rt=m.__private__.clip=m.clip=function(e){return Q("evenodd"===e?"W*":"W"),this};m.clipEvenOdd=function(){return Rt("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Q("n"),this};var It=m.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(e){return It(e)&&(d=e),this};var Ft=m.__private__.getStyle=m.getStyle=function(e){var t=d;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},zt=m.close=function(){return Q("h"),this};m.stroke=function(){return Q("S"),this},m.fill=function(e){return Bt("f",e),this},m.fillEvenOdd=function(e){return Bt("f*",e),this},m.fillStroke=function(e){return Bt("B",e),this},m.fillStrokeEvenOdd=function(e){return Bt("B*",e),this};var Bt=function(e,t){"object"===(0,r.A)(t)?Wt(t,e):Q(e)},qt=function(e){null===e||w===y&&void 0===e||(e=Ft(e),Q(e))};function Ut(e,t,n,r,a){var s=new Me(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);s.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Ge(i,s),s}var Wt=function(e,t){var n=Le[e.key],r=Se[n];if(r instanceof Ee)Q("q"),Q(Ht(t)),r.gState&&m.setGState(r.gState),Q(e.matrix.toString()+" cm"),Q("/"+n+" sh"),Q("Q");else if(r instanceof Me){var a=new He(1,0,0,-1,0,jn());e.matrix&&(a=a.multiply(e.matrix||Ye),n=Ut.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),Q("q"),Q("/Pattern cs"),Q("/"+n+" scn"),r.gState&&m.setGState(r.gState),Q(t),Q("Q")}},Ht=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vt=m.moveTo=function(e,t){return Q(S(L(e))+" "+S(E(t))+" m"),this},Yt=m.lineTo=function(e,t){return Q(S(L(e))+" "+S(E(t))+" l"),this},Gt=m.curveTo=function(e,t,n,r,a,s){return Q([S(L(e)),S(E(t)),S(L(n)),S(E(r)),S(L(a)),S(E(s)),"c"].join(" ")),this};m.__private__.line=m.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!It(a))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},m.__private__.lines=m.lines=function(e,t,n,r,a,s){var i,o,l,c,d,u,h,f,m,p,g,x;if("number"==typeof e&&(x=n,n=t,t=e,e=x),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!It(a)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Vt(t,n),i=r[0],o=r[1],c=e.length,p=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(p=d[0]*i+p,g=d[1]*o+g,Yt(p,g)):(u=d[0]*i+p,h=d[1]*o+g,f=d[2]*i+p,m=d[3]*o+g,p=d[4]*i+p,g=d[5]*o+g,Gt(u,h,f,m,p,g));return s&&zt(),qt(a),this},m.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Vt(r[0],r[1]);break;case"l":Yt(r[0],r[1]);break;case"c":Gt.apply(this,r);break;case"h":zt()}}return this},m.__private__.rect=m.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!It(a))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(r=-r),Q([S(L(e)),S(E(t)),S(L(n)),S(L(r)),"re"].join(" ")),qt(a),this},m.__private__.triangle=m.triangle=function(e,t,n,r,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!It(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,s-r],[e-a,t-s]],e,t,[1,1],i,!0),this},m.__private__.roundedRect=m.roundedRect=function(e,t,n,r,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!It(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*a,0],[a*o,0,a,s-s*o,a,s],[0,r-2*s],[0,s*o,-a*o,s,-a,s],[2*a-n,0],[-a*o,0,-a,-s*o,-a,-s],[0,2*s-r],[0,-s*o,a*o,-s,a,-s]],e+a,t,[1,1],i,!0),this},m.__private__.ellipse=m.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!It(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*r;return Vt(e+n,t),Gt(e+n,t-i,e+s,t-r,e,t-r),Gt(e-s,t-r,e-n,t-i,e-n,t),Gt(e-n,t+i,e-s,t+r,e,t+r),Gt(e+s,t+r,e+n,t+i,e+n,t),qt(a),this},m.__private__.circle=m.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!It(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},m.setFont=function(e,t,n){return n&&(t=_(t,n)),xe=Nt(e,t,{disableWarning:!1}),this};var Xt=m.__private__.getFont=m.getFont=function(){return Ne[Nt.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var e,t,n={};for(e in je)if(je.hasOwnProperty(e))for(t in n[e]=[],je[e])je[e].hasOwnProperty(t)&&n[e].push(t);return n},m.addFont=function(e,t,n,r,a){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=_(n,r)),pt.call(this,e,t,n,a=a||"Identity-H")};var $t,Kt=e.lineWidth||.200025,Jt=m.__private__.getLineWidth=m.getLineWidth=function(){return Kt},Qt=m.__private__.setLineWidth=m.setLineWidth=function(e){return Kt=e,Q(S(L(e))+" w"),this};m.__private__.setLineDash=De.API.setLineDash=De.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return S(L(e))})).join(" "),t=S(L(t)),Q("["+e+"] "+t+" d"),this};var Zt=m.__private__.getLineHeight=m.getLineHeight=function(){return ae*$t};m.__private__.getLineHeight=m.getLineHeight=function(){return ae*$t};var en=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&($t=e),this},tn=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return $t};en(e.lineHeight);var nn=m.__private__.getHorizontalCoordinate=function(e){return L(e)},rn=m.__private__.getVerticalCoordinate=function(e){return w===y?e:Fe[B].mediaBox.topRightY-Fe[B].mediaBox.bottomLeftY-L(e)},an=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(e){return S(nn(e))},sn=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(e){return S(rn(e))},on=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return tt(on)},m.__private__.setStrokeColor=m.setDrawColor=function(e,t,n,r){return on=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Q(on),this};var ln=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return tt(ln)},m.__private__.setFillColor=m.setFillColor=function(e,t,n,r){return ln=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Q(ln),this};var cn=e.textColor||"0 g",dn=m.__private__.getTextColor=m.getTextColor=function(){return tt(cn)};m.__private__.setTextColor=m.setTextColor=function(e,t,n,r){return cn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var un=e.charSpace,hn=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(un||0)};m.__private__.setCharSpace=m.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return un=e,this};var fn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fn=t,Q(t+" J"),this};var mn=0;m.__private__.setLineJoin=m.setLineJoin=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mn=t,Q(t+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(S(L(e))+" M"),this},m.GState=Pe,m.setGState=function(e){(e="string"==typeof e?Oe[Te[e]]:pn(null,e)).equals(Re)||(Q("/"+e.id+" gs"),Re=e)};var pn=function(e,t){if(!e||!Te[e]){var n=!1;for(var r in Oe)if(Oe.hasOwnProperty(r)&&Oe[r].equals(t)){n=!0;break}if(n)t=Oe[r];else{var a="GS"+(Object.keys(Oe).length+1).toString(10);Oe[a]=t,t.id=a}return e&&(Te[e]=t.id),ze.publish("addGState",t),t}};m.addGState=function(e,t){return pn(e,t),this},m.saveGraphicsState=function(){return Q("q"),_e.push({key:xe,size:ae,color:cn}),this},m.restoreGraphicsState=function(){Q("Q");var e=_e.pop();return xe=e.key,ae=e.size,cn=e.color,Re=null,this},m.setCurrentTransformationMatrix=function(e){return Q(e.toString()+" cm"),this},m.comment=function(e){return Q("#"+e),this};var gn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},xn=function(e,t,n,r){gn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},bn=function(){this.page=Ie,this.currentPage=B,this.pages=X.slice(0),this.pagesContext=Fe.slice(0),this.x=ve,this.y=ye,this.matrix=we,this.width=wn(B),this.height=jn(B),this.outputDestination=K,this.id="",this.objectNumber=-1};bn.prototype.restore=function(){Ie=this.page,B=this.currentPage,Fe=this.pagesContext,X=this.pages,ve=this.x,ye=this.y,we=this.matrix,Nn(B,this.width),_n(B,this.height),K=this.outputDestination};var vn=function(e,t,n,r,a){We.push(new bn),Ie=B=0,X=[],ve=e,ye=t,we=a,xt([n,r])};for(var yn in m.beginFormObject=function(e,t,n,r,a){return vn(e,t,n,r,a),this},m.endFormObject=function(e){return function(e){if(Ue[e])We.pop().restore();else{var t=new bn,n="Xo"+(Object.keys(qe).length+1).toString(10);t.id=n,Ue[e]=n,qe[n]=t,ze.publish("addFormObject",t),We.pop().restore()}}(e),this},m.doFormObject=function(e,t){var n=qe[Ue[e]];return Q("q"),Q(t.toString()+" cm"),Q("/"+n.id+" Do"),Q("Q"),this},m.getFormObject=function(e){var t=qe[Ue[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},m.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(le(Pt(At()),e),"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),this):new Promise((function(t,n){try{var r=le(Pt(At()),e);"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),t(r)}catch(e){n(e.message)}}))},De.API)De.API.hasOwnProperty(yn)&&("events"===yn&&De.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(ze,De.API.events):m[yn]=De.API[yn]);var wn=m.getPageWidth=function(e){return(Fe[e=e||B].mediaBox.topRightX-Fe[e].mediaBox.bottomLeftX)/be},Nn=m.setPageWidth=function(e,t){Fe[e].mediaBox.topRightX=t*be+Fe[e].mediaBox.bottomLeftX},jn=m.getPageHeight=function(e){return(Fe[e=e||B].mediaBox.topRightY-Fe[e].mediaBox.bottomLeftY)/be},_n=m.setPageHeight=function(e,t){Fe[e].mediaBox.topRightY=t*be+Fe[e].mediaBox.bottomLeftY};return m.internal={pdfEscape:gt,getStyle:Ft,getFont:Xt,getFontSize:ie,getCharSpace:hn,getTextColor:dn,getLineHeight:Zt,getLineHeightFactor:tn,getLineWidth:Jt,write:Z,getHorizontalCoordinate:nn,getVerticalCoordinate:rn,getCoordinateString:an,getVerticalCoordinateString:sn,collections:{},newObject:$e,newAdditionalObject:Qe,newObjectDeferred:Ke,newObjectDeferredBegin:Je,getFilters:rt,putStream:at,events:ze,scaleFactor:be,pageSize:{getWidth:function(){return wn(B)},setWidth:function(e){Nn(B,e)},getHeight:function(){return jn(B)},setHeight:function(e){_n(B,e)}},encryptionOptions:u,encryption:Mt,getEncryptor:function(e){return null!==u?Mt.encryptor(e,0):function(e){return e}},output:Lt,getNumberOfPages:wt,pages:X,out:Q,f2:A,f3:P,getPageInfo:Dt,getPageInfoByObjId:Ot,getCurrentPageInfo:Tt,getPDFVersion:g,Point:gn,Rectangle:xn,Matrix:He,hasHotfix:Et},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return wn(B)},set:function(e){Nn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return jn(B)},set:function(e){_n(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=re.length;t<n;t++){var r=pt.call(this,e[t][0],e[t][1],e[t][2],re[t][3],!0);!1===h&&(f[r]=!0);var a=e[t][0].split("-");mt({id:r,fontName:a[0],fontStyle:a[1]||""})}ze.publish("addFonts",{fonts:Ne,dictionary:je})}.call(m,re),xe="F1",bt(s,n),ze.publish("initialized"),m}ke.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ke.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},ke.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ke.prototype.processOwnerPassword=function(e,t){return _e(we(t).substr(0,5),e)},ke.prototype.encryptor=function(e,t){var n=we(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return _e(n,e)}},Pe.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,r.A)(e)!==(0,r.A)(this))return!1;var a=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&a--;return 0===a},De.API={events:[]},De.version="2.5.2";var Oe=De.API,Te=1,Re=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ie=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fe=function(e){return e.toFixed(2)},ze=function(e){return e.toFixed(5)};Oe.__acroform__={};var Be=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},qe=function(e){return e*Te},Ue=function(e){var t=new st,n=vt.internal.getHeight(e)||0,r=vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Fe(r)),Number(Fe(n))],t},We=Oe.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},He=Oe.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Ve=Oe.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ye=Oe.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ve(e,t-1)},Ge=Oe.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return We(e,t-1)},Xe=Oe.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return He(e,t-1)},$e=Oe.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(a+i)||0,l.upperRight_Y=r(s)||0,[Number(Fe(l.lowerLeft_X)),Number(Fe(l.lowerLeft_Y)),Number(Fe(l.upperRight_X)),Number(Fe(l.upperRight_Y))]},Ke=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Je(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Fe(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Ue(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},Je=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map((function(e){return e.split("\n")})):a.map((function(e){return[e]}));var s=n,i=vt.internal.getHeight(e)||0;i=i<0?-i:i;var o=vt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<a.length){var s=n+" "+a[t+1][0];return Qe(s,e,r).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,u=Qe("3",e,s).height,h=e.multiline?i-s:(i-u)/2,f=h+=2,m=0,p=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+Qe(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var x="",b=0,v=0;v<a.length;v++)if(a.hasOwnProperty(v)){var y=!1;if(1!==a[v].length&&g!==a[v].length-1){if((u+2)*(b+2)+2>i)continue e;x+=a[v][g],y=!0,p=v,v--}else{x=" "==(x+=a[v][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(v),N=l(w,x,s),j=v>=a.length-1;if(N&&!j){x+=" ",g=0;continue}if(N||j){if(j)p=w;else if(e.multiline&&(u+2)*(b+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>i)continue e;p=w}}for(var _="",S=m;S<=p;S++){var k=a[S];if(e.multiline){if(S===p){_+=k[g]+" ",g=(g+1)%k.length;continue}if(S===m){_+=k[k.length-1]+" ";continue}}_+=k[0]+" "}switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,d=Qe(_,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Fe(c)+" "+Fe(f)+" Td\n",t+="("+Re(_)+") Tj\n",t+=-Fe(c)+" 0 Td\n",f=-(s+2),d=0,m=y?p:p+1,b++,x=""}break}return r.text=t,r.fontSize=s,r},Qe=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Ze={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},et=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},tt=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(ot.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ze)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Te=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new it,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&et(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var a in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(a)){var s=e[a],i=[],o=s.Rect;if(s.Rect&&(s.Rect=$e(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=vt.createDefaultAppearanceStream(s),"object"===(0,r.A)(s)&&"function"==typeof s.getKeyValueListForStream&&(i=s.getKeyValueListForStream()),s.Rect=o,s.hasAppearanceStream&&!s.appearanceStreamContent){var l=Ke(s);i.push({key:"AP",value:"<</N "+l+">>"}),t.internal.acroformPlugin.xForms.push(l)}if(s.appearanceStreamContent){var c="";for(var d in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(d)){var u=s.appearanceStreamContent[d];if(c+="/"+d+" ",c+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var a in u)if(u.hasOwnProperty(a)){var h=u[a];"function"==typeof h&&(h=h.call(t,s)),c+="/"+a+" "+h+" ",t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(t,s)),c+="/"+a+" "+h,t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h);c+=">>"}i.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:s.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var a=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===(0,r.A)(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[a]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},nt=Oe.__acroform__.arrayToPdfArray=function(e,t,n){var a=function(e){return e};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(0!==i&&(s+=" "),(0,r.A)(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(a=n.internal.getEncryptor(t)),s+="("+Re(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rt=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Re(r(e))+")"},at=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};at.prototype.toString=function(){return this.objId+" 0 R"},at.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},at.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:nt(a,this.objId,this.scope)}):a instanceof at?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var st=function(){at.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Be(st,at);var it=function(){at.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Re(t(e))+")"}},set:function(t){e=t}})};Be(it,at);var ot=function e(){at.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(t,3))},set:function(e){!0===Boolean(e)?this.F=Ge(t,3):this.F=Xe(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof pt)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Re(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Te:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof pt||this instanceof xt))return rt(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ht==0?rt(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof ht==0?"("===e.substr(0,1)?Ie(e.substr(1,e.length-2)):Ie(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Ie(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof ht==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ht==0?rt(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof ht==0?"("===e.substr(0,1)?Ie(e.substr(1,e.length-2)):Ie(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Ie(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof ht==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,1):this.Ff=Xe(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,2):this.Ff=Xe(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,3):this.Ff=Xe(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Be(ot,at);var lt=function(){ot.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nt(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,18):this.Ff=Xe(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Ge(this.Ff,19):this.Ff=Xe(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Ge(this.Ff,20),t.sort()):this.Ff=Xe(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,22):this.Ff=Xe(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,23):this.Ff=Xe(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,27):this.Ff=Xe(this.Ff,27)}}),this.hasAppearanceStream=!1};Be(lt,ot);var ct=function(){lt.call(this),this.fontName="helvetica",this.combo=!1};Be(ct,lt);var dt=function(){ct.call(this),this.combo=!0};Be(dt,ct);var ut=function(){dt.call(this),this.edit=!0};Be(ut,dt);var ht=function(){ot.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,15):this.Ff=Xe(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,16):this.Ff=Xe(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,17):this.Ff=Xe(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,26):this.Ff=Xe(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Re(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,r.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Be(ht,ot);var ft=function(){ht.call(this),this.pushButton=!0};Be(ft,ht);var mt=function(){ht.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Be(mt,ht);var pt=function(){var e,t;ot.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),a)n.push("/"+t+" ("+Re(e(a[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,r.A)(e)&&(a=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(e){"string"==typeof e&&(a.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Be(pt,ot),mt.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},mt.prototype.createOption=function(e){var t=new pt;return t.Parent=this,t.optionName=e,this.Kids.push(t),yt.call(this.scope,t),t};var gt=function(){ht.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Be(gt,ht);var xt=function(){ot.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,13):this.Ff=Xe(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,21):this.Ff=Xe(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,23):this.Ff=Xe(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,24):this.Ff=Xe(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,25):this.Ff=Xe(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,26):this.Ff=Xe(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Be(xt,ot);var bt=function(){xt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ye(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Ge(this.Ff,14):this.Ff=Xe(this.Ff,14)}}),this.password=!0};Be(bt,xt);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Je(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Fe(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Ue(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],s=vt.internal.getHeight(e),i=vt.internal.getWidth(e),o=Je(e,e.caption);return a.push("1 g"),a.push("0 0 "+Fe(i)+" "+Fe(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Fe(i-1)+" "+Fe(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Fe(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Circle.YesNormal,t.D[e]=vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=vt.internal.Bezier_C,s=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ze(vt.internal.getWidth(e)/2)+" "+ze(vt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*vt.internal.Bezier_C).toFixed(5)),i=Number((r*vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ze(vt.internal.getWidth(e)/2)+" "+ze(vt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ze(vt.internal.getWidth(e)/2)+" "+ze(vt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ze(vt.internal.getWidth(e)/2)+" "+ze(vt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Cross.YesNormal,t.D[e]=vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=vt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Fe(vt.internal.getWidth(e)-2)+" "+Fe(vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Fe(r.x1.x)+" "+Fe(r.x1.y)+" m"),n.push(Fe(r.x2.x)+" "+Fe(r.x2.y)+" l"),n.push(Fe(r.x4.x)+" "+Fe(r.x4.y)+" m"),n.push(Fe(r.x3.x)+" "+Fe(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=vt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Fe(vt.internal.getWidth(e)-2)+" "+Fe(vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Fe(n.x1.x)+" "+Fe(n.x1.y)+" m"),r.push(Fe(n.x2.x)+" "+Fe(n.x2.y)+" l"),r.push(Fe(n.x4.x)+" "+Fe(n.x4.y)+" m"),r.push(Fe(n.x3.x)+" "+Fe(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=vt.internal.getWidth(e),n=vt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},vt.internal.getWidth=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=qe(e.Rect[2])),t},vt.internal.getHeight=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=qe(e.Rect[3])),t};var yt=Oe.addField=function(e){if(tt(this,e),!(e instanceof ot))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Oe.AcroFormChoiceField=lt,Oe.AcroFormListBox=ct,Oe.AcroFormComboBox=dt,Oe.AcroFormEditBox=ut,Oe.AcroFormButton=ht,Oe.AcroFormPushButton=ft,Oe.AcroFormRadioButton=mt,Oe.AcroFormCheckBox=gt,Oe.AcroFormTextField=xt,Oe.AcroFormPasswordField=bt,Oe.AcroFormAppearance=vt,Oe.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:ft,RadioButton:mt,CheckBox:gt,TextField:xt,PasswordField:bt,Appearance:vt},De.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:ft,RadioButton:mt,CheckBox:gt,TextField:xt,PasswordField:bt,Appearance:vt};var wt=De.AcroForm;function Nt(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,r){var a,s,i,o,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in n)for(i=n[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(i=n[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===t&&r!==t&&(c=r),c},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===x.INDEXED){var h=this.internal.newObject();r({data:S(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)s.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections.addImage_images;return l.call(this),e},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,r.A)(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return ie(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return ie(t.toDataURL(s,1).split("base64,").pop())}},m=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},p=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,a,s){var i=p.call(this,n,r,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=i[0],r=i[1],d[a.index]=a,s){s*=Math.PI/180;var u=Math.cos(s),h=Math.sin(s),f=function(e){return e.toFixed(4)},m=[f(u),f(h),f(-1*h),f(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},N=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return N()&&e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return N()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,a,s,i,o,c,d,u;if("number"==typeof arguments[1]?(n=t,a=arguments[1],s=arguments[2],i=arguments[3],o=arguments[4],c=arguments[5],d=arguments[6],u=arguments[7]):(n=arguments[1],a=arguments[2],s=arguments[3],i=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7],u=arguments[8]),"object"===(0,r.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var f=e;e=f.imageData,n=f.format||n||t,a=f.x||a||0,s=f.y||s||0,i=f.w||f.width||i,o=f.h||f.height||o,c=f.alias||c,d=f.compression||d,u=f.rotation||f.angle||u}var m=this.internal.getFilters();if(void 0===d&&-1!==m.indexOf("FlateEncode")&&(d="SLOW"),isNaN(a)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=k.call(this,e,n,c,d);return g.call(this,a,s,i,o,p,u),this};var k=function(n,r,s,i){var o,l,c;if("string"==typeof n&&a(n)===t){n=unescape(n);var p=C(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(h(n)&&(n=f(n,r)),r=a(n,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=s)||0===c.length)&&(s=function(e){return"string"==typeof e||j(e)?v(e):j(e.data)?v(e.data):null}(n)),(o=m.call(this,s))||(N()&&(n instanceof Uint8Array||"RGBA"===r||(l=n,n=_(n))),o=this["process"+r.toUpperCase()](n,d.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,a="";if("string"==typeof e){r=null!==(n=w(e))?n.data:e;try{a=ie(r)}catch(e){if(t)throw y(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return a};e.getImageProperties=function(n){var r,s,i="";if(h(n)&&(n=f(n)),"string"==typeof n&&a(n)===t&&(""===(i=C(n,!1))&&(i=e.loadFile(n)||""),n=i),s=a(n),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!N()||n instanceof Uint8Array||(n=_(n)),!(r=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=s,r}}(De.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};De.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+p.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(g(x))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+i(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",p.content=a,this.internal.write(m.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(f(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var y=this.annotations._nameMap[n.options.name];n.options.pageNumber=y.page,n.options.top=y.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=i(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var s=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+n),h:o(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,s,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;a=Math.ceil(o*l)}else s=i,a=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=i/2),"right"===r.align&&(t-=i),this.link(t,n-o,s,a,r),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(De.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,a+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,a+=e.charAt(t-s),t-=s,s=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return i(e)?!1===s(e)?-1:!c(e)||!i(t)&&!i(n)||!i(n)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&i(t)&&!o(t)&&i(n)&&c(n)?3:o(e)||!i(n)?1:2:-1},f=function(e){var n=0,r=0,a=0,s="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],i(s)?(a=h(s,o,l),d[n]+=-1!==a?String.fromCharCode(t[s.charCodeAt(0)][a]):s):d[n]+=s;d[n]=u(d[n])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(De.API),De.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}));return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(De.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,a=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return a.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){a.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,d))}),[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:r})*n)&&(i=l);return 0!==i&&(o=e.length),{w:i/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var r=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,c,d,u){if(a.call(this),!c)throw new Error("No data for PDF table.");var h,f,m,p,g=[],x=[],b=[],v={},y={},w=[],N=[],j=(u=u||{}).autoSize||!1,_=!1!==u.printHeaders,S=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,k=u.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof u.padding?u.padding:3,A=u.headerBackgroundColor||"#c8c8c8",P=u.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=P,this.setFontSize(S),null==d)x=g=Object.keys(c[0]),b=g.map((function(){return"left"}));else if(Array.isArray(d)&&"object"===(0,r.A)(d[0]))for(g=d.map((function(e){return e.name})),x=d.map((function(e){return e.prompt||e.name||""})),b=d.map((function(e){return e.align||"left"})),h=0;h<d.length;h+=1)y[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&"string"==typeof d[0]&&(x=g=d,b=g.map((function(){return"left"})));if(j||Array.isArray(d)&&"string"==typeof d[0])for(h=0;h<g.length;h+=1){for(v[p=g[h]]=c.map((function(e){return e[p]})),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=v[p],this.setFont(void 0,"normal"),m=0;m<f.length;m+=1)w.push(this.getTextDimensions(f[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[p]=Math.max.apply(null,w)+C+C,w=[]}if(_){var L={};for(h=0;h<g.length;h+=1)L[g[h]]={},L[g[h]].text=x[h],L[g[h]].align=b[h];var E=l.call(this,L,y);N=g.map((function(t){return new i(e,n,y[t],E,L[t].text,void 0,L[t].align)})),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var M=d.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(h=0;h<c.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:c[h]},this);var D=l.call(this,c[h],y);for(m=0;m<g.length;m+=1){var O=c[h][g[m]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:m,data:O},this),o.call(this,new i(e,n,y[g[m]],D,O,h+2,M[g[m]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var l=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map((function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/a+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){a.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){r=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,r),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(De.API);var jt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_t=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],St=Nt(_t),kt=[100,200,300,400,500,600,700,800,900],Ct=Nt(kt);function At(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return jt[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof St[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function Pt(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var Lt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Et={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Mt(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Dt(e){return e.trimLeft()}function Ot(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Tt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Rt,It,Ft,zt,Bt=["times"];!function(e){var t,n,a,s,i,o,l,c,d,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof u&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null;function m(e,t){if(null===h){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());h=function(e){for(var t={},n=0;n<e.length;++n){var r=At(e[n]),a=r.family,s=r.stretch,i=r.style,o=r.weight;t[a]=t[a]||{},t[a][s]=t[a][s]||{},t[a][s][i]=t[a][s][i]||{},t[a][s][i][o]=r}return t}(n.concat(t))}return h}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){h=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),a=t[4],s=(t[5],t[6]),i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===i?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,r=[],a=e.trim();if(""===a)return Bt;if(a in Et)return[Et[a]];for(;""!==a;){switch(n=null,t=(a=Dt(a)).charAt(0)){case'"':case"'":n=Ot(a.substring(1),t);break;default:n=Tt(a)}if(null===n)return Bt;if(r.push(n[0]),""!==(a=Dt(n[1]))&&","!==a.charAt(0))return Bt;a=a.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},Lt,n.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=At(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[r]))throw new Error("Could not find a font-family for the rule '"+Mt(s)+"' and default family '"+r+"'.");if(i=function(e,t){if(t[e])return t[e];var n=St[e],r=n<=St.normal?-1:1,a=Pt(t,_t,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(s.stretch,i),i=function(e,t){if(t[e])return t[e];for(var n=jt[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Ct[e],r=Pt(t,kt,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+Mt(s)+"'.");return i}(m(this.pdf,this.fontFaces),o.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var f=0;f<o.length;f++)if(u[o[f]]){d=u[o[f]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},h.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,r.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new o(n,r)),s=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},h.prototype.bezierCurveTo=function(e,t,n,r,a,s){if(isNaN(a)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var i=this.ctx.transform.applyToPoint(new o(a,s)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},h.prototype.arc=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw ne.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var i=this.ctx.transform.applyToPoint(new o(e,t));e=i.x,t=i.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:s})},h.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},h.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},h.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=parseFloat(s[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new ce(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!m.call(this)){var a=T(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:n,scale:s,angle:a,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var a=T(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw ne.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw ne.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s))throw ne.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new c(e,t,n,r,a,s);this.ctx.transform=this.ctx.transform.multiply(i)},h.prototype.setTransform=function(e,t,n,r,a,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,s=isNaN(s)?0:s,this.ctx.transform=new c(e,t,n,r,a,s)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,n,r,a,s,i,o,d){var u=this.pdf.getImageProperties(e),h=1,f=1,m=1,p=1;void 0!==r&&void 0!==o&&(m=o/r,p=d/a,h=u.width/r*o/r,f=u.height/a*d/a),void 0===s&&(s=t,i=n,t=0,n=0),void 0!==r&&void 0===o&&(o=r,d=a),void 0===r&&void 0===o&&(o=u.width,d=u.height);for(var b,w=this.ctx.transform.decompose(),j=T(w.rotate.shx),_=new c,S=(_=(_=(_=_.multiply(w.translate)).multiply(w.skew)).multiply(w.scale)).applyToRectangle(new l(s-t*m,i-n*p,r*h,a*f)),k=x.call(this,S),C=[],A=0;A<k.length;A+=1)-1===C.indexOf(k[A])&&C.push(k[A]);if(y(C),this.autoPaging)for(var P=C[0],L=C[C.length-1],E=P;E<L+1;E++){this.pdf.setPage(E);var M=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],D=1===E?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],R=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],I=1===E?0:O+(E-2)*R;if(0!==this.ctx.clip_path.length){var F=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(b,this.posX+this.margin[3],-I+D+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=F}var z=JSON.parse(JSON.stringify(S));z=v([z],this.posX+this.margin[3],-I+D+this.ctx.prevPageLastElemOffset)[0];var B=(E>P||E<L)&&g.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,R,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",z.x,z.y,z.w,z.h,null,null,j),B&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,j)};var x=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var s=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"bct":var i=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)b.call(this);return r},b=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=s},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort((function(e,t){return e-t}))},w=function(e,t){for(var n,r,a=this.fillStyle,s=this.strokeStyle,i=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var m=x.call(this,u[f]),p=0;p<m.length;p+=1)-1===h.indexOf(m[p])&&h.push(m[p]);for(var w=0;w<h.length;w++)for(;this.pdf.internal.getNumberOfPages()<h[w];)b.call(this);if(y(h),this.autoPaging)for(var j=h[0],_=h[h.length-1],S=j;S<_+1;S++){this.pdf.setPage(S),this.fillStyle=a,this.strokeStyle=s,this.lineCap=i,this.lineWidth=l,this.lineJoin=c;var k=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],C=1===S?this.posY+this.margin[0]:this.margin[0],A=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],L=1===S?0:A+(S-2)*P;if(0!==this.ctx.clip_path.length){var E=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-L+C+this.ctx.prevPageLastElemOffset),N.call(this,e,!0),this.path=E}if(r=JSON.parse(JSON.stringify(d)),this.path=v(r,this.posX+this.margin[3],-L+C+this.ctx.prevPageLastElemOffset),!1===t||0===S){var M=(S>j||S<_)&&g.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],k,P,null).clip().discardPath()),N.call(this,e,t),M&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,N.call(this,e,t),this.lineWidth=o;this.path=d},N=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!m.call(this))){for(var n,r,a=[],s=this.path,i=0;i<s.length;i++){var o=s[i];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(s[i-1]&&!isNaN(s[i-1].x)&&(n=[o.x-s[i-1].x,o.y-s[i-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[i-1].x,o.y1-s[i-1].y,o.x2-s[i-1].x,o.y2-s[i-1].y,o.x-s[i-1].x,o.y-s[i-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=s[i-1].x+2/3*(o.x1-s[i-1].x),d=s[i-1].y+2/3*(o.y1-s[i-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;n=[c-s[i-1].x,d-s[i-1].y,u-s[i-1].x,h-s[i-1].y,f-s[i-1].x,g-s[i-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,b=0;b<a.length;b++)if(a[b].arc)for(var v=a[b].abs,y=0;y<v.length;y++){var w=v[y];"arc"===w.type?S.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):L.call(this,w.x,w.y),x=!0}else if(!0===a[b].close)this.pdf.internal.out("h"),x=!1;else if(!0!==a[b].begin){var N=a[b].start.x,j=a[b].start.y;E.call(this,a[b].deltas,N,j),x=!0}r&&k.call(this,r),t&&C.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,n,r,a,s,i,o,l){for(var c=D.call(this,n,r,a,s),d=0;d<c.length;d++){var u=c[d];0===d&&(l?A.call(this,u.x1+e,u.y1+t):L.call(this,u.x1+e,u.y1+t)),M.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):k.call(this,i)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(n(e)+" "+a(t)+" m")},P=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=j.call(this,e.y),a=_.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new o(e.x,r)),i=this.ctx.transform.decompose(),d=new c;d=(d=(d=d.multiply(i.translate)).multiply(i.skew)).multiply(i.scale);for(var u,h,f,m=this.ctx.transform.applyToRectangle(new l(e.x,r,n.w,n.h)),p=d.applyToRectangle(new l(e.x,a,n.w,n.h)),b=x.call(this,p),w=[],S=0;S<b.length;S+=1)-1===w.indexOf(b[S])&&w.push(b[S]);if(y(w),this.autoPaging)for(var k=w[0],C=w[w.length-1],A=k;A<C+1;A++){this.pdf.setPage(A);var P=1===A?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[2],M=E-this.margin[0],D=this.pdf.internal.pageSize.width-this.margin[1],O=D-this.margin[3],T=1===A?0:L+(A-2)*M;if(0!==this.ctx.clip_path.length){var R=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(u,this.posX+this.margin[3],-1*T+P),N.call(this,"fill",!0),this.path=R}var I=v([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-T+P+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var F="text"!==this.autoPaging;if(F||I.y+I.h<=E){if(F||I.y>=P&&I.x<=D){var z=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||D-I.x)[0],B=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-T+P+this.ctx.prevPageLastElemOffset)[0],q=F&&(A>k||A<C)&&g.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,M,null).clip().discardPath()),this.pdf.text(z,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),q&&this.pdf.restoreGraphicsState()}}else I.y<E&&(this.ctx.prevPageLastElemOffset+=E-I.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},L=function(e,t,r,s){r=r||0,s=s||0,this.pdf.internal.out(n(e+r)+" "+a(t+s)+" l")},E=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},M=function(e,n,r,a,o,l,c,d){this.pdf.internal.out([t(s(r+e)),t(i(a+n)),t(s(o+e)),t(i(l+n)),t(s(c+e)),t(i(d+n)),"c"].join(" "))},D=function(e,t,n,r){for(var a=2*Math.PI,s=Math.PI/2;t>n;)t-=a;var i=Math.abs(n-t);i<a&&r&&(i=a-i);for(var o=[],l=r?-1:1,c=t;i>1e-5;){var d=c+l*Math.min(i,s);o.push(O.call(this,e,c,d)),i-=Math.abs(d-c),c=d}return o},O=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),s=e*Math.sin(r),i=a,o=-s,l=i*i+o*o,c=l+i*a+o*s,d=4/3*(Math.sqrt(2*l*c)-c)/(i*s-o*a),u=i-d*o,h=o+d*i,f=u,m=-h,p=r+t,g=Math.cos(p),x=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:f*g-m*x,y3:f*x+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},T=function(e){return 180*e/Math.PI},R=function(e,t,n,r,a,s){var i=e+.5*(n-e),o=t+.5*(r-t),c=a+.5*(n-a),d=s+.5*(r-s),u=Math.min(e,a,i,c),h=Math.max(e,a,i,c),f=Math.min(t,s,o,d),m=Math.max(t,s,o,d);return new l(u,f,h-u,m-f)},I=function(e,t,n,r,a,s,i,o){var c,d,u,h,f,m,p,g,x,b,v,y,w,N,j=n-e,_=r-t,S=a-n,k=s-r,C=i-a,A=o-s;for(d=0;d<41;d++)x=(p=(u=e+(c=d/40)*j)+c*((f=n+c*S)-u))+c*(f+c*(a+c*C-f)-p),b=(g=(h=t+c*_)+c*((m=r+c*k)-h))+c*(m+c*(s+c*A-m)-g),0==d?(v=x,y=b,w=x,N=b):(v=Math.min(v,x),y=Math.min(y,b),w=Math.max(w,x),N=Math.max(N,b));return new l(Math.round(v),Math.round(y),Math.round(w-v),Math.round(N-y))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(De.API),function(e){var t=function(e){var t,n,r,a,s,i,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(i=(s=((s=((s=((s=(s-(d=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(i+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,s,i=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,s=(e+=t="uuuuu"[d](e[o]%5||5))[o];s>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),i.fromCharCode.apply(i,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=J(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,s){var i=0,o=e||"",l=[];for("string"==typeof(s=s||[])&&(s=[s]),i=0;i<s.length;i+=1)switch(s[i]){case"ASCII85Decode":case"/ASCII85Decode":o=n(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=a(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[i]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(De.API),(zt=De.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},zt.loadImageFile=zt.loadFile,function(e){function t(){return(ee.html2canvas?Promise.resolve(ee.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function a(){return(ee.DOMPurify?Promise.resolve(ee.DOMPurify):n.e(213).then(n.t.bind(n,6213,23))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var s=function(e){var t=(0,r.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(s(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(a).then((function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var i=n[s],o=i.src.find((function(e){return"truetype"===e.format}));o&&t.addFont(o.url,i.ref.name,i.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(e){if("object"!==s(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},o.prototype.get=function(e,t){return this.then((function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},o.prototype.setMargin=function(e){return this.then((function(){switch(s(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||De.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),a=n.call(r,e,t);return o.convert(a,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,De.getPageSize=function(e,t,n){if("object"===(0,r.A)(e)){var a=e;e=a.orientation,t=a.unit||t,n=a.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var s,i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var l,c=0,d=0;if(o.hasOwnProperty(i))c=o[i][1]/s,d=o[i][0]/s;else try{c=n[1],d=n[0]}catch(zt){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",d>c&&(l=d,d=c,c=l);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>d&&(l=d,d=c,c=l)}return{width:d,height:c,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(At):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(De.API),De.API.addJS=function(e){return Ft=e,this.internal.events.subscribe("postPutResources",(function(){Rt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),It=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ft+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==Rt&&void 0!==It&&this.internal.out("/Names <</JavaScript "+Rt+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],i=n.exec(s);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var i=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(De.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,s,i){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,s={width:0,height:0,numcomponents:1},i=4;i<a;i+=2){if(i+=r,-1!==t.indexOf(e.charCodeAt(i+1))){n=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),s={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:n,numcomponents:e.charCodeAt(i+9)};break}r=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(De.API);var qt,Ut,Wt,Ht,Vt,Yt=function(){var e,t,n;function r(e){var t,n,r,a,s,i,o,l,c,d,u,h,f,m;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),a=this.readUInt16()||100,i.delay=1e3*s/a,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=i?i.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((d=r-this.transparency.indexed.length)>0)for(f=0;0<=d?f<d:f>d;0<=d?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,a=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function s(s,i,o,l){var c,d,u,h,f,m,p,g,x,b,v,y,w,N,j,_,S,k,C,A,P,L=Math.ceil((a.width-s)/o),E=Math.ceil((a.height-i)/l),M=a.width==L&&a.height==E;for(N=t*L,y=M?n:new Uint8Array(N*E),m=e.length,w=0,d=0;w<E&&r<m;){switch(e[r++]){case 0:for(h=S=0;S<N;h=S+=1)y[d++]=e[r++];break;case 1:for(h=k=0;k<N;h=k+=1)c=e[r++],f=h<t?0:y[d-t],y[d++]=(c+f)%256;break;case 2:for(h=C=0;C<N;h=C+=1)c=e[r++],u=(h-h%t)/t,j=w&&y[(w-1)*N+u*t+h%t],y[d++]=(j+c)%256;break;case 3:for(h=A=0;A<N;h=A+=1)c=e[r++],u=(h-h%t)/t,f=h<t?0:y[d-t],j=w&&y[(w-1)*N+u*t+h%t],y[d++]=(c+Math.floor((f+j)/2))%256;break;case 4:for(h=P=0;P<N;h=P+=1)c=e[r++],u=(h-h%t)/t,f=h<t?0:y[d-t],0===w?j=_=0:(j=y[(w-1)*N+u*t+h%t],_=u&&y[(w-1)*N+(u-1)*t+h%t]),p=f+j-_,g=Math.abs(p-f),b=Math.abs(p-j),v=Math.abs(p-_),x=g<=b&&g<=v?f:b<=v?j:_,y[d++]=(c+x)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!M){var D=((i+w*l)*a.width+s)*t,O=w*N;for(h=0;h<L;h+=1){for(var T=0;T<t;T+=1)n[D++]=y[O++];D+=(o-1)*t}}w++}}return e=Q(e),1==a.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,a,s,i,o,l;for(n=this.palette,s=this.transparency.indexed||[],a=new Uint8Array((s.length||0)+n.length),r=0,e=0,t=i=0,o=n.length;i<o;t=i+=3)a[r++]=n[t],a[r++]=n[t+1],a[r++]=n[t+2],a[r++]=null!=(l=s[e++])?l:255;return a},r.prototype.copyToImageData=function(e,t){var n,r,a,s,i,o,l,c,d,u,h;if(r=this.colors,d=null,n=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(a=e.data||e).length,i=d||t,s=o=0,1===r)for(;s<c;)l=d?4*t[s/4]:o,u=i[l++],a[s++]=u,a[s++]=u,a[s++]=u,a[s++]=n?i[l++]:255,o=l;else for(;s<c;)l=d?4*t[s/4]:o,a[s++]=i[l++],a[s++]=i[l++],a[s++]=i[l++],a[s++]=n?i[l++]:255,o=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var a=function(){if("[object Window]"===Object.prototype.toString.call(ee)){try{t=ee.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return a(),e=function(e){var r;if(!0===a())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,a,s,i,o,l,c;if(this.animation){for(c=[],r=i=0,o=(l=this.animation.frames).length;i<o;r=++i)n=l[r],a=t.createImageData(n.width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(a,s),n.imageData=a,c.push(n.image=e(a));return c}},r.prototype.renderFrame=function(e,t){var n,r,a;return n=(r=this.animation.frames)[t],a=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=a?a.disposeOp:void 0)?e.clearRect(a.xOffset,a.yOffset,a.width,a.height):2===(null!=a?a.disposeOp:void 0)&&e.putImageData(a.imageData,a.xOffset,a.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,a,s,i,o=this;return n=0,i=this.animation,a=i.numFrames,r=i.frames,s=i.numPlays,(t=function(){var i,l;if(i=n++%a,l=r[i],o.renderFrame(e,i),a>1&&n/a<s)return o.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function Gt(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var c=!0,d=[],u=0,h=null,f=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&p)&&(h=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++],w=y>>6&1,N=1<<1+(7&y),j=o,_=l,S=!1;y>>7&&(S=!0,j=t,_=N,t+=3*N);var k=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}d.push({x:g,y:x,width:b,height:v,has_local_palette:S,palette_offset:j,palette_size:_,data_offset:k,data_length:t-k,transparent_index:h,interlaced:!!w,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);Xt(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),f=4*((a.y+a.height)*n+a.x),m=h,p=4*d;!0===a.interlaced&&(p+=4*n*7);for(var g=8,x=0,b=i.length;x<b;++x){var v=i[x];if(0===u&&(u=c,(m+=p)>=f&&(p=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),v===l)m+=4;else{var y=e[o+3*v],w=e[o+3*v+1],N=e[o+3*v+2];r[m++]=N,r[m++]=w,r[m++]=y,r[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);Xt(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),f=4*((a.y+a.height)*n+a.x),m=h,p=4*d;!0===a.interlaced&&(p+=4*n*7);for(var g=8,x=0,b=i.length;x<b;++x){var v=i[x];if(0===u&&(u=c,(m+=p)>=f&&(p=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),v===l)m+=4;else{var y=e[o+3*v],w=e[o+3*v+1],N=e[o+3*v+2];r[m++]=y,r[m++]=w,r[m++]=N,r[m++]=255}--u}}}function Xt(e,t,n,r){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,f=e[t++],m=new Int32Array(4096),p=null;;){for(;d<16&&0!==f;)u|=e[t++]<<d,d+=8,1===f?f=e[t++]:--f;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==s){if(g===i)break;for(var x=g<o?g:p,b=0,v=x;v>s;)v=m[v]>>8,++b;var y=v;if(h+b+(x!==g?1:0)>r)return void ne.log("Warning, gif stream longer than expected.");n[h++]=y;var w=h+=b;for(x!==g&&(n[h++]=y),v=x;b--;)v=m[v],n[--w]=255&v,v>>=8;null!==p&&o<4096&&(m[o++]=p<<8|y,o>=c+1&&l<12&&(++l,c=c<<1|1)),p=g}else o=i+1,c=(1<<(l=a+1))-1,p=null}return h!==r&&ne.log("Warning, gif stream shorter than expected."),n}function $t(e){var t,n,r,a,s,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),p=[],g=0,x=7,b=new Array(64),v=new Array(64),y=new Array(64),w=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(e,t){for(var n=0,r=0,a=new Array,s=1;s<=16;s++){for(var i=1;i<=e[s];i++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=s,r++,n++;n*=2}return a}function D(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<x),n--,--x<0&&(255==g?(O(255),O(0)):O(g),x=7,g=0)}function O(e){p.push(e)}function T(e){O(e>>8&255),O(255&e)}function R(e,t,n,r,a){for(var s,i=a[0],o=a[240],l=function(e,t){var n,r,a,s,i,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],a=e[h+2],s=e[h+3],i=e[h+4],o=e[h+5],l=e[h+6];var m=n+(c=e[h+7]),p=n-c,g=r+l,x=r-l,b=a+o,v=a-o,y=s+i,w=s-i,N=m+y,j=m-y,_=g+b,S=g-b;e[h]=N+_,e[h+4]=N-_;var k=.707106781*(S+j);e[h+2]=j+k,e[h+6]=j-k;var C=.382683433*((N=w+v)-(S=x+p)),A=.5411961*N+C,P=1.306562965*S+C,L=.707106781*(_=v+x),E=p+L,M=p-L;e[h+5]=M+A,e[h+3]=M-A,e[h+1]=E+P,e[h+7]=E-P,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],a=e[h+16],s=e[h+24],i=e[h+32],o=e[h+40],l=e[h+48];var D=n+(c=e[h+56]),O=n-c,T=r+l,R=r-l,I=a+o,F=a-o,z=s+i,B=s-i,q=D+z,U=D-z,W=T+I,H=T-I;e[h]=q+W,e[h+32]=q-W;var V=.707106781*(H+U);e[h+16]=U+V,e[h+48]=U-V;var Y=.382683433*((q=B+F)-(H=R+O)),G=.5411961*q+Y,X=1.306562965*H+Y,$=.707106781*(W=F+R),K=O+$,J=O-$;e[h+40]=J+G,e[h+24]=J-G,e[h+8]=K+X,e[h+56]=K-X,h++}for(d=0;d<64;++d)u=e[d]*t[d],f[d]=u>0?u+.5|0:u-.5|0;return f}(e,t),c=0;c<64;++c)m[j[c]]=l[c];var d=m[0]-n;n=m[0],0==d?D(r[0]):(D(r[h[s=32767+d]]),D(u[s]));for(var p=63;p>0&&0==m[p];)p--;if(0==p)return D(i),n;for(var g,x=1;x<=p;){for(var b=x;0==m[x]&&x<=p;)++x;var v=x-b;if(v>=16){g=v>>4;for(var y=1;y<=g;++y)D(o);v&=15}s=32767+m[x],D(a[(v<<4)+h[s]]),D(u[s]),x++}return 63!=p&&D(i),n}function I(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[j[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=i((a[s]*e+50)/100);u=Math.min(Math.max(u,1),255),l[j[s]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,m=0;m<8;m++)for(var p=0;p<8;p++)c[f]=1/(o[j[f]]*h[m]*h[p]*8),d[f]=1/(l[j[f]]*h[m]*h[p]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&I(s),p=new Array,g=0,x=7,T(65496),T(65504),T(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),T(1),T(1),O(0),O(0),function(){T(65499),T(132),O(0);for(var e=0;e<64;e++)O(o[e]);O(1);for(var t=0;t<64;t++)O(l[t])}(),function(e,t){T(65472),T(17),O(8),T(t),T(e),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(e.width,e.height),function(){T(65476),T(418),O(0);for(var e=0;e<16;e++)O(_[e+1]);for(var t=0;t<=11;t++)O(S[t]);O(16);for(var n=0;n<16;n++)O(k[n+1]);for(var r=0;r<=161;r++)O(C[r]);O(1);for(var a=0;a<16;a++)O(A[a+1]);for(var s=0;s<=11;s++)O(P[s]);O(17);for(var i=0;i<16;i++)O(L[i+1]);for(var o=0;o<=161;o++)O(E[o])}(),T(65498),T(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var i=0,u=0,h=0;g=0,x=7,this.encode.displayName="_encode_";for(var f,m,w,j,M,F,z,B,q,U=e.data,W=e.width,H=e.height,V=4*W,Y=0;Y<H;){for(f=0;f<V;){for(M=V*Y+f,z=-1,B=0,q=0;q<64;q++)F=M+(B=q>>3)*V+(z=4*(7&q)),Y+B>=H&&(F-=V*(Y+1+B-H)),f+z>=V&&(F-=f+z-V+4),m=U[F++],w=U[F++],j=U[F++],b[q]=(N[m]+N[w+256|0]+N[j+512|0]>>16)-128,v[q]=(N[m+768|0]+N[w+1024|0]+N[j+1280|0]>>16)-128,y[q]=(N[m+1280|0]+N[w+1536|0]+N[j+1792|0]>>16)-128;i=R(b,c,i,t,r),u=R(v,d,u,n,a),h=R(y,d,h,n,a),f+=32}Y+=8}if(x>=0){var G=[];G[1]=x+1,G[0]=(1<<x+1)-1,D(G)}return T(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=M(_,S),n=M(A,P),r=M(k,C),a=M(L,E),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256|0]=38470*e,N[e+512|0]=7471*e+32768,N[e+768|0]=-11059*e,N[e+1024|0]=-21709*e,N[e+1280|0]=32768*e+8421375,N[e+1536|0]=-27439*e,N[e+1792|0]=-5329*e}(),I(e)}function Kt(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jt(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var s=0;s<a;s++)e[t+s]=n[r+s]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function s(e){return new Int32Array(e)}function i(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,a){for(var s=a[r],i=0;i<s&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));i++)e(n[i],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,s){t(!(a%r));do{e[n+(a-=r)]=s}while(0<a)}function d(e,n,r,a,i){if(t(2328>=i),512>=i)var o=s(512);else if(null==(o=s(i)))return 0;return function(e,n,r,a,i,o){var d,h,f=n,m=1<<r,p=s(16),g=s(16);for(t(0!=i),t(null!=a),t(null!=e),t(0<r),h=0;h<i;++h){if(15<a[h])return 0;++p[a[h]]}if(p[0]==i)return 0;for(g[1]=0,d=1;15>d;++d){if(p[d]>1<<d)return 0;g[d+1]=g[d]+p[d]}for(h=0;h<i;++h)d=a[h],0<a[h]&&(o[g[d]++]=h);if(1==g[15])return(a=new u).g=0,a.value=o[0],c(e,f,1,m,a),m;var x,b=-1,v=m-1,y=0,w=1,N=1,j=1<<r;for(h=0,d=1,i=2;d<=r;++d,i<<=1){if(w+=N<<=1,0>(N-=p[d]))return 0;for(;0<p[d];--p[d])(a=new u).g=d,a.value=o[h++],c(e,f+y,i,j,a),y=l(y,d)}for(d=r+1,i=2;15>=d;++d,i<<=1){if(w+=N<<=1,0>(N-=p[d]))return 0;for(;0<p[d];--p[d]){if(a=new u,(y&v)!=b){for(f+=j,x=1<<(b=d)-r;15>b&&!(0>=(x-=p[b]));)++b,x<<=1;m+=j=1<<(x=b-r),e[n+(b=y&v)].g=x+r,e[n+b].value=f-n-b}a.g=d-r,a.value=o[h++],c(e,f+(y>>r),i,j,a),y=l(y,d)}}return w!=2*g[15]-1?0:m}(e,n,r,a,i,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=i(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(zn,h)}function m(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,k(e)}function p(e,t){for(var n=0;0<t--;)n|=A(e,128)<<t;return n}function g(e,t){var n=p(e,t);return C(e)?-n:n}function x(e,n,r,a){var s,i=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),s=0;s<a;++s)i+=n[r+s]<<8*s;e.Ra=i,e.bb=a,e.oa=n,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Un-8>>>0,++e.bb,e.u-=8;j(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=qn){var r=N(e)&Bn[n];return e.u+=n,b(e),r}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&Un-1)>>>0}function j(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Un}function _(e,t){e.u=t,e.h=j(e)}function S(e){e.u>=Wn&&(t(e.u>=Wn),b(e))}function k(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function C(e){return p(e,1)}function A(e,t){var n=e.Ca;0>e.b&&k(e);var r=e.b,a=n*t>>>8,s=(e.I>>>r>a)+0;for(s?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+Hn[r],e.b-=r,e.Ca=(n<<r)-1,s}function P(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function L(e,t){return e[t+0]|e[t+1]<<8}function E(e,t){return L(e,t)|e[t+2]<<16}function M(e,t){return L(e,t)|L(e,t+2)<<16}function D(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function O(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function T(){this.X=[],this.Xa=this.Mb=0}function R(e,n,r,a){t(null!=r),t(null!=a);var s=r[0],i=a[0];return 0==s&&(s=(e*i+n/2)/n),0==i&&(i=(n*s+e/2)/e),0>=s||0>=i?0:(r[0]=s,a[0]=i,1)}function I(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function z(t,n){e[n]=function(n,r,a,s,i,o,l){var c;for(c=0;c<i;++c){var d=e[t](o[l+c-1],a,s+c);o[l+c]=F(n[r+c],d)}}}function B(){this.ud=this.hd=this.jd=0}function q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function W(e,t){return U(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,a,s,i){for(r=s[i-1],n=0;n<a;++n)s[i+n]=r=F(e[t+n],r)}function Y(e,t,n,r,a){var s;for(s=0;s<n;++s){var i=e[t+s],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));r[a+s]=(4278255360&i)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function X(e,t,n,r,a,s){var i;for(i=0;i<r;++i){var o=t[n+i],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[s+i]=(4278255360&o)+(d<<16)+c}}function $(t,n,r,a,s){e[n]=function(e,t,n,r,i,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)i[o++]=s(n[a(e[t++])])},e[t]=function(t,n,i,o,l,c,d){var u=8>>t.b,h=t.Ea,f=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;n<i;++n){var p,g=0;for(p=0;p<h;++p)p&t||(g=a(o[l++])),c[d++]=s(f[g&m]),g>>=u}else e["VP8LMapColor"+r](o,l,f,m,c,d,n,i,h)}}function K(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s}}function J(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s,r[a++]=s>>24&255}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var s=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;r[a++]=s,r[a++]=i}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var s=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;r[a++]=s,r[a++]=i}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=255&s,r[a++]=s>>8&255,r[a++]=s>>16&255}}function te(e,t,n,a,s,i){if(0==i)for(n=t+n;t<n;)P(a,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),s+=32;else r(a,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Wr||e==Hr||e==Vr||e==Yr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,s=a.eb,i=a.fb+e.ka*a.A,o=xa[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,f=e.W,m=t.cc,p=t.dc,g=t.Mc,x=t.Nc,b=e.ka,v=e.ka+e.T,y=e.U,w=y+1>>1;for(0==b?o(l,c,null,null,d,u,h,f,d,u,h,f,s,i,null,null,y):(o(t.ec,t.fc,l,c,m,p,g,x,d,u,h,f,s,i-a.A,s,i,y),++n);b+2<v;b+=2)m=d,p=u,g=h,x=f,u+=e.Rc,f+=e.Rc,i+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,p,g,x,d,u,h,f,s,i-a.A,s,i,y);return c+=e.fa,e.j+v<e.o?(r(t.ec,t.fc,l,c,y),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,f,w),n--):1&v||o(l,c,null,null,d,u,h,f,d,u,h,f,s,i+a.A,null,null,y),n}function ue(e,n,r){var a=e.F,s=[e.J];if(null!=a){var i=e.U,o=n.ba.S,l=o==Br||o==Vr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=Sr(a,s[0],e.width,i,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,i,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Ir||n==zr||n==Br||n==qr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Rn(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,vn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&xn())}if(r&&!Ea){for(e=0;256>e;++e)Ma[e]=89858*(e-128)+ka>>Sa,Ta[e]=-22014*(e-128)+ka,Oa[e]=-45773*(e-128),Da[e]=113618*(e-128)+ka>>Sa;for(e=Ca;e<Aa;++e)t=76283*(e-16)+ka>>Sa,Ra[e-Ca]=Ve(t,255),Ia[e-Ca]=Ve(t+8>>4,15);Ea=1}return 1}function fe(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function me(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,r[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function xe(e,t){return 120<t?t-120:1<=(n=((n=Qr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var r=N(n),a=e[t+=255&r].g-8;return 0<a&&(_(n,n.u+8),r=N(n),t+=e[t].value,t+=r&(1<<a)-1),_(n,n.u+e[t].g),e[t].value}function ve(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ye(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,s){var i=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=s;for(s=e.Ta,a=e.Ua;0<i--;){var u=e.gc[i],h=l,f=n,m=c,p=d,g=(d=s,c=a,u.Ea);switch(t(h<f),t(f<=u.nc),u.hc){case 2:Gn(m,p,(f-h)*g,d,c);break;case 0:var x=h,b=f,v=d,y=c,w=(k=u).Ea;0==x&&(Vn(m,p,null,null,1,v,y),V(m,p+1,0,0,w-1,v,y+1),p+=w,y+=w,++x);for(var N=1<<k.b,j=N-1,_=I(w,k.b),S=k.K,k=k.w+(x>>k.b)*_;x<b;){var C=S,A=k,P=1;for(Yn(m,p,v,y-w,1,v,y);P<w;){var L=(P&~j)+N;L>w&&(L=w),(0,Qn[C[A++]>>8&15])(m,p+ +P,v,y+P-w,L-P,v,y+P),P=L}p+=w,y+=w,++x&j||(k+=_)}f!=u.nc&&r(d,c-g,d,c+(f-h-1)*g,g);break;case 1:for(g=m,b=p,w=(m=u.Ea)-(y=m&~(v=(p=1<<u.b)-1)),x=I(m,u.b),N=u.K,u=u.w+(h>>u.b)*x;h<f;){for(j=N,_=u,S=new B,k=b+y,C=b+m;b<k;)G(j[_++],S),Zn(S,g,b,p,d,c),b+=p,c+=p;b<C&&(G(j[_++],S),Zn(S,g,b,w,d,c),b+=w,c+=w),++h&v||(u+=x)}break;case 3:if(m==d&&p==c&&0<u.b){for(b=d,m=g=c+(f-h)*g-(y=(f-h)*I(u.Ea,u.b)),p=d,v=c,x=[],y=(w=y)-1;0<=y;--y)x[y]=p[v+y];for(y=w-1;0<=y;--y)b[m+y]=x[y];Xn(u,h,f,d,g,d,c)}else Xn(u,h,f,m,p,d,c)}c=s,d=a}d!=a&&r(s,a,c,d,o)}function Ne(e,n){var r=e.V,a=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var i=e.l,o=e.Ta,l=e.Ua,c=i.width;if(we(e,s,r,a),s=l=[l],t((r=e.C)<(a=n)),t(i.v<i.va),a>i.o&&(a=i.o),r<i.j){var d=i.j-r;r=i.j,s[0]+=d*c}if(r>=a?r=0:(s[0]+=4*i.v,i.ka=r-i.j,i.U=i.va-i.v,i.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(a=r.S,s=i.U,i=i.T,d=u.eb,u.A),f=i;for(u=u.fb+e.Ma*u.A;0<f--;){var m=o,p=l,g=s,x=d,b=u;switch(a){case Rr:er(m,p,g,x,b);break;case Ir:tr(m,p,g,x,b);break;case Wr:tr(m,p,g,x,b),jr(x,b,0,g,1,0);break;case Fr:ar(m,p,g,x,b);break;case zr:te(m,p,g,x,b,1);break;case Hr:te(m,p,g,x,b,1),jr(x,b,0,g,1,0);break;case Br:te(m,p,g,x,b,0);break;case Vr:te(m,p,g,x,b,0),jr(x,b,1,g,1,0);break;case qr:nr(m,p,g,x,b);break;case Yr:nr(m,p,g,x,b),_r(x,b,g,1,0);break;case Ur:rr(m,p,g,x,b);break;default:t(0)}l+=c,u+=h}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function je(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function _e(e,n,r,a,s,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ga[e.Z]);n<r;++n)ga[e.Z](o,l,a,s,a,s,i),o=a,l=s,s+=i;e.qd=o,e.rd=l}}function Se(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var s=e.l.width,i=r.ca,o=r.tb+s*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),Kn(d[0],a,n,l,c,i,o),_e(r,a,n,i,o,s)}e.C=e.Ma=n}function ke(e,n,r,a,s,i,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=r+e.$,f=h;s=r+a*s;var m=r+a*i,p=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,b=u.wc,v=h<m?ye(u,c,l):null;t(e.C<i),t(m<=s);var y=!1;e:for(;;){for(;y||h<m;){var w=0;if(l>=g){var k=h-r;t((g=e).Pb),g.wd=g.m,g.xd=k,0<g.s.ua&&O(g.s.Wa,g.s.vb),g=l+ea}if(c&b||(v=ye(u,c,l)),t(null!=v),v.Qb&&(n[h]=v.qb,y=!0),!y)if(S(d),v.jc){w=d,k=n;var C=h,A=v.pd[N(w)&zn-1];t(v.jc),256>A.g?(_(w,w.u+A.g),k[C]=A.value,w=0):(_(w,w.u+A.g-256),t(256<=A.value),w=A.value),0==w&&(y=!0)}else w=be(v.G[0],v.H[0],d);if(d.h)break;if(y||256>w){if(!y)if(v.nd)n[h]=(v.qb|w<<8)>>>0;else{if(S(d),y=be(v.G[1],v.H[1],d),S(d),k=be(v.G[2],v.H[2],d),C=be(v.G[3],v.H[3],d),d.h)break;n[h]=(C<<24|y<<16|w<<8|k)>>>0}if(y=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=x))for(;f<h;)w=n[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),k=be(v.G[4],v.H[4],d),S(d),k=xe(a,k=ge(k,d)),d.h)break;if(h-r<k||s-h<w)break e;for(C=0;C<w;++C)n[h+C]=n[h+C-k];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(h<=s),c&b&&(v=ye(u,c,l)),null!=x)for(;f<h;)w=n[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<p))break e;for(y=w-280,t(null!=x);f<h;)w=n[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(y>>>(k=x).Xa)),n[w]=k.X[y],y=!0}y||t(d.h==j(d))}if(e.Pb&&d.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&O(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ce(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ae(){var t=new on;return null==t?null:(t.a=0,t.xb=pa,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=Y,Zn=X,er=K,tr=J,nr=Q,rr=Z,ar=ee,e.VP8LMapColor32b=$n,e.VP8LMapColor8b=Jn,t)}function Pe(e,n,r,o,l){var c=1,h=[e],m=[n],p=o.m,g=o.s,x=null,b=0;e:for(;;){if(r)for(;c&&v(p,1);){var y=h,w=m,j=o,k=1,C=j.m,A=j.gc[j.ab],P=v(C,2);if(j.Oc&1<<P)c=0;else{switch(j.Oc|=1<<P,A.hc=P,A.Ea=y[0],A.nc=w[0],A.K=[null],++j.ab,t(4>=j.ab),P){case 0:case 1:A.b=v(C,3)+2,k=Pe(I(A.Ea,A.b),I(A.nc,A.b),0,j,A.K),A.K=A.K[0];break;case 3:var L,E=v(C,8)+1,M=16<E?0:4<E?1:2<E?2:3;if(y[0]=I(A.Ea,M),A.b=M,L=k=Pe(E,1,0,j,A.K)){var O,T=E,R=A,z=1<<(8>>R.b),B=s(z);if(null==B)L=0;else{var q=R.K[0],U=R.w;for(B[0]=R.K[0][0],O=1;O<1*T;++O)B[O]=F(q[U+O],B[O-1]);for(;O<4*z;++O)B[O]=0;R.K[0]=null,R.K[0]=B,L=1}}k=L;break;case 2:break;default:t(0)}c=k}}if(h=h[0],m=m[0],c&&v(p,1)&&!(c=1<=(b=v(p,4))&&11>=b)){o.a=3;break e}var W;if(W=c)t:{var H,V,Y,G=o,X=h,$=m,K=b,J=r,Q=G.m,Z=G.s,ee=[null],te=1,ne=0,re=Zr[K];n:for(;;){if(J&&v(Q,1)){var ae=v(Q,3)+2,se=I(X,ae),ie=I($,ae),oe=se*ie;if(!Pe(se,ie,0,G,ee))break n;for(ee=ee[0],Z.xc=ae,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(V=0;5>V;++V){var ce=$r[V];!V&&0<K&&(ce+=1<<K),ne<ce&&(ne=ce)}var de=i(te*re,u),ue=te,he=i(ue,f);if(null==he)var fe=null;else t(65536>=ue),fe=he;var me=s(ne);if(null==fe||null==me||null==de){G.a=1;break n}var pe=de;for(H=Y=0;H<te;++H){var ge=fe[H],xe=ge.G,be=ge.H,ye=0,we=1,Ne=0;for(V=0;5>V;++V){ce=$r[V],xe[V]=pe,be[V]=Y,!V&&0<K&&(ce+=1<<K);r:{var je,_e=ce,Se=G,Ae=me,Le=pe,Ee=Y,Me=0,De=Se.m,Oe=v(De,1);if(a(Ae,0,0,_e),Oe){var Te=v(De,1)+1,Re=v(De,1),Ie=v(De,0==Re?1:8);Ae[Ie]=1,2==Te&&(Ae[Ie=v(De,8)]=1);var Fe=1}else{var ze=s(19),Be=v(De,4)+4;if(19<Be){Se.a=3;var qe=0;break r}for(je=0;je<Be;++je)ze[Jr[je]]=v(De,3);var Ue=void 0,We=void 0,He=Se,Ve=ze,Ye=_e,Ge=Ae,Xe=0,$e=He.m,Ke=8,Je=i(128,u);a:for(;d(Je,0,7,Ve,19);){if(v($e,1)){var Qe=2+2*v($e,3);if((Ue=2+v($e,Qe))>Ye)break a}else Ue=Ye;for(We=0;We<Ye&&Ue--;){S($e);var Ze=Je[0+(127&N($e))];_($e,$e.u+Ze.g);var et=Ze.value;if(16>et)Ge[We++]=et,0!=et&&(Ke=et);else{var tt=16==et,nt=et-16,rt=Xr[nt],at=v($e,Gr[nt])+rt;if(We+at>Ye)break a;for(var st=tt?Ke:0;0<at--;)Ge[We++]=st}}Xe=1;break a}Xe||(He.a=3),Fe=Xe}(Fe=Fe&&!De.h)&&(Me=d(Le,Ee,8,Ae,_e)),Fe&&0!=Me?qe=Me:(Se.a=3,qe=0)}if(0==qe)break n;if(we&&1==Kr[V]&&(we=0==pe[Y].g),ye+=pe[Y].g,Y+=qe,3>=V){var it,ot=me[0];for(it=1;it<ce;++it)me[it]>ot&&(ot=me[it]);Ne+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][be[3]+0].value<<24|xe[1][be[1]+0].value<<16|xe[2][be[2]+0].value)>>>0,0==ye&&256>xe[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Ne,ge.jc){var lt,ct=ge;for(lt=0;lt<zn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ve(ht,8,ut),dt>>=ve(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ve(ct.G[2][ct.H[2]+dt],0,ut),ve(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=de,W=1;break t}W=0}if(!(c=W)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!D(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var ft=o,mt=h,pt=m,gt=ft.s,xt=gt.xc;if(ft.c=mt,ft.i=pt,gt.md=I(mt,xt),gt.wc=0==xt?-1:(1<<xt)-1,r){o.xb=ma;break e}if(null==(x=s(h*m))){o.a=1,c=0;break e}c=(c=ke(o,x,0,h,m,m,null))&&!p.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(r)),o.$=0,r||Ce(g)):Ce(g),c}function Le(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=s(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ee(e,n){var r=e.C,a=n-r,s=e.V,i=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,f=e.Ta,m=e.Ua;we(e,o,s,i),kr(f,m,u,h,d),_e(l,r,r+o,u,h,c),a-=o,s+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Me(){this.ub=this.yd=this.td=this.Rb=0}function De(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oe(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Te(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],s=0;s<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e,0,[3,11]),e}()}function Re(){this.jb=s(3),this.Wc=o([4,8],Te),this.Xc=o([4,17],Te)}function Ie(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function ze(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qe(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ue(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new qe),this.aa=0,this.l=new Ye}function We(){this.y=s(16),this.f=s(8),this.ea=s(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Me,this.Kc=new De,this.ed=new Ie,this.Qa=new Oe,this.Ic=this.$c=this.Aa=0,this.D=new Ue,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,y),this.ia=0,this.pb=i(4,Be),this.Pa=new Re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new We),this.Hd=0,this.rb=Array(new ze),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qe),this.L=this.aa=0,this.gd=o([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ye(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ra||(ra=Je)),e}function Xe(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function $e(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ke(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Xe(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,i=n.ha;if(4>i)return Xe(e,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Xe(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Xe(e,4,"Frame not displayable.");s+=3,i-=3;var c=e.Kc;if(l.Rb){if(7>i)return Xe(e,7,"cannot parse picture header");if(!$e(r,s,i))return Xe(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,i-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>i)return Xe(e,7,"bad partition length");m(o=e.m,r,s,l.ub),s+=l.ub,i-=l.ub,l.Rb&&(c.Ld=C(o),c.Kd=C(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=C(o),c.Cb){if(c.Bb=C(o),C(o)){for(c.Fb=C(o),d=0;4>d;++d)c.Zb[d]=C(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=C(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=C(o)?p(o,8):255}else c.Bb=0;if(o.Ka)return Xe(e,3,"cannot parse segment header");if((c=e.ed).zd=C(o),c.Tb=p(o,6),c.wb=p(o,3),c.Pc=C(o),c.Pc&&C(o)){for(u=0;4>u;++u)C(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)C(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Xe(e,3,"cannot parse filter header");var h=i;if(i=d=s,s=d+h,c=h,e.Xb=(1<<p(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var f=r[i+0]|r[i+1]<<8|r[i+2]<<16;f>c&&(f=c),m(e.Jc[+h],r,d,f),d+=f,c-=f,i+=3}m(e.Jc[+u],r,d,c),r=d<s?0:5}if(0!=r)return Xe(e,r,"cannot parse partitions");for(r=p(d=e.m,7),i=C(d)?g(d,4):0,s=C(d)?g(d,4):0,c=C(d)?g(d,4):0,u=C(d)?g(d,4):0,d=C(d)?g(d,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var x=h.Zb[f];h.Fb||(x+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}x=r}var b=e.pb[f];b.Sc[0]=ta[Ve(x+i,127)],b.Sc[1]=na[Ve(x+0,127)],b.Eb[0]=2*ta[Ve(x+s,127)],b.Eb[1]=101581*na[Ve(x+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ta[Ve(x+u,117)],b.Qc[1]=na[Ve(x+d,127)],b.lc=x+d}if(!l.Rb)return Xe(e,4,"Not a key frame.");for(C(o),l=e.Pa,r=0;4>r;++r){for(i=0;8>i;++i)for(s=0;3>s;++s)for(c=0;11>c;++c)u=A(o,ca[r][i][s][c])?p(o,8):oa[r][i][s][c],l.Wc[r][i].Yb[s][c]=u;for(i=0;17>i;++i)l.Xc[r][i]=l.Wc[r][da[i]]}return e.kc=C(o),e.kc&&(e.Bd=p(o,8)),e.cb=1}function Je(e,t,n,r,a,s,i){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!A(e,o[n+0]))return a;for(;!A(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(A(e,o[n+2])){var c=e,d=0;if(A(c,(h=o)[(u=n)+3]))if(A(c,h[u+6])){for(o=0,u=2*(d=A(c,h[u+8]))+(h=A(c,h[u+9+d])),d=0,h=aa[u];h[o];++o)d+=d+A(c,h[o]);d+=3+(8<<u)}else A(c,h[u+7])?(d=7+2*A(c,165),d+=A(c,145)):d=5+A(c,159);else d=A(c,h[u+4])?3+A(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=i+sa[a],0>(c=e).b&&k(c);var u,h=c.b,f=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(u+1&f)<<h,s[l]=((d^f)-f)*r[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return Xe(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ke(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=za[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),u.dd=f,u.tc=2*h+f,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Xe(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=qa);e:{o=e.Ic,l=4*(f=e.za);var m=32*f,p=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*f;if((u=l+832+(c=3*(16*o+za[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){o=Xe(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=i(m,We),e.Hd=0,e.rb=i(p+1,ze),e.sb=1,e.wa=g?i(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=i(x,qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(m=za[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Er){for(o=-255;255>=o;++o)Cr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Ar[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Pr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Lr[255+o]=0>o?0:255<o?255:o;Er=1}sr=ct,ir=st,lr=it,cr=ot,dr=lt,or=at,ur=Xt,hr=$t,fr=Qt,mr=Zt,pr=Kt,gr=Jt,xr=en,br=tn,vr=Ut,yr=Wt,wr=Ht,Nr=Vt,ha[0]=_t,ha[1]=ut,ha[2]=Nt,ha[3]=jt,ha[4]=St,ha[5]=Ct,ha[6]=kt,ha[7]=At,ha[8]=Lt,ha[9]=Pt,ua[0]=xt,ua[1]=ft,ua[2]=mt,ua[3]=pt,ua[4]=bt,ua[5]=vt,ua[6]=yt,fa[0]=Ot,fa[1]=ht,fa[2]=Et,fa[3]=Mt,fa[4]=Rt,fa[5]=Tt,fa[6]=It,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(i=0;i<c.za;++i){var d=l,u=c,h=u.Ac,f=u.Bc+4*i,m=u.zc,p=u.ya[u.aa+i];if(u.Qa.Bb?p.$b=A(d,u.Pa.jb[0])?2+A(d,u.Pa.jb[2]):A(d,u.Pa.jb[1]):p.$b=0,u.kc&&(p.Ad=A(d,u.Bd)),p.Za=!A(d,145)+0,p.Za){var g=p.Ob,x=0;for(u=0;4>u;++u){var b,v=m[0+u];for(b=0;4>b;++b){v=la[h[f+b]][v];for(var y=ia[A(d,v[0])];0<y;)y=ia[2*y+A(d,v[y])];v=-y,h[f+b]=v}r(g,x,h,f,4),x+=4,m[0+u]=v}}else v=A(d,156)?A(d,128)?1:3:A(d,163)?2:0,p.Ob[0]=v,a(h,f,v,4),a(m,0,v,4);p.Dd=A(d,142)?A(d,114)?A(d,183)?1:3:2:0}if(c.m.Ka)return Xe(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],f=l.kc?i.Ad:0)d.la=h.la=0,i.Za||(d.Na=h.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var w,N;if(d=h,h=c,f=l.Pa.Xc,m=l.ya[l.aa+l.ja],p=l.pb[m.$b],u=m.ad,g=0,x=l.rb[l.sb-1],v=b=0,a(u,g,0,384),m.Za)var j=0,_=f[3];else{y=s(16);var S=d.Na+x.Na;if(S=ra(h,f[1],S,p.Eb,0,y,0),d.Na=x.Na=(0<S)+0,1<S)sr(y,0,u,g);else{var k=y[0]+3>>3;for(y=0;256>y;y+=16)u[g+y]=k}j=1,_=f[0]}var C=15&d.la,P=15&x.la;for(y=0;4>y;++y){var L=1&P;for(k=N=0;4>k;++k)C=C>>1|(L=(S=ra(h,_,S=L+(1&C),p.Sc,j,u,g))>j)<<7,N=N<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;C>>=4,P=P>>1|L<<7,b=(b<<8|N)>>>0}for(_=C,j=P>>4,w=0;4>w;w+=2){for(N=0,C=d.la>>4+w,P=x.la>>4+w,y=0;2>y;++y){for(L=1&P,k=0;2>k;++k)S=L+(1&C),C=C>>1|(L=0<(S=ra(h,f[2],S,p.Qc,0,u,g)))<<3,N=N<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;C>>=2,P=P>>1|L<<5}v|=N<<4*w,_|=C<<4<<w,j|=(240&P)<<w}d.la=_,x.la=j,m.Hc=b,m.Gc=v,m.ia=43690&v?0:p.ia,f=!(b|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Xe(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,c=1,i=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(i.M=o.M,i.uc=d,On(o,i),c=1,i=(N=o.D).Nb,d=(v=za[o.L])*o.R,h=v/2*o.B,y=16*i*o.R,k=8*i*o.B,f=o.sa,m=o.ta-d+y,p=o.qa,u=o.ra-h+k,g=o.Ha,x=o.Ia-h+k,P=0==(C=N.M),b=C>=o.Va-1,2==o.Aa&&On(o,N),N.uc)for(L=(S=o).D.M,t(S.D.uc),N=S.yb;N<S.Hb;++N){j=N,_=L;var E=(M=(q=S).D).Nb;w=q.R;var M=M.wa[M.Y+j],D=q.sa,O=q.ta+16*E*w+16*j,T=M.dd,R=M.tc;if(0!=R)if(t(3<=R),1==q.L)0<j&&yr(D,O,w,R+4),M.La&&Nr(D,O,w,R),0<_&&vr(D,O,w,R+4),M.La&&wr(D,O,w,R);else{var I=q.B,F=q.qa,z=q.ra+8*E*I+8*j,B=q.Ha,q=q.Ia+8*E*I+8*j;E=M.ld,0<j&&(hr(D,O,w,R+4,T,E),mr(F,z,B,q,I,R+4,T,E)),M.La&&(gr(D,O,w,R,T,E),br(F,z,B,q,I,R,T,E)),0<_&&(ur(D,O,w,R+4,T,E),fr(F,z,B,q,I,R+4,T,E)),M.La&&(pr(D,O,w,R,T,E),xr(F,z,B,q,I,R,T,E))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(N=16*C,C=16*(C+1),P?(l.y=o.sa,l.O=o.ta+y,l.f=o.qa,l.N=o.ra+k,l.ea=o.Ha,l.W=o.Ia+k):(N-=v,l.y=f,l.O=m,l.f=p,l.N=u,l.ea=g,l.W=x),b||(C-=v),C>l.o&&(C=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&N<C&&(l.J=hn(o,l,N,C-N),l.F=o.mb,null==l.F&&0==l.F.length)){c=Xe(o,3,"Could not decode alpha data.");break e}N<l.j&&(v=l.j-N,N=l.j,t(!(1&v)),l.O+=o.R*v,l.N+=o.B*(v>>1),l.W+=o.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),N<C&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=N-l.j,l.U=l.va-l.v,l.T=C-N,c=l.put(l))}i+1!=o.Ic||b||(r(o.sa,o.ta-d,f,m+16*o.R,d),r(o.qa,o.ra-h,p,u+8*o.B,h),r(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Xe(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0}function et(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function tt(e,t,n,r,a,s){et(e,t,0,n,r+a),et(e,t,1,n,r+s),et(e,t,2,n,r-s),et(e,t,3,n,r-a)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var a,i=0,o=s(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=c+d,o[i+2]=c-d,o[i+3]=l-u,i+=4,t++}for(a=i=0;4>a;++a)l=(e=o[i+0]+4)+o[i+8],c=e-o[i+8],d=(35468*o[i+4]>>16)-nt(o[i+12]),et(n,r,0,0,l+(u=nt(o[i+4])+(35468*o[i+12]>>16))),et(n,r,1,0,c+d),et(n,r,2,0,c-d),et(n,r,3,0,l-u),i++,r+=32}function at(e,t,n,r){var a=e[t+0]+4,s=35468*e[t+4]>>16,i=nt(e[t+4]),o=35468*e[t+1]>>16;tt(n,r,0,a+i,e=nt(e[t+1]),o),tt(n,r,1,a+s,e,o),tt(n,r,2,a-s,e,o),tt(n,r,3,a-i,e,o)}function st(e,t,n,r,a){rt(e,t,n,r),a&&rt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function ot(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)et(n,r,t,a,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var a,i=s(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];i[0+a]=o+l,i[8+a]=o-l,i[4+a]=d+c,i[12+a]=d-c}for(a=0;4>a;++a)o=(e=i[0+4*a]+3)+i[3+4*a],l=i[1+4*a]+i[2+4*a],c=i[1+4*a]-i[2+4*a],d=e-i[3+4*a],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function dt(e,t,n){var r,a=t-32,s=Or,i=255-e[a-1];for(r=0;r<n;++r){var o,l=s,c=i+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function ut(e,t){dt(e,t,4)}function ht(e,t){dt(e,t,8)}function ft(e,t){dt(e,t,16)}function mt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function xt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function yt(e,t){gt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function Nt(e,t){var n,a=t-32;for(a=new Uint8Array([wt(e[a-1],e[a+0],e[a+1]),wt(e[a+0],e[a+1],e[a+2]),wt(e[a+1],e[a+2],e[a+3]),wt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];P(e,t+0,16843009*wt(e[t-1-32],n,r)),P(e,t+32,16843009*wt(n,r,a)),P(e,t+64,16843009*wt(r,a,s)),P(e,t+96,16843009*wt(a,s,s))}function _t(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(i,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(o,i,s),e[t+3+32]=e[t+2+0]=wt(l,o,i),e[t+3+0]=wt(c,l,o)}function kt(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],s=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,a,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(a,s,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(s,i,o),e[t+3+64]=e[t+2+96]=wt(i,o,l),e[t+3+96]=wt(o,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=wt(a,r,n),e[t+0+64]=wt(r,n,s),e[t+0+32]=e[t+1+96]=wt(n,s,i),e[t+1+32]=e[t+2+96]=wt(s,i,o),e[t+2+32]=e[t+3+96]=wt(i,o,l),e[t+3+32]=wt(o,l,c)}function At(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],s=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+s+1>>1,e[t+3+0]=e[t+2+64]=s+i+1>>1,e[t+0+32]=wt(n,r,a),e[t+1+32]=e[t+0+96]=wt(r,a,s),e[t+2+32]=e[t+1+96]=wt(a,s,i),e[t+3+32]=e[t+2+96]=wt(s,i,o),e[t+3+64]=wt(i,o,l),e[t+3+96]=wt(o,l,c)}function Pt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+s+1>>1,e[t+1+0]=wt(n,r,a),e[t+3+0]=e[t+1+32]=wt(r,a,s),e[t+3+32]=e[t+1+64]=wt(a,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Lt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+i+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=s+a+1>>1,e[t+3+0]=wt(o,l,c),e[t+2+0]=wt(i,o,l),e[t+1+0]=e[t+3+32]=wt(n,i,o),e[t+1+32]=e[t+3+64]=wt(r,n,i),e[t+1+64]=e[t+3+96]=wt(a,r,n),e[t+1+96]=wt(s,a,r)}function Et(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Mt(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Dt(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function Ot(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Dt(r>>4,e,t)}function Tt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Dt(r>>3,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Dt(r>>3,e,t)}function It(e,t){Dt(128,e,t)}function Ft(e,t,n){var r=e[t-n],a=e[t+0],s=3*(a-r)+Mr[1020+e[t-2*n]-e[t+n]],i=Dr[112+(s+4>>3)];e[t-n]=Or[255+r+Dr[112+(s+3>>3)]],e[t+0]=Or[255+a-i]}function zt(e,t,n,r){var a=e[t+0],s=e[t+n];return Tr[255+e[t-2*n]-e[t-n]]>r||Tr[255+s-a]>r}function Bt(e,t,n,r){return 4*Tr[255+e[t-n]-e[t+0]]+Tr[255+e[t-2*n]-e[t+n]]<=r}function qt(e,t,n,r,a){var s=e[t-3*n],i=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Tr[255+o-l]+Tr[255+i-c]>r?0:Tr[255+e[t-4*n]-s]<=a&&Tr[255+s-i]<=a&&Tr[255+i-o]<=a&&Tr[255+u-d]<=a&&Tr[255+d-c]<=a&&Tr[255+c-l]<=a}function Ut(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r,n,a)&&Ft(e,t+r,n)}function Wt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r*n,1,a)&&Ft(e,t+r*n,1)}function Ht(e,t,n,r){var a;for(a=3;0<a;--a)Ut(e,t+=4*n,n,r)}function Vt(e,t,n,r){var a;for(a=3;0<a;--a)Wt(e,t+=4,n,r)}function Yt(e,t,n,r,a,s,i,o){for(s=2*s+1;0<a--;){if(qt(e,t,n,s,i))if(zt(e,t,n,o))Ft(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],f=l[c+0],m=l[c+d],p=l[c+2*d],g=27*(b=Mr[1020+3*(f-h)+Mr[1020+u-m]])+63>>7,x=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=Or[255+l[c-3*d]+b],l[c-2*d]=Or[255+u+x],l[c-d]=Or[255+h+g],l[c+0]=Or[255+f-g],l[c+d]=Or[255+m-x],l[c+2*d]=Or[255+p-b]}t+=r}}function Gt(e,t,n,r,a,s,i,o){for(s=2*s+1;0<a--;){if(qt(e,t,n,s,i))if(zt(e,t,n,o))Ft(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],f=l[c+d],m=Dr[112+(4+(p=3*(h-u))>>3)],p=Dr[112+(p+3>>3)],g=m+1>>1;l[c-2*d]=Or[255+l[c-2*d]+g],l[c-d]=Or[255+u+p],l[c+0]=Or[255+h-m],l[c+d]=Or[255+f-g]}t+=r}}function Xt(e,t,n,r,a,s){Yt(e,t,n,1,16,r,a,s)}function $t(e,t,n,r,a,s){Yt(e,t,1,n,16,r,a,s)}function Kt(e,t,n,r,a,s){var i;for(i=3;0<i;--i)Gt(e,t+=4*n,n,1,16,r,a,s)}function Jt(e,t,n,r,a,s){var i;for(i=3;0<i;--i)Gt(e,t+=4,1,n,16,r,a,s)}function Qt(e,t,n,r,a,s,i,o){Yt(e,t,a,1,8,s,i,o),Yt(n,r,a,1,8,s,i,o)}function Zt(e,t,n,r,a,s,i,o){Yt(e,t,1,a,8,s,i,o),Yt(n,r,1,a,8,s,i,o)}function en(e,t,n,r,a,s,i,o){Gt(e,t+4*a,a,1,8,s,i,o),Gt(n,r+4*a,a,1,8,s,i,o)}function tn(e,t,n,r,a,s,i,o){Gt(e,t+4,1,a,8,s,i,o),Gt(n,r+4,1,a,8,s,i,o)}function nn(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function an(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new T,this.vb=new T,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new u}function on(){this.xb=this.a=0,this.l=new Ye,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=i(4,an),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ye,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,a,s,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)a[s+t]=e+n[r+t]&255,e=a[s+t]}function dn(e,t,n,r,a,s,i){var o;if(null==e)cn(null,null,n,r,a,s,i);else for(o=0;o<i;++o)a[s+o]=e[t+o]+n[r+o]&255}function un(e,t,n,r,a,s,i){if(null==e)cn(null,null,n,r,a,s,i);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<i;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,a[s+o]=d}}function hn(e,n,a,i){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=i||a+i>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,f=e.mb,m=e.nb,p=u+1,g=h-1,b=c.l;if(t(null!=d&&null!=f&&null!=n),ga[0]=null,ga[1]=cn,ga[2]=dn,ga[3]=un,c.ca=f,c.tb=m,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(b.put=fe,b.ac=he,b.bc=me,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=Ae();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,x(n.m,d,p,g),!Pe(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&je(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Le(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:i=l-a}t(null!=e.ga),t(a+i<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(p=e.rc,g=e.Vc,b=e.Fa,u=e.P+1+a*n,h=e.mb,f=e.nb+a*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=ga[d.Z]),c=0;c<i;++c)ga[d.Z](p,g,b,u,h,f,n),p=h,g=f,f+=n,u+=n;else for(c=0;c<i;++c)r(h,f,b,u,n),p=h,g=f,f+=n,u+=n;e.rc=p,e.Vc=g}else{if(t(null!=d.mc),n=a+i,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||xn(),d.ic){d=c.V,p=c.Ba,g=c.c;var v=c.i,y=(b=1,u=c.$/g,h=c.$%g,f=c.m,m=c.s,c.$),w=g*v,N=g*n,_=m.wc,k=y<N?ye(m,h,u):null;t(y<=w),t(n<=v),t(je(m));t:for(;;){for(;!f.h&&y<N;){if(h&_||(k=ye(m,h,u)),t(null!=k),S(f),256>(v=be(k.G[0],k.H[0],f)))d[p+y]=v,++y,++h>=g&&(h=0,++u<=n&&!(u%16)&&Se(c,u));else{if(!(280>v)){b=0;break t}v=ge(v-256,f);var C,A=be(k.G[4],k.H[4],f);if(S(f),!(y>=(A=xe(g,A=ge(A,f)))&&w-y>=v)){b=0;break t}for(C=0;C<v;++C)d[p+y+C]=d[p+y+C-A];for(y+=v,h+=v;h>=g;)h-=g,++u<=n&&!(u%16)&&Se(c,u);y<N&&h&_&&(k=ye(m,h,u))}t(f.h==j(f))}Se(c,u>n?n:u);break t}!b||f.h&&y<w?(b=0,c.a=f.h?5:3):c.$=y,n=b}else n=ke(c,c.V,c.Ba,c.c,c.i,n,Ee);if(!n){i=0;break e}}a+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function fn(e,t,n,r,a,s){for(;0<a--;){var i,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(i=0;i<r;++i){var u=c[d+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=s}}function mn(e,t,n,r,a){for(;0<r--;){var s;for(s=0;s<n;++s){var i=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=a}}function pn(e,t,n,r,a,s,i,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];s[i+4*l]=u,d&=u}t+=n,i+=o}return 255!=d}function gn(e,t,n,r,a){var s;for(s=0;s<a;++s)n[r+s]=e[t+s]>>8}function xn(){jr=fn,_r=mn,Sr=pn,kr=gn}function bn(n,r,a){e[n]=function(e,n,s,i,o,l,c,d,u,h,f,m,p,g,x,b,v){var y,w=v-1>>1,N=o[l+0]|c[d+0]<<16,j=u[h+0]|f[m+0]<<16;t(null!=e);var _=3*N+j+131074>>2;for(r(e[n+0],255&_,_>>16,p,g),null!=s&&(_=3*j+N+131074>>2,r(s[i+0],255&_,_>>16,x,b)),y=1;y<=w;++y){var S=o[l+y]|c[d+y]<<16,k=u[h+y]|f[m+y]<<16,C=N+S+j+k+524296,A=C+2*(S+j)>>3;_=A+N>>1,N=(C=C+2*(N+k)>>3)+S>>1,r(e[n+2*y-1],255&_,_>>16,p,g+(2*y-1)*a),r(e[n+2*y-0],255&N,N>>16,p,g+(2*y-0)*a),null!=s&&(_=C+j>>1,N=A+k>>1,r(s[i+2*y-1],255&_,_>>16,x,b+(2*y-1)*a),r(s[i+2*y+0],255&N,N>>16,x,b+(2*y+0)*a)),N=S,j=k}1&v||(_=3*N+j+131074>>2,r(e[n+v-1],255&_,_>>16,p,g+(v-1)*a),null!=s&&(_=3*j+N+131074>>2,r(s[i+v-1],255&_,_>>16,x,b+(v-1)*a)))}}function vn(){xa[Rr]=ba,xa[Ir]=ya,xa[Fr]=va,xa[zr]=wa,xa[Br]=Na,xa[qr]=ja,xa[Ur]=_a,xa[Wr]=ya,xa[Hr]=wa,xa[Vr]=Na,xa[Yr]=ja}function yn(e){return e&~La?0>e?0:255:e>>Pa}function wn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function Nn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function _n(e,t,n,r,a){r[a+0]=wn(e,n),r[a+1]=Nn(e,t,n),r[a+2]=jn(e,t)}function Sn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=Nn(e,t,n),r[a+2]=wn(e,n)}function kn(e,t,n,r,a){var s=Nn(e,t,n);t=s<<3&224|jn(e,t)>>3,r[a+0]=248&wn(e,n)|s>>5,r[a+1]=t}function Cn(e,t,n,r,a){var s=240&jn(e,t)|15;r[a+0]=240&wn(e,n)|Nn(e,t,n)>>4,r[a+1]=s}function An(e,t,n,r,a){r[a+0]=255,_n(e,t,n,r,a+1)}function Pn(e,t,n,r,a){Sn(e,t,n,r,a),r[a+3]=255}function Ln(e,t,n,r,a){_n(e,t,n,r,a),r[a+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function En(t,n,r){e[t]=function(e,t,a,s,i,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],a[s+0],i[o+0],l,c),n(e[t+1],a[s+0],i[o+0],l,c+r),t+=2,++s,++o,c+=2*r;1&d&&n(e[t+0],a[s+0],i[o+0],l,c)}}function Mn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Dn(e,t,n,r,a){switch(e>>>30){case 3:ir(t,n,r,a,0);break;case 2:or(t,n,r,a);break;case 1:cr(t,n,r,a)}}function On(e,t){var n,s,i=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,f=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[f+32*n-1]=129;for(0<i?l[c-1-32]=d[u-1-32]=h[f-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,f-32-1,127,9)),s=0;s<e.za;++s){var m=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,f+32*n-4,h,f+32*n+4,4)}var p=e.Gd,g=e.Hd+s,x=m.ad,b=m.Hc;if(0<i&&(r(l,c-32,p[g].y,0,16),r(d,u-32,p[g].f,0,8),r(h,f-32,p[g].ea,0,8)),m.Za){var v=l,y=c-32+16;for(0<i&&(s>=e.za-1?a(v,y,p[g].y[15],4):r(v,y,p[g+1].y,0,4)),n=0;4>n;n++)v[y+128+n]=v[y+256+n]=v[y+384+n]=v[y+0+n];for(n=0;16>n;++n,b<<=2)v=l,y=c+Fa[n],ha[m.Ob[n]](v,y),Dn(b,x,16*+n,v,y)}else if(v=Mn(s,i,m.Ob[0]),ua[v](l,c),0!=b)for(n=0;16>n;++n,b<<=2)Dn(b,x,16*+n,l,c+Fa[n]);for(n=m.Gc,v=Mn(s,i,m.Dd),fa[v](d,u),fa[v](h,f),b=x,v=d,y=u,255&(m=n|0)&&(170&m?lr(b,256,v,y):dr(b,256,v,y)),m=h,b=f,255&(n>>=8)&&(170&n?lr(x,320,m,b):dr(x,320,m,b)),i<e.Ub-1&&(r(p[g].y,0,l,c+480,16),r(p[g].f,0,d,u+224,8),r(p[g].ea,0,h,f+224,8)),n=8*o*e.B,p=e.sa,g=e.ta+16*s+16*o*e.R,x=e.qa,m=e.ra+8*s+n,b=e.Ha,v=e.Ia+8*s+n,n=0;16>n;++n)r(p,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(x,m+n*e.B,d,u+32*n,8),r(b,v+n*e.B,h,f+32*n,8)}}function Tn(e,r,a,s,i,o,l,c,d){var u=[0],h=[0],f=0,m=null!=d?d.kd:0,p=null!=d?d:new rn;if(null==e||12>a)return 7;p.data=e,p.w=r,p.ha=a,r=[r],a=[a],p.gb=[p.gb];e:{var g=r,b=a,v=p.gb;if(t(null!=e),t(null!=b),t(null!=v),v[0]=0,12<=b[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){v=3;break e}var y=M(e,g[0]+4);if(12>y||4294967286<y){v=3;break e}if(m&&y>b[0]-8){v=7;break e}v[0]=y,g[0]+=12,b[0]-=12}v=0}if(0!=v)return v;for(y=0<p.gb[0],a=a[0];;){e:{var N=e;b=r,v=a;var j=u,_=h,S=g=[0];if((A=f=[f])[0]=0,8>v[0])v=7;else{if(!n(N,b[0],"VP8X")){if(10!=M(N,b[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var k=M(N,b[0]+8),C=1+E(N,b[0]+12);if(2147483648<=C*(N=1+E(N,b[0]+15))){v=3;break e}null!=S&&(S[0]=k),null!=j&&(j[0]=C),null!=_&&(_[0]=N),b[0]+=18,v[0]-=18,A[0]=1}v=0}}if(f=f[0],g=g[0],0!=v)return v;if(b=!!(2&g),!y&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],g=h[0],f&&b&&null==d){v=0;break}if(4>a){v=7;break}if(y&&f||!y&&!f&&!n(e,r[0],"ALPH")){a=[a],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{k=e,v=r,y=a;var A=p.gb;j=p.na,_=p.P,S=p.Sa,C=22,t(null!=k),t(null!=y),N=v[0];var P=y[0];for(t(null!=j),t(null!=S),j[0]=null,_[0]=null,S[0]=0;;){if(v[0]=N,y[0]=P,8>P){v=7;break e}var L=M(k,N+4);if(4294967286<L){v=3;break e}var D=8+L+1&-2;if(C+=D,0<A&&C>A){v=3;break e}if(!n(k,N,"VP8 ")||!n(k,N,"VP8L")){v=0;break e}if(P[0]<D){v=7;break e}n(k,N,"ALPH")||(j[0]=k,_[0]=N+8,S[0]=L),N+=D,P-=D}}if(a=a[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=v)break}a=[a],p.Ja=[p.Ja],p.xa=[p.xa];e:if(A=e,v=r,y=a,j=p.gb[0],_=p.Ja,S=p.xa,k=v[0],N=!n(A,k,"VP8 "),C=!n(A,k,"VP8L"),t(null!=A),t(null!=y),t(null!=_),t(null!=S),8>y[0])v=7;else{if(N||C){if(A=M(A,k+4),12<=j&&A>j-12){v=3;break e}if(m&&A>y[0]-8){v=7;break e}_[0]=A,v[0]+=8,y[0]-=8,S[0]=C}else S[0]=5<=y[0]&&47==A[k+0]&&!(A[k+4]>>5),_[0]=y[0];v=0}if(a=a[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=v)break;if(4294967286<p.Ja)return 3;if(null==c||b||(c[0]=p.xa?2:1),l=[l],g=[g],p.xa){if(5>a){v=7;break}c=l,m=g,b=o,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(y=[0],A=[0],j=[0],x(_=new w,e,r,a),pe(_,y,A,j)?(null!=c&&(c[0]=y[0]),null!=m&&(m[0]=A[0]),null!=b&&(b[0]=j[0]),e=1):e=0):e=0}else{if(10>a){v=7;break}c=g,null==e||10>a||!$e(e,r+3,a-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=p.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=p,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-a));break}return 0==v||7==v&&f&&null==d?(null!=o&&(o[0]|=null!=p.na&&0<p.na.length),null!=s&&(s[0]=l),null!=i&&(i[0]=g),0):v}function Rn(e,t,n){var r=t.width,a=t.height,s=0,i=0,o=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,i=e.j,11>n||(s&=-2,i&=-2),0>s||0>i||0>=o||0>=l||s+o>r||i+l>a))return 0;if(t.v=s,t.j=i,t.va=s+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!R(o,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function In(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,i=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=i||o+a>e||l+i>t)return 2;e=a,t=i}if(n.da){if(!R(e,t,a=[n.ib],i=[n.hb]))return 2;e=a[0],t=i[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Rr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=i=a=t=0;var u=(l=c*Ua[e])*d;if(11>e||(i=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=s(u+2*i+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=i,c.ea=d,c.W=0+u+i,c.Db=t,c.Ed=i,12==e&&(c.F=d,c.J=0+u+2*i),c.Tc=o,c.lb=a)}if(t=1,a=r.S,i=r.width,o=r.height,a>=Rr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*Ua[a],t&=null!=e.eb;else{e=r.f.kb,l=(i+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),m=f*(o-1)+i;t&=c*(o-1)+i<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=i&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=f>=i,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=In(r)),e}var zn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qn=24,Un=32,Wn=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];z("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return q(q(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return q(e,t[n-1])},e.Predictor7=function(e,t,n){return q(e,t[n+0])},e.Predictor8=function(e,t,n){return q(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return q(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return q(q(e,t[n-1]),q(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(U((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|U((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|U((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(W((e=q(e,t[n+0]))>>24&255,r>>24&255)<<24|W(e>>16&255,r>>16&255)<<16|W(e>>8&255,r>>8&255)<<8|W(255&e,255&r))>>>0};var Vn=e.PredictorAdd0;e.PredictorAdd1=V,z("Predictor2","PredictorAdd2"),z("Predictor3","PredictorAdd3"),z("Predictor4","PredictorAdd4"),z("Predictor5","PredictorAdd5"),z("Predictor6","PredictorAdd6"),z("Predictor7","PredictorAdd7"),z("Predictor8","PredictorAdd8"),z("Predictor9","PredictorAdd9"),z("Predictor10","PredictorAdd10"),z("Predictor11","PredictorAdd11"),z("Predictor12","PredictorAdd12"),z("Predictor13","PredictorAdd13");var Yn=e.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Gn,Xn=e.ColorIndexInverseTransform,$n=e.MapARGB,Kn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ar,sr,ir,or,lr,cr,dr,ur,hr,fr,mr,pr,gr,xr,br,vr,yr,wr,Nr,jr,_r,Sr,kr,Cr=s(511),Ar=s(2041),Pr=s(225),Lr=s(767),Er=0,Mr=Ar,Dr=Pr,Or=Lr,Tr=Cr,Rr=0,Ir=1,Fr=2,zr=3,Br=4,qr=5,Ur=6,Wr=7,Hr=8,Vr=9,Yr=10,Gr=[2,3,7],Xr=[3,3,11],$r=[280,256,256,256,40],Kr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ea=8,ta=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],na=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ra=null,aa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ia=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],la=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ca=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],da=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ua=[],ha=[],fa=[],ma=1,pa=2,ga=[],xa=[];bn("UpsampleRgbLinePair",_n,3),bn("UpsampleBgrLinePair",Sn,3),bn("UpsampleRgbaLinePair",Ln,4),bn("UpsampleBgraLinePair",Pn,4),bn("UpsampleArgbLinePair",An,4),bn("UpsampleRgba4444LinePair",Cn,2),bn("UpsampleRgb565LinePair",kn,2);var ba=e.UpsampleRgbLinePair,va=e.UpsampleBgrLinePair,ya=e.UpsampleRgbaLinePair,wa=e.UpsampleBgraLinePair,Na=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,_a=e.UpsampleRgb565LinePair,Sa=16,ka=1<<Sa-1,Ca=-227,Aa=482,Pa=6,La=(256<<Pa)-1,Ea=0,Ma=s(256),Da=s(256),Oa=s(256),Ta=s(256),Ra=s(Aa-Ca),Ia=s(Aa-Ca);En("YuvToRgbRow",_n,3),En("YuvToBgrRow",Sn,3),En("YuvToRgbaRow",Ln,4),En("YuvToBgraRow",Pn,4),En("YuvToArgbRow",An,4),En("YuvToRgba4444Row",Cn,2),En("YuvToRgb565Row",kn,2);var Fa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],za=[0,2,8],Ba=[8,7,6,4,4,2,2,2,1,1,1,1],qa=1;this.WebPDecodeRGBA=function(e,n,r,a,s){var i=Ir,o=new nn,l=new ie;o.ba=l,l.S=i,l.width=[l.width],l.height=[l.height];var c=l.width,d=l.height,u=new oe;if(null==u||null==e)var h=2;else t(null!=u),h=Tn(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=h?c=0:(null!=c&&(c[0]=u.width[0]),null!=d&&(d[0]=u.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=a&&(a[0]=l.width),null!=s&&(s[0]=l.height);e:{if(a=new Ye,(s=new rn).data=e,s.w=n,s.ha=r,s.kd=1,n=[0],t(null!=s),(0==(e=Tn(s.data,s.w,s.ha,null,null,null,n,null,s))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=o),a.data=s.data,a.w=s.w+s.offset,a.ha=s.ha-s.offset,a.put=fe,a.ac=he,a.bc=me,a.ma=o,s.xa){if(null==(e=Ae())){o=1;break e}if(function(e,n){var r=[0],a=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,x(e.m,n.data,n.w,n.ha),!pe(e.m,r,a,s)){e.a=3;break t}if(e.xb=pa,n.width=r[0],n.height=a[0],!Pe(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,a)){if(a=0==(n=Fn(a.width,a.height,o.Oa,o.ba))){t:{a=e;n:for(;;){if(null==a){a=0;break t}if(t(null!=a.s.yc),t(null!=a.s.Ya),t(0<a.s.Wb),t(null!=(r=a.l)),t(null!=(s=r.ma)),0!=a.xb){if(a.ca=s.ba,a.tb=s.tb,t(null!=a.ca),!Rn(s.Oa,r,zr)){a.a=2;break n}if(!Le(a,r.width))break n;if(r.da)break n;if((r.da||re(a.ca.S))&&xn(),11>a.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=a.ca.f.kb.F&&xn()),a.Pb&&0<a.s.ua&&null==a.s.vb.X&&!D(a.s.vb,a.s.Wa.Xa)){a.a=1;break n}a.xb=0}if(!ke(a,a.V,a.Ba,a.c,a.i,r.o,Ne))break n;s.Dc=a.Ma,a=1;break t}t(0!=a.a),a=0}a=!a}a&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){o=1;break e}if(e.Fa=s.na,e.P=s.P,e.qc=s.Sa,Ke(e,a)){if(0==(n=Fn(a.width,a.height,o.Oa,o.ba))){if(e.Aa=0,r=o.Oa,t(null!=(s=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(d=u=0;4>d;++d)12>(h=s.pb[d]).lc&&(h.ia=c*Ba[0>h.lc?0:h.lc]>>3),u|=h.ia;u&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=r.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}Ze(e,a)||(n=e.a)}}else n=e.a}0==n&&null!=o.Oa&&o.Oa.fd&&(n=In(o.ba))}o=n}i=0!=o?null:11>i?l.f.RGBA.eb:l.f.kb.y}else i=null;return i};var Ua=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],p=new l,g=e,x=function(e,t){var n={},r=0,a=!1,s=0,i=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){var o,l;for(u(e,t+=4),t+=8;t<e.length;){var h=c(e,t),f=u(e,t+=4);t+=4;var m=f+(1&f);switch(h){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(x=n.frames[r]).src_off=a?i:t-8,x.src_size=s+f+8,r++,a&&(a=!1,s=0,i=0);break;case"VP8X":(x=n.header={}).feature_flags=e[t];var p=t+4;x.canvas_width=1+d(e,p),p+=3,x.canvas_height=1+d(e,p),p+=3;break;case"ALPH":a=!0,s=m+8,i=t-8;break;case"ANIM":(x=n.header).bgcolor=u(e,t),p=t+4,x.loop_count=(o=e)[(l=p)+0]|o[l+1]<<8,p+=2;break;case"ANMF":var g,x;(x=n.frames[r]={}).offset_x=2*d(e,t),t+=3,x.offset_y=2*d(e,t),t+=3,x.width=1+d(e,t),t+=3,x.height=1+d(e,t),t+=3,x.duration=d(e,t),t+=3,g=e[t++],x.dispose=1&g,x.blend=g>>1&1}"ANMF"!=h&&(t+=m)}return n}}(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,v=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],f=[b.canvas_width];for(var y=0;y<v.length&&0!=v[y].blend;y++);}var w=v[0],N=p.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=N,w.imgwidth=f[0],w.imgheight=h[0];for(var j=0;j<f[0]*h[0]*4;j++)m[j]=N[j];return this.width=f,this.height=h,this.data=m,this}!function(e){var t=function(t,r,l,c){var d=4,u=s;switch(c){case e.image_compression.FAST:d=1,u=a;break;case e.image_compression.MEDIUM:d=6,u=i;break;case e.image_compression.SLOW:d=9,u=o}var h=J(t=n(t,r,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,r){for(var a,s,i,o=e.length/t,l=new Uint8Array(e.length+o),u=c(),h=0;h<o;h+=1){if(i=h*t,a=e.subarray(i,i+t),r)l.set(r(a,n,s),i+h);else{for(var f,m=u.length,p=[];f<m;f+=1)p[f]=u[f](a,n,s);var g=d(p.concat());l.set(p[g],i+h)}s=a}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},a=function(e,t){var n,r=[],a=e.length;r[0]=1;for(var s=0;s<a;s+=1)n=e[s-t]||0,r[s+1]=e[s]-n+256&255;return r},s=function(e,t,n){var r,a=[],s=e.length;a[0]=2;for(var i=0;i<s;i+=1)r=n&&n[i]||0,a[i+1]=e[i]-r+256&255;return a},i=function(e,t,n){var r,a,s=[],i=e.length;s[0]=3;for(var o=0;o<i;o+=1)r=e[o-t]||0,a=n&&n[o]||0,s[o+1]=e[o]+256-(r+a>>>1)&255;return s},o=function(e,t,n){var r,a,s,i,o=[],c=e.length;o[0]=4;for(var d=0;d<c;d+=1)r=e[d-t]||0,a=n&&n[d]||0,s=n&&n[d-t]||0,i=l(r,a,s),o[d+1]=e[d]-i+256&255;return o},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=a&&r<=s?e:a<=s?t:n},c=function(){return[r,a,s,i,o]},d=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,a,s){var i,o,l,c,d,u,h,f,m,p,g,x,b,v,y,w=this.decode.FLATE_DECODE,N="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new Yt(n)).imgData,o=l.bits,i=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){m=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(m*l.colors),p=new Uint8Array(m);var j,_=l.pixelBitlength-l.bits;for(v=0,y=0;v<m;v++){for(b=f[v],j=0;j<_;)g[y++]=b>>>j&255,j+=l.bits;p[v]=b>>>j&255}}if(16===l.bits){m=(f=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(m*(32/l.pixelBitlength)*l.colors),p=new Uint8Array(m*(32/l.pixelBitlength)),x=l.colors>1,v=0,y=0;for(var S=0;v<m;)b=f[v++],g[y++]=b>>>0&255,x&&(g[y++]=b>>>16&255,b=f[v++],g[y++]=b>>>0&255),p[S++]=b>>>16&255;o=8}s!==e.image_compression.NONE?(n=t(g,l.width*l.colors,l.colors,s),h=t(p,l.width,1,s)):(n=g,h=p,w=void 0)}if(3===l.colorType&&(i=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var k=l.transparency.indexed,C=0;for(v=0,m=k.length;v<m;++v)C+=k[v];if((C/=255)===m-1&&-1!==k.indexOf(0))c=[k.indexOf(0)];else if(C!==m){for(f=l.decodePixels(),p=new Uint8Array(f.length),v=0,m=f.length;v<m;v++)p[v]=k[f[v]];h=t(p,l.width,1)}}var A=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return w===this.decode.FLATE_DECODE&&(N="/Predictor "+A+" "),N+="/Colors "+d+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:a,data:n,index:r,filter:w,decodeParameters:N,transparency:c,palette:u,sMask:h,predictor:A,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:i}}}}(De.API),function(e){e.processGIF89A=function(t,n,r,a){var s=new Gt(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},d=new $t(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)},e.processGIF87A=e.processGIF89A}(De.API),Kt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Kt.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){ne.log("bit decode error:"+e)}},Kt.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Kt.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*a*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},Kt.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},Kt.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}this.pos+=e}},Kt.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&n)/n*255|0,c=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Kt.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},Kt.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=i}},Kt.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var s=new Kt(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new $t(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(De.API),Jt.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var s=new Jt(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new $t(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(De.API),De.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=r[c],u=r[c+1],h=r[c+2],f=r[c+3];s[o++]=d,s[o++]=u,s[o++]=h,i[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},De.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},qt=De.API,Ut=qt.getCharWidthsArray=function(e,t){var n,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=!1!==t.doKerning,f=0,m=e.length,p=0,g=l[0]||c,x=[];for(n=0;n<m;n++)a=e.charCodeAt(n),"function"==typeof s.metadata.widthOfString?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(f=h&&"object"===(0,r.A)(d[a])&&!isNaN(parseInt(d[a][p],10))?d[a][p]/u:0,x.push((l[a]||g)/c+f)),p=a;return x},Wt=qt.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return qt.processArabic&&(e=qt.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:Ut.apply(this,arguments).reduce((function(e,t){return e+t}),0)},Ht=function(e,t,n,r){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<n;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>r&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},Vt=function(e,t,n){n||(n={});var r,a,s,i,o,l,c,d=[],u=[d],h=n.textIndent||0,f=0,m=0,p=e.split(" "),g=Ut.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),b=[];p.map((function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):b.push(e[0])})),p=b,l=Wt.apply(this,[x,n])}for(s=0,i=p.length;s<i;s++){var v=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),v=1),h+f+(m=(a=Ut.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||v){if(m>t){for(o=Ht.apply(this,[r,a,t-(h+f),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=a.slice(r.length-(d[0]?d[0].length:0)).reduce((function(e,t){return e+t}),0)}else d=[r];u.push(d),h=m+l,f=g}else d.push(r),h+=f+m,f=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},qt.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(Vt.apply(this,[r[o],i,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[t[s]]="0123456789abcdef"[s],a["0123456789abcdef"[s]]=t[s];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,s,l,c=["{"];for(var d in e){if(t=e[d],isNaN(parseInt(d,10))?n="'"+d+"'":(d=parseInt(d,10),n=(n=i(d).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(s=i(t).slice(3),l="-"):(s=i(t).slice(2),l=""),s=l+s.slice(0,-1)+a[s.slice(-1)];else{if("object"!==(0,r.A)(t))throw new Error("Don't know what to do with value type "+(0,r.A)(t)+".");s=o(t)}c.push(n+s)}return c.push("}"),c.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,a,s,i={},o=1,l=i,c=[],d="",u="",h=e.length-1,f=1;f<h;f+=1)"'"==(s=e[f])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,a]),l={},a=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,a=void 0,l=r[0]):"-"==s?o=-1:void 0===a?n.hasOwnProperty(s)?(d+=n[s],a=parseInt(d,16)*o,o=1,d=""):d+=s:n.hasOwnProperty(s)?(u+=n[s],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=s;return i},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(De.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(a.postScriptName)?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(ie(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(De),function(){function e(){return(ee.canvg?Promise.resolve(ee.canvg):n.e(455).then(n.bind(n,8455))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}De.API.addSvgAsImage=function(t,n,r,a,s,i,o,l){if(isNaN(n)||isNaN(r))throw ne.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw ne.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then((function(e){return e.fromString(d,t,u)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(u)})).then((function(){h.addImage(c.toDataURL("image/jpeg",1),n,r,a,s,o,l)}))}}(),De.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},De.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function f(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var m=l.length;for(h=0;h<m;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if("object"===(0,r.A)(e))for(s in e)if(i=e[s],f(l,s)&&void 0!==i){if("boolean"===n[s].type&&"boolean"==typeof i)n[s].value=i;else if("name"===n[s].type&&f(n[s].valueSet,i))n[s].value=i;else if("integer"===n[s].type&&Number.isInteger(i))n[s].value=i;else if("array"===n[s].type){for(d=0;d<i.length;d+=1)if(a=!0,1===i[d].length&&"number"==typeof i[d][0])c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)"number"!=typeof i[d][u]&&(a=!1);!0===a&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),i=n.length+r.length+a.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(De.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],s=[""],i=0,o=e.length;i<o;++i){if(n=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(i),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(a[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,a,s,i,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],i=0,o=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;i<o;i++)t=n[i],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=s();i({data:c,addLength1:!0,objectId:u}),a("endobj");var h=s();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var f=s();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Ce(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var m=s();a("<<"),a("/Type /Font"),a("/BaseFont /"+Ce(n.fontName)),a("/FontDescriptor "+f+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=s(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+Ce(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=s();i({data:l,addLength1:!0,objectId:d}),a("endobj");var u=s();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=s();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+Ce(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Ce(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,s=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",f=0,m="",p=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:a,y:s,options:i,mutex:o};for(m=r,u=c,Array.isArray(r)&&(m=r[0]),f=0;f<m.length;f+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[f].charCodeAt(0)]),t||m[f].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[f]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===p?g=l(h,u).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(g=n(h,d[u])),o.isHex=!0,{text:g,x:a,y:s,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([a(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(a(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(De),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(De.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,s,i,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,i,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!s){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var f=e[o],m=f>=1425&&f<=2303||64286===f;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":g=!1,n=!0,h=x;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&N(r,n,{hiLevel:x}),r.reverse(),t&&t.reverse(),r.join("")},N=function(e,t,a){var s,i,o,l,c,f=-1,m=e.length,p=0,v=[],w=x?u:d,N=[];for(g=!1,n=!1,r=!1,i=0;i<m;i++)N[i]=b(e[i]);for(o=0;o<m;o++){if(c=p,v[o]=y(e,N,v,o),s=240&(p=w[c][h[v[o]]]),p&=15,t[o]=l=w[p][5],s>0)if(16===s){for(i=f;i<o;i++)t[i]=1;f=-1}else f=-1;if(w[p][6])-1===f&&(f=o);else if(f>-1){for(i=f;i<o;i++)t[i]=l;f=-1}"B"===N[o]&&(t[o]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=x;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=x}}(N,t,m)},j=function(e,t,r,a,s){if(!(s.hiLevel<e)){if(1===e&&1===x&&!n)return t.reverse(),void(r&&r.reverse());for(var i,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)i=t[c],t[c]=t[o],t[o]=i,r&&(i=r[c],r[c]=r[o],r[o]=i);u=l}u++}}},_=function(e,t,n){var r=e.split(""),a={hiLevel:x};return n||(n=[]),N(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=m.indexOf(e[a]))>=0&&(e[a]=m[r+1])}(r,n,a),j(2,r,t,n,a),j(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=v(e)),void 0===o&&(o=v(e))}(e,t),a||!i||o)if(a&&i&&s^o)x=s?1:0,e=w(e,t,n);else if(!a&&i&&o)x=s?1:0,e=_(e,t,n),e=w(e,t);else if(!a||s||i||o){if(a&&!i&&s^o)e=w(e,t),s?(x=0,e=_(e,t,n)):(x=1,e=_(e,t,n),e=w(e,t));else if(a&&s&&!i&&o)x=1,e=_(e,t,n),e=w(e,t);else if(!a&&!i&&s^o){var r=l;s?(x=1,e=_(e,t,n),x=0,l=!1,e=_(e,t,n),l=r):(x=0,e=_(e,t,n),e=w(e,t),x=1,l=!1,e=_(e,t,n),l=r,e=w(e,t))}}else x=0,e=_(e,t,n);else x=s?1:0,e=_(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,i=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),a=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(a=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?a.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):a.push([n.doBidiReorder(t[s])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(De),De.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Zt(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new vn(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new en(this.contents),this.head=new rn(this),this.name=new un(this),this.cmap=new sn(this),this.toUnicode={},this.hhea=new on(this),this.maxp=new hn(this),this.hmtx=new fn(this),this.post=new cn(this),this.os2=new ln(this),this.loca=new bn(this),this.glyf=new pn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,s,i;for(s=0,a=0,i=(e=""+e).length;0<=i?a<i:a>i;a=0<=i?++a:--a)r=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Qt,Zt=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,s,i,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*s+256*i+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),en=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,s,i,o,l,c,d,u,h,f,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),s=Math.floor(d/o),c=16*h-d,(r=new Zt).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(s),r.writeShort(c),a=16*h,l=r.pos+a,i=null,f=[],t)for(u=t[m],r.writeString(m),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),f=f.concat(u),"head"===m&&(i=l),l+=u.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-e(r.data),r.pos=i+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=mn.call(e);e.length%4;)e.push(0);for(r=new Zt(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),tn={}.hasOwnProperty,nn=function(e,t){for(var n in t)tn.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Qt=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var rn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Zt).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),an=function(){function e(e,t){var n,r,a,s,i,o,l,c,d,u,h,f,m,p,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,i=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,b=a.length;g<b;o=++g)for(p=a[o],n=x=f=m[o];f<=p?x<=p:x>=p;n=f<=p?++x:--x)0===c[o]?s=n+l[o]:0!==(s=i[c[o]/2+(n-f)-(u-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}e.pos=d}return e.encode=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,f,m,p,g,x,b,v,y,w,N,j,_,S,k,C,A,P,L,E,M,D,O,T,R,I,F,z,B,q,U,W,H,V,Y,G;switch(P=new Zt,s=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(m=0,p=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),x={0:0},a={},L=0,O=s.length;L<O;L++)null==x[H=e[r=s[L]]]&&(x[H]=++m),a[r]={old:e[r],new:x[e[r]]},p[r]=x[e[r]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(p),{charMap:a,subtable:P.data,maxGlyphID:m+1};case"unicode":for(C=[],d=[],b=0,x={},n={},g=l=null,E=0,T=s.length;E<T;E++)null==x[y=e[r=s[E]]]&&(x[y]=++b),n[r]={old:y,new:x[y]},i=x[y]-r,null!=g&&i===l||(g&&d.push(g),C.push(r),l=i),g=r;for(g&&d.push(g),d.push(65535),C.push(65535),S=2*(_=C.length),j=2*Math.pow(Math.log(_)/Math.LN2,2),u=Math.log(j/2)/Math.LN2,N=2*_-j,o=[],w=[],h=[],f=M=0,R=C.length;M<R;f=++M){if(k=C[f],c=d[f],65535===k){o.push(0),w.push(0);break}if(k-(A=n[k].new)>=32768)for(o.push(0),w.push(2*(h.length+_-f)),r=D=k;k<=c?D<=c:D>=c;r=k<=c?++D:--D)h.push(n[r].new);else o.push(A-k),w.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*_+2*h.length),P.writeUInt16(0),P.writeUInt16(S),P.writeUInt16(j),P.writeUInt16(u),P.writeUInt16(N),U=0,I=d.length;U<I;U++)r=d[U],P.writeUInt16(r);for(P.writeUInt16(0),W=0,F=C.length;W<F;W++)r=C[W],P.writeUInt16(r);for(V=0,z=o.length;V<z;V++)i=o[V],P.writeUInt16(i);for(Y=0,B=w.length;Y<B;Y++)v=w[Y],P.writeUInt16(v);for(G=0,q=h.length;G<q;G++)m=h[G],P.writeUInt16(m);return{charMap:n,subtable:P.data,maxGlyphID:b+1}}},e}(),sn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new an(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=an.encode(e,t),(r=new Zt).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),on=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),ln=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),cn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),dn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},un=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,s,i,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),s=new dn(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),hn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),fn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,s,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),mn=[].slice,pn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,s,i,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(i=new Zt(t.read(r))).readShort(),l=i.readShort(),d=i.readShort(),o=i.readShort(),c=i.readShort(),this.cache[e]=-1===s?new xn(i,l,d,o,c):new gn(i,s,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,s,i,o;for(s=[],a=[],i=0,o=t.length;i<o;i++)r=e[t[i]],a.push(s.length),r&&(s=s.concat(r.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),gn=function(){function e(e,t,n,r,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),xn=function(){function e(e,t,n,r,a){var s,i;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;i=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&i;)s.pos+=1&i?4:2,128&i?s.pos+=8:64&i?s.pos+=4:8&i&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Zt(mn.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),bn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Qt),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,s=0;s<n.length;++s)if(n[s]=r,a<t.length&&t[a]==s){++a,n[s]=r;var i=this.offsets[s],o=this.offsets[s+1]-i;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),vn=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,s,i,o;for(r={},s=0,i=e.length;s<i;s++)r[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,f,m,p,g;for(r in n=sn.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(f in u=n.maxGlyphID,s)f in h||(h[f]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort((function(e,t){return e-t})),m=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)i=d[e],n.push(c[i]);return n}(),a=this.font.glyf.encode(s,m,h),l=this.font.loca.encode(a.offsets,m),p={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();De.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,s,i;if(Array.isArray(n))return"["+function(){var e,a,s;for(s=[],e=0,a=n.length;e<a;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in s=["<<"],n)i=n[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join("\n")}return""+n},t}();const yn=De},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4980);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9722:(e,t,n)=>{"use strict";n.d(t,{A:()=>Pt});var r={};function a(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>de,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>fe,navigator:()=>ue,origin:()=>me});const{toString:s}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:o,toStringTag:l}=Symbol,c=(d=Object.create(null),e=>{const t=s.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),h=e=>t=>typeof t===e,{isArray:f}=Array,m=h("undefined");function p(e){return null!==e&&!m(e)&&null!==e.constructor&&!m(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g=u("ArrayBuffer");const x=h("string"),b=h("function"),v=h("number"),y=e=>null!==e&&"object"===typeof e,w=e=>{if("object"!==c(e))return!1;const t=i(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(l in e)&&!(o in e)},N=u("Date"),j=u("File"),_=u("Blob"),S=u("FileList"),k=u("URLSearchParams"),[C,A,P,L]=["ReadableStream","Request","Response","Headers"].map(u);function E(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),f(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(p(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function M(e,t){if(p(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const D="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,O=e=>!m(e)&&e!==D;const T=(R="undefined"!==typeof Uint8Array&&i(Uint8Array),e=>R&&e instanceof R);var R;const I=u("HTMLFormElement"),F=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),z=u("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};E(n,((n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)})),Object.defineProperties(e,r)};const q=u("AsyncFunction"),U=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],D.addEventListener("message",(e=>{let{source:t,data:a}=e;t===D&&a===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),D.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,b(D.postMessage)),W="undefined"!==typeof queueMicrotask?queueMicrotask.bind(D):"undefined"!==typeof process&&process.nextTick||U,H={isArray:f,isArrayBuffer:g,isBuffer:p,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=c(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:x,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:w,isEmptyObject:e=>{if(!y(e)||p(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:C,isRequest:A,isResponse:P,isHeaders:L,isUndefined:m,isDate:N,isFile:j,isBlob:_,isRegExp:z,isFunction:b,isStream:e=>y(e)&&b(e.pipe),isURLSearchParams:k,isTypedArray:T,isFileList:S,forEach:E,merge:function e(){const{caseless:t}=O(this)&&this||{},n={},r=(r,a)=>{const s=t&&M(n,a)||a;w(n[s])&&w(r)?n[s]=e(n[s],r):w(r)?n[s]=e({},r):f(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&E(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return E(t,((t,r)=>{n&&b(t)?e[r]=a(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,o;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],r&&!r(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!v(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[o]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:I,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,n)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];b(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:M,global:D,isContextDefined:O,isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[l]&&e[o])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(p(e))return e;if(!("toJSON"in e)){t[r]=e;const a=f(e)?[]:{};return E(e,((e,t)=>{const s=n(e,r+1);!m(s)&&(a[t]=s)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:q,isThenable:e=>e&&(y(e)||b(e))&&b(e.then)&&b(e.catch),setImmediate:U,asap:W,isIterable:e=>null!=e&&b(e[o])};function V(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}H.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=V.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(V,G),Object.defineProperty(Y,"isAxiosError",{value:!0}),V.from=(e,t,n,r,a,s)=>{const i=Object.create(Y);return H.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),V.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const X=V;function $(e){return H.isPlainObject(e)||H.isArray(e)}function K(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function J(e,t,n){return e?e.concat(t).map((function(e,t){return e=K(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Q=H.toFlatObject(H,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Z=function(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!H.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(H.isDate(e))return e.toISOString();if(H.isBoolean(e))return e.toString();if(!o&&H.isBlob(e))throw new X("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(e)||H.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(H.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(H.isArray(e)&&function(e){return H.isArray(e)&&!e.some($)}(e)||(H.isFileList(e)||H.endsWith(n,"[]"))&&(o=H.toArray(e)))return n=K(n),o.forEach((function(e,r){!H.isUndefined(e)&&null!==e&&t.append(!0===i?J([n],r,s):null===i?n:n+"[]",l(e))})),!1;return!!$(e)||(t.append(J(a,n,s),l(e)),!1)}const d=[],u=Object.assign(Q,{defaultVisitor:c,convertValue:l,isVisitable:$});if(!H.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!H.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),H.forEach(n,(function(n,s){!0===(!(H.isUndefined(n)||null===n)&&a.call(t,n,H.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])})),d.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const ne=te.prototype;ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const re=te;function ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function se(e,t,n){if(!t)return e;const r=n&&n.encode||ae;H.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):H.isURLSearchParams(t)?t.toString():new re(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ie=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var le=n(9379);const ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:re,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!==typeof window&&"undefined"!==typeof document,ue="object"===typeof navigator&&navigator||void 0,he=de&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),fe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,me=de&&window.location.href||"http://localhost",pe=(0,le.A)((0,le.A)({},r),ce);const ge=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&H.isArray(r)?r.length:s,o)return H.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&H.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&H.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,((e,r)=>{t(function(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const xe={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=H.isObject(e);a&&H.isHTMLForm(e)&&(e=new FormData(e));if(H.isFormData(e))return r?JSON.stringify(ge(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new pe.classes.URLSearchParams,(0,le.A)({visitor:function(e,t,n,r){return pe.isNode&&H.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=H.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xe.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw X.from(a,X.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],(e=>{xe.headers[e]={}}));const be=xe,ve=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ye=Symbol("internals");function we(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:H.isArray(e)?e.map(Ne):String(e)}function je(e,t,n,r,a){return H.isFunction(r)?r.call(this,t,n):(a&&(t=n),H.isString(t)?H.isString(r)?-1!==t.indexOf(r):H.isRegExp(r)?r.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=we(t);if(!a)throw new Error("header name must be a non-empty string");const s=H.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Ne(e))}const s=(e,t)=>H.forEach(e,((e,n)=>a(e,n,t)));if(H.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(H.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&ve[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(H.isObject(e)&&H.isIterable(e)){let n,r,a={};for(const t of e){if(!H.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?H.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=we(e)){const n=H.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(H.isFunction(t))return t.call(this,e,n);if(H.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const n=H.findKey(this,e);return!(!n||void 0===this[n]||t&&!je(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=we(e)){const a=H.findKey(n,e);!a||t&&!je(0,n[a],a,t)||(delete n[a],r=!0)}}return H.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!je(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return H.forEach(this,((r,a)=>{const s=H.findKey(n,a);if(s)return t[s]=Ne(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();i!==a&&delete t[a],t[i]=Ne(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return H.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&H.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=we(e);t[r]||(!function(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return H.isArray(e)?e.forEach(r):r(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),H.reduceDescriptors(_e.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),H.freezeMethods(_e);const Se=_e;function ke(e,t){const n=this||be,r=t||n,a=Se.from(r.headers);let s=r.data;return H.forEach(e,(function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function Ce(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,n){X.call(this,null==e?"canceled":e,X.ERR_CANCELED,t,n),this.name="CanceledError"}H.inherits(Ae,X,{__CANCEL__:!0});const Pe=Ae;function Le(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ee=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];a||(a=l),n[s]=o,r[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Me=function(e,t){let n,r,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(n=l,r||(r=setTimeout((()=>{r=null,i(n)}),s-t)))},()=>n&&i(n)]},De=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Ee(50,250);return Me((n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-r,l=a(o);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Oe=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Te=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H.asap((()=>e(...n)))},Re=pe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,pe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,Ie=pe.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const i=[e+"="+encodeURIComponent(t)];H.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),H.isString(r)&&i.push("path="+r),H.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Fe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ze=e=>e instanceof Se?(0,le.A)({},e):e;function Be(e,t){t=t||{};const n={};function r(e,t,n,r){return H.isPlainObject(e)&&H.isPlainObject(t)?H.merge.call({caseless:r},e,t):H.isPlainObject(t)?H.merge({},t):H.isArray(t)?t.slice():t}function a(e,t,n,a){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!H.isUndefined(t))return r(void 0,t)}function i(e,t){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>a(ze(e),ze(t),0,!0)};return H.forEach(Object.keys((0,le.A)((0,le.A)({},e),t)),(function(r){const s=l[r]||a,i=s(e[r],t[r],r);H.isUndefined(i)&&s!==o||(n[r]=i)})),n}const qe=e=>{const t=Be({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Se.from(o),t.url=se(Fe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),H.isFormData(r))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(pe.hasStandardBrowserEnv&&(a&&H.isFunction(a)&&(a=a(t)),a||!1!==a&&Re(t.url))){const e=s&&i&&Ie.read(i);e&&o.set(s,e)}return t},Ue="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=qe(e);let a=r.data;const s=Se.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r;function m(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=Se.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Le((function(e){t(e),m()}),(function(e){n(e),m()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new X("Request aborted",X.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||oe;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new X(t,a.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,p)),p=null},void 0===a&&s.setContentType(null),"setRequestHeader"in p&&H.forEach(s.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),H.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),f&&([l,d]=De(f,!0),p.addEventListener("progress",l)),h&&p.upload&&([o,c]=De(h),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{p&&(n(!t||t.type?new Pe(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===pe.protocols.indexOf(x)?n(new X("Unsupported protocol "+x+":",X.ERR_BAD_REQUEST,e)):p.send(a||null)}))},We=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof X?t:new Pe(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new X("timeout ".concat(t," of ms exceeded"),X.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=r;return o.unsubscribe=()=>H.asap(i),o}};function He(e,t){this.v=e,this.k=t}function Ve(e){return function(){return new Ye(e.apply(this,arguments))}}function Ye(e){var t,n;function r(t,n){try{var s=e[t](n),i=s.value,o=i instanceof He;Promise.resolve(o?i.v:i).then((function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(s.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ge(e){return new He(e,0)}function Xe(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new He(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function $e(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ke(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ke(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ke=function(e){this.s=e,this.n=e.next},Ke.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ke(e)}Ye.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ye.prototype.next=function(e){return this._invoke("next",e)},Ye.prototype.throw=function(e){return this._invoke("throw",e)},Ye.prototype.return=function(e){return this._invoke("return",e)};const Je=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Qe=function(){var e=Ve((function*(e,t){var n,r=!1,a=!1;try{for(var s,i=$e(Ze(e));r=!(s=yield Ge(i.next())).done;r=!1){const e=s.value;yield*Xe($e(Je(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=i.return&&(yield Ge(i.return()))}finally{if(a)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Ve((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xe($e(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ge(t.read());if(e)break;yield n}}finally{yield Ge(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),et=(e,t,n,r)=>{const a=Qe(e,t);let s,i=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},tt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,nt=tt&&"function"===typeof ReadableStream,rt=tt&&("function"===typeof TextEncoder?(at=new TextEncoder,e=>at.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var at;const st=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},it=nt&&st((()=>{let e=!1;const t=new Request(pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ot=nt&&st((()=>H.isReadableStream(new Response("").body))),lt={stream:ot&&(e=>e.body)};var ct;tt&&(ct=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!lt[e]&&(lt[e]=H.isFunction(ct[e])?t=>t[e]():(t,n)=>{throw new X("Response type '".concat(e,"' is not supported"),X.ERR_NOT_SUPPORT,n)})})));const dt=async(e,t)=>{const n=H.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(H.isBlob(e))return e.size;if(H.isSpecCompliantForm(e)){const t=new Request(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return H.isArrayBufferView(e)||H.isArrayBuffer(e)?e.byteLength:(H.isURLSearchParams(e)&&(e+=""),H.isString(e)?(await rt(e)).byteLength:void 0)})(t):n},ut={http:null,xhr:Ue,fetch:tt&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=qe(e);c=c?(c+"").toLowerCase():"text";let f,m=We([a,s&&s.toAbortSignal()],i);const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&it&&"get"!==n&&"head"!==n&&0!==(g=await dt(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(H.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Oe(g,De(Te(l)));r=et(n.body,65536,e,t)}}H.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,(0,le.A)((0,le.A)({},h),{},{signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0}));let s=await fetch(f,h);const i=ot&&("stream"===c||"response"===c);if(ot&&(o||i&&p)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=H.toFiniteNumber(s.headers.get("content-length")),[n,r]=o&&Oe(t,De(Te(o),!0))||[];s=new Response(et(s.body,65536,n,(()=>{r&&r(),p&&p()})),e)}c=c||"text";let x=await lt[H.findKey(lt,c)||"text"](s,e);return!i&&p&&p(),await new Promise(((t,n)=>{Le(t,n,{data:x,headers:Se.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(x){if(p&&p(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new X("Network Error",X.ERR_NETWORK,e,f),{cause:x.cause||x});throw X.from(x,x&&x.code,e,f)}})};H.forEach(ut,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const ht=e=>"- ".concat(e),ft=e=>H.isFunction(e)||null===e||!1===e,mt=e=>{e=H.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!ft(n)&&(r=ut[(t=String(n)).toLowerCase()],void 0===r))throw new X("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ht).join("\n"):" "+ht(e[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function pt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function gt(e){pt(e),e.headers=Se.from(e.headers),e.data=ke.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return mt(e.adapter||be.adapter)(e).then((function(t){return pt(e),t.data=ke.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t}),(function(t){return Ce(t)||(pt(e),t&&t.response&&(t.response.data=ke.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)}))}const xt="1.11.0",bt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{bt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const vt={};bt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+xt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new X(r(a," has been removed"+(t?" in "+t:"")),X.ERR_DEPRECATED);return t&&!vt[a]&&(vt[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},bt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const yt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new X("option "+s+" must be "+n,X.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new X("Unknown option "+s,X.ERR_BAD_OPTION)}},validators:bt},wt=yt.validators;class Nt{constructor(e){this.defaults=e||{},this.interceptors={request:new ie,response:new ie}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&yt.assertOptions(n,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),null!=r&&(H.isFunction(r)?t.paramsSerializer={serialize:r}:yt.assertOptions(r,{encode:wt.function,serialize:wt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yt.assertOptions(t,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&H.merge(a.common,a[t.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Se.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[gt.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=gt.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return se(Fe((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],(function(e){Nt.prototype[e]=function(t,n){return this.request(Be(n||{},{method:e,url:t,data:(n||{}).data}))}})),H.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(Be(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Nt.prototype[e]=t(),Nt.prototype[e+"Form"]=t(!0)}));const jt=Nt;class _t{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new Pe(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new _t((function(t){e=t})),cancel:e}}}const St=_t;const kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kt).forEach((e=>{let[t,n]=e;kt[n]=t}));const Ct=kt;const At=function e(t){const n=new jt(t),r=a(jt.prototype.request,n);return H.extend(r,jt.prototype,n,{allOwnKeys:!0}),H.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Be(t,n))},r}(be);At.Axios=jt,At.CanceledError=Pe,At.CancelToken=St,At.isCancel=Ce,At.VERSION=xt,At.toFormData=Z,At.AxiosError=X,At.Cancel=At.CanceledError,At.all=function(e){return Promise.all(e)},At.spread=function(e){return function(t){return e.apply(null,t)}},At.isAxiosError=function(e){return H.isObject(e)&&!0===e.isAxiosError},At.mergeConfig=Be,At.AxiosHeaders=Se,At.formToJSON=e=>ge(H.isHTMLForm(e)?new FormData(e):e),At.getAdapter=mt,At.HttpStatusCode=Ct,At.default=At;const Pt=At}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{55:"07ecb4e2",213:"042bb37f",239:"dfdb0d71",455:"d8fc79e9"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,s,i=r[0],o=r[1],l=r[2],c=0;if(i.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>jg,Encoder:()=>wg,PacketType:()=>yg,protocol:()=>vg});var t,r=n(5043),a=n.t(r,2),s=n(4391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,n,r,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:c=!1}=a,f=s.history,m=t.Pop,p=null,g=x();function x(){return(f.state||{idx:null}).idx}function b(){m=t.Pop;let e=x(),n=null==e?null:e-g;g=e,p&&p({action:m,location:y.location,delta:n})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(i({},f.state,{idx:g}),""));let y={get action(){return m},get location(){return e(s,f)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(o,b),p=e,()=>{s.removeEventListener(o,b),p=null}},createHref:e=>n(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){m=t.Push;let a=u(y.location,e,n);r&&r(a,e),g=x()+1;let i=d(a,g),o=y.createHref(a);try{f.pushState(i,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(o)}c&&p&&p({action:m,location:y.location,delta:1})},replace:function(e,n){m=t.Replace;let a=u(y.location,e,n);r&&r(a,e),g=x();let s=d(a,g),i=y.createHref(a);f.replaceState(s,"",i),c&&p&&p({action:m,location:y.location,delta:0})},go:e=>f.go(e)};return y}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let a=E(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=L(a);i=A(s[o],e,r)}return i}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(l(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=R([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))a(e,t,r);else a(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=v(r.join("/")),o=[];return o.push(...i.map((e=>""===e?s:[s,e].join("/")))),a&&o.push(...i),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,w=3,N=2,j=1,_=10,S=-2,k=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=S),t&&(r+=N),n.filter((e=>!k(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?j:_)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:R([s,d.pathname]),pathnameBase:I(R([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=R([s,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function T(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=f(e):(a=i({},e),l(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),l(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),l(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let s,o=""===e||""===a.pathname,c=o?"/":a.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:z(a)}}(a,s),u=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],U=(new Set(q),["get",...q]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=r.createContext(null);const V=r.createContext(null);const Y=r.createContext(null);const G=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function K(){return null!=r.useContext(G)}function J(){return K()||l(!1),r.useContext(G).location}function Q(e){r.useContext(Y).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=de(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=r.useRef(!1);Q((()=>{n.current=!0}));let a=r.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},a)))}),[e,t]);return a}():function(){K()||l(!1);let e=r.useContext(H),{basename:t,future:n,navigator:a}=r.useContext(Y),{matches:s}=r.useContext(X),{pathname:i}=J(),o=JSON.stringify(O(s,n.v7_relativeSplatPath)),c=r.useRef(!1);Q((()=>{c.current=!0}));let d=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void a.go(n);let s=T(n,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:R([t,s.pathname])),(r.replace?a.replace:a.push)(s,r.state,r)}),[t,a,o,i,e]);return d}()}const ee=r.createContext(null);function te(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext(Y),{matches:s}=r.useContext(X),{pathname:i}=J(),o=JSON.stringify(O(s,a.v7_relativeSplatPath));return r.useMemo((()=>T(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function ne(e,n,a,s){K()||l(!1);let{navigator:i}=r.useContext(Y),{matches:o}=r.useContext(X),c=o[o.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,m=J();if(n){var p;let e="string"===typeof n?f(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||l(!1),h=e}else h=m;let x=h.pathname||"/",b=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:b});let y=oe(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,a,s);return n&&y?r.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},y):y}function re(){let e=function(){var e;let t=r.useContext($),n=ue(ce.UseRouteError),a=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ae=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},a)}function oe(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=o.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,a,s)=>{let i,l=!1,h=null,f=null;var m;n&&(i=c&&a.route.id?c[a.route.id]:void 0,h=a.route.errorElement||ae,d&&(u<0&&0===s?(m="route-fallback",!1||fe[m]||(fe[m]=!0),l=!0,f=null):u===s&&(l=!0,f=a.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=i?h:l?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(ie,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=r.useContext(H);return t||l(!1),t}function ue(e){let t=r.useContext(V);return t||l(!1),t}function he(e){let t=function(){let e=r.useContext(X);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function pe(e){let{to:t,replace:n,state:a,relative:s}=e;K()||l(!1);let{future:i,static:o}=r.useContext(Y),{matches:c}=r.useContext(X),{pathname:d}=J(),u=Z(),h=T(t,O(c,i.v7_relativeSplatPath),d,"path"===s),f=JSON.stringify(h);return r.useEffect((()=>u(JSON.parse(f),{replace:n,state:a,relative:s})),[u,f,s,n,a]),null}function ge(e){return function(e){let t=r.useContext(X).outlet;return t?r.createElement(ee.Provider,{value:e},t):t}(e.context)}function xe(e){l(!1)}function be(e){let{basename:n="/",children:a=null,location:s,navigationType:i=t.Pop,navigator:o,static:c=!1,future:d}=e;K()&&l(!1);let u=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:u,navigator:o,static:c,future:W({v7_relativeSplatPath:!1},d)})),[u,d,o,c]);"string"===typeof s&&(s=f(s));let{pathname:m="/",search:p="",hash:g="",state:x=null,key:b="default"}=s,v=r.useMemo((()=>{let e=E(m,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:x,key:b},navigationType:i}}),[u,m,p,g,x,b,i]);return null==v?null:r.createElement(Y.Provider,{value:h},r.createElement(G.Provider,{children:a,value:v}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==xe&&l(!1),e.props.index&&e.props.children&&l(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ye(e.props.children,s)),n.push(i)})),n}var we=n(7950),Ne=n.t(we,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ke=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Zy){}const Ce=r.createContext({isTransitioning:!1});new Map;const Ae=a.startTransition;Ne.flushSync,a.useId;function Pe(e){let{basename:t,children:n,future:a,window:s}=e,i=r.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return u("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,o)));let l=i.current,[c,d]=r.useState({action:l.action,location:l.location}),{v7_startTransition:f}=a||{},p=r.useCallback((e=>{f&&Ae?Ae((()=>d(e))):d(e)}),[d,f]);return r.useLayoutEffect((()=>l.listen(p)),[l,p]),r.useEffect((()=>me(a)),[a]),r.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const Le="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=r.forwardRef((function(e,t){let n,{onClick:a,relative:s,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:f,viewTransition:m}=e,p=_e(e,Se),{basename:g}=r.useContext(Y),x=!1;if("string"===typeof u&&Ee.test(u)&&(n=u,Le))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=E(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:x=!0}catch(Zy){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;K()||l(!1);let{basename:a,navigator:s}=r.useContext(Y),{hash:i,pathname:o,search:c}=te(e,{relative:n}),d=o;return"/"!==a&&(d="/"===o?a:R([a,o])),s.createHref({pathname:d,search:c,hash:i})}(u,{relative:s}),v=function(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=Z(),d=J(),u=te(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:h(d)===h(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}}),[d,c,u,a,s,n,e,i,o,l])}(u,{replace:o,state:c,target:d,preventScrollReset:f,relative:s,viewTransition:m});return r.createElement("a",je({},p,{href:n||b,onClick:x||i?a:function(e){a&&a(e),e.defaultPrevented||v(e)},ref:t,target:d}))}));const De=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:d,children:u}=e,h=_e(e,ke),f=te(c,{relative:h.relative}),m=J(),p=r.useContext(V),{navigator:g,basename:x}=r.useContext(Y),b=null!=p&&function(e,t){void 0===t&&(t={});let n=r.useContext(Ce);null==n&&l(!1);let{basename:a}=Re(Oe.useViewTransitionState),s=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=E(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=E(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=P(s.pathname,o)||null!=P(s.pathname,i)}(f)&&!0===d,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,y=m.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&x&&(w=E(w,x)||w);const N="/"!==v&&v.endsWith("/")?v.length-1:v.length;let j,_=y===v||!i&&y.startsWith(v)&&"/"===y.charAt(N),S=null!=w&&(w===v||!i&&w.startsWith(v)&&"/"===w.charAt(v.length)),k={isActive:_,isPending:S,isTransitioning:b},C=_?n:void 0;j="function"===typeof s?s(k):[s,_?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof o?o(k):o;return r.createElement(Me,je({},h,{"aria-current":C,className:j,ref:t,style:A,to:c,viewTransition:d}),"function"===typeof u?u(k):u)}));var Oe,Te;function Re(e){let t=r.useContext(H);return t||l(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Ie=n(9379);class Fe extends Error{}function ze(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return atob(t)}}function Be(e,t){if("string"!==typeof e)throw new Fe("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new Fe("Invalid token specified: missing part #".concat(n+1));let a;try{a=ze(r)}catch(Zy){throw new Fe("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(Zy.message,")"))}try{return JSON.parse(a)}catch(Zy){throw new Fe("Invalid token specified: invalid json for part #".concat(n+1," (").concat(Zy.message,")"))}}Fe.prototype.name="InvalidTokenError";var qe=n(579);const Ue=(0,r.createContext)(null),We=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!0),u=(0,r.useCallback)((()=>{const e=localStorage.getItem("token");if(e)try{const t=Be(e);if(!(1e3*t.exp<Date.now()))return a(e),i(t),void l(!0);localStorage.removeItem("token")}catch(t){console.error("Falha ao descodificar token, a limpar...",t),localStorage.removeItem("token")}a(null),i(null),l(!1)}),[]);(0,r.useEffect)((()=>{u(),d(!1)}),[u]);const h=()=>{localStorage.removeItem("token"),a(null),i(null),l(!1)},f={token:n,user:s,isAuthenticated:o,isLoading:c,login:e=>{try{localStorage.setItem("token",e);const t=Be(e);a(e),i(t),l(!0)}catch(t){console.error("Erro ao processar novo token de login:",t),h()}},logout:h,updateUser:e=>{if(s){const t=(0,Ie.A)((0,Ie.A)({},s),e);i(t)}}};return(0,qe.jsx)(Ue.Provider,{value:f,children:!c&&t})},He=()=>{const e=(0,r.useContext)(Ue);if(null===e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e};var Ve=n(9722);const Ye={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:3000/api",Ge=e=>({headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),Xe=async e=>{try{return(await Ve.A.get("".concat(Ye,"/admin/users"),Ge(e))).data.users||[]}catch(i){var t,n,r,a,s;throw console.error("Erro ao buscar utilizadores:",(null===(t=i.response)||void 0===t?void 0:t.data)||i.message),new Error((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.errors)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.msg)||"N\xe3o foi poss\xedvel carregar a lista de utilizadores.")}},$e=async e=>{try{return(await Ve.A.get("".concat(Ye,"/admin/patients"),Ge(e))).data.patients||[]}catch(i){var t,n,r,a,s;throw console.error("Erro ao buscar pacientes:",(null===(t=i.response)||void 0===t?void 0:t.data)||i.message),new Error((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.errors)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.msg)||"N\xe3o foi poss\xedvel carregar a lista de pacientes.")}},Ke={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:3000/api";var Je=n(1487);const Qe={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:3000/api",Ze=e=>(e||console.error("[API-LOG] Tentativa de criar cabe\xe7alho de autentica\xe7\xe3o sem token."),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),et=async(e,t,n)=>{try{return(await Ve.A.post("".concat(Qe,"/assignments"),{patientId:e,programId:t},Ze(n))).data}catch(l){var r,a,s,i,o;throw console.error("Erro ao atribuir programa ".concat(t," ao paciente ").concat(e,":"),(null===(r=l.response)||void 0===r?void 0:r.data)||l.message),new Error((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.errors)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.msg)||"N\xe3o foi poss\xedvel atribuir o programa.")}},tt=(0,r.createContext)(null),nt=e=>{let{children:t}=e;const[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)(""),{user:m,isAuthenticated:p,token:g}=He(),[x,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[j,_]=(0,r.useState)({}),[S,k]=(0,r.useState)({}),C=r.useRef({}),A=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!p||!m||!g)return s([]),o(null),void c(!1);c(!0),f("");try{let t=[];if("super_admin"===m.role)t=[];else if(m.is_admin)t=await $e(g);else if("terapeuta"===m.role)t=await(async e=>{try{console.log("[API-LOG] fetchAllPatients: Iniciando busca de pacientes para terapeuta");const t=await Ve.A.get("".concat(Qe,"/patients"),Ze(e));return console.log("[API-LOG] fetchAllPatients: Sucesso -",t.data.length,"pacientes encontrados"),t.data}catch(h){var t,n,r,a,s;throw console.error("[API-LOG] fetchAllPatients: Erro -",(null===(t=h.response)||void 0===t?void 0:t.data)||h.message),new Error((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.errors)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.msg)||"N\xe3o foi poss\xedvel carregar os pacientes.")}})(g);else if("pai"===m.role){const e=await(async e=>{try{const t=await Ve.A.get("".concat(Ke,"/parent/dashboard"),(e=>({headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}))(e));return t.data}catch(h){var t,n,r,a,s;throw console.error("Erro ao buscar dados do dashboard parental:",(null===(t=h.response)||void 0===t?void 0:t.data)||h.message),new Error((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.errors)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.msg)||"N\xe3o foi poss\xedvel carregar os dados de acompanhamento.")}})(g);t=e.patient?[e.patient]:[],e.patient&&o(e.patient)}if(s(t),e){const n=t.find((t=>t.id===e));n&&o(n)}else"pai"!==m.role&&o(null)}catch(t){f(t.message||"Falha ao carregar dados.")}finally{c(!1)}}),[p,m,g]),P=(0,r.useCallback)((async e=>{if(!e)return o(null),_({}),void k({});o(e)}),[]);(0,r.useEffect)((()=>{A()}),[A]),(0,r.useEffect)((()=>()=>{const e=C.current;Object.values(e).forEach((e=>{e&&clearTimeout(e)}))}),[]);const L=async e=>{if(!i)throw new Error("Nenhum cliente selecionado.");const t=i.id;try{await e(),await A(t)}catch(h){throw console.error("Erro ao executar a\xe7\xe3o e recarregar:",h),h}},E=(0,r.useCallback)((async(e,t)=>{const r="".concat(e,"_").concat(t);if(void 0!==S[r])return S[r];if(void 0!==j[r])return j[r];try{const{getPromptLevelByPatientAndProgram:a}=await n.e(55).then(n.bind(n,4055)),s=(await a(e,t)).currentPromptLevel;if(null!==s&&void 0!==s)return _((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[r]:s}))),s}catch(h){console.warn("Erro ao buscar prompt level do banco:",h)}return _((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[r]:5}))),5}),[j,S]),M=(0,r.useCallback)((async function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s="".concat(e,"_").concat(t);k((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[s]:r}))),_((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[s]:r}))),C.current[s]&&clearTimeout(C.current[s]),C.current[s]=setTimeout((async()=>{if(a)try{const{updatePromptLevel:e}=await n.e(55).then(n.bind(n,4055));await e(a,r),console.log("[PROMPT-LEVEL] Salvo no banco: Assignment ".concat(a," \u2192 N\xedvel ").concat(r)),k((e=>{const t=(0,Ie.A)({},e);return delete t[s],t}))}catch(h){console.error("Erro ao salvar prompt level no banco:",h),k((e=>{const t=(0,Ie.A)({},e);return delete t[s],t}));try{const{getPromptLevelByPatientAndProgram:r}=await n.e(55).then(n.bind(n,4055)),a=(await r(e,t)).currentPromptLevel||5;_((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[s]:a})))}catch(i){console.warn("Erro ao buscar valor real do banco:",i)}}else console.warn("N\xe3o foi poss\xedvel salvar: assignmentId n\xe3o fornecido"),k((e=>{const t=(0,Ie.A)({},e);return delete t[s],t}));delete C.current[s]}),500)}),[]),D={patients:a,selectedPatient:i,isLoading:l,isLoadingPatient:d,error:h,selectPatient:P,isPatientFormOpen:x,patientToEdit:w,openPatientForm:(0,r.useCallback)((function(){N(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),b(!0)}),[]),closePatientForm:(0,r.useCallback)((()=>{N(null),b(!1)}),[]),isReportModalOpen:v,openReportModal:(0,r.useCallback)((()=>y(!0)),[]),closeReportModal:(0,r.useCallback)((()=>y(!1)),[]),assignProgram:e=>L((()=>et(i.id,e,g))),removeProgram:e=>{var t;if(!i)return;const n=null===(t=i.assigned_programs)||void 0===t?void 0:t.find((t=>t.program_id===e));if(!n)return void console.error("Erro: N\xe3o foi poss\xedvel encontrar a refer\xeancia do programa para remo\xe7\xe3o.");const r=n.assignment_id;window.confirm("Tem a certeza que deseja remover este programa permanentemente? Esta a\xe7\xe3o n\xe3o pode ser desfeita.")&&L((()=>(async(e,t)=>{try{await Ve.A.delete("".concat(Qe,"/assignments/").concat(e),Ze(t))}catch(h){var n,r,a,s,i;console.error("Erro ao remover a atribui\xe7\xe3o ".concat(e,":"),(null===(n=h.response)||void 0===n?void 0:n.data)||h.message);const o=(null===(r=h.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.msg)||"N\xe3o foi poss\xedvel remover o programa.";throw new Error(o)}})(r,g)))},toggleProgramStatus:(e,t)=>{const n="archived"===t?"active":"archived";L((()=>(0,Je.xT)(e,n,g)))},addSession:e=>L((()=>(async(e,t,n)=>{try{console.log("[API-LOG] createSession: Criando sess\xe3o para paciente ".concat(e));const r=await Ve.A.post("".concat(Qe,"/programs/evolution"),t,Ze(n));return console.log("[API-LOG] createSession: Sucesso"),r.data}catch(h){var r,a,s,i,o;throw console.error("[API-LOG] createSession: Erro para paciente ".concat(e," -"),(null===(r=h.response)||void 0===r?void 0:r.data)||h.message),new Error((null===(a=h.response)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.errors)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.msg)||"N\xe3o foi poss\xedvel criar a sess\xe3o.")}})(i.id,e,g))),saveNotes:e=>L((()=>(async(e,t,n)=>{try{console.log("[API-LOG] updatePatientNotes: Atualizando notas do paciente ".concat(e));const r=await Ve.A.patch("".concat(Qe,"/patients/").concat(e,"/notes"),{general_notes:t},Ze(n));return console.log("[API-LOG] updatePatientNotes: Sucesso"),r.data}catch(h){var r,a,s,i,o;throw console.error("[API-LOG] updatePatientNotes: Erro para paciente ".concat(e," -"),(null===(r=h.response)||void 0===r?void 0:r.data)||h.message),new Error((null===(a=h.response)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.errors)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.msg)||"N\xe3o foi poss\xedvel atualizar as notas.")}})(i.id,e,g))),refreshPatientData:A,getPromptLevelForProgram:E,setPromptLevelForProgram:M};return(0,qe.jsx)(tt.Provider,{value:D,children:t})},rt=()=>{const e=(0,r.useContext)(tt);if(null===e)throw new Error("usePatients deve ser usado dentro de um PatientProvider");return e},at=(0,r.createContext)(),st=e=>{let{children:t}=e;const[a,s]=(0,r.useState)({}),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),{isAuthenticated:h}=He(),f=(0,r.useCallback)((async()=>{if(h){c(!0),u(null);try{const e=await(0,Je.pF)();s(e||{})}catch(e){u("N\xe3o foi poss\xedvel carregar os programas."),console.error("Erro em ProgramContext ao buscar dados:",e)}finally{c(!1)}}else s({})}),[h]),m=(0,r.useCallback)((e=>{if(!a||"object"!==typeof a)return null;for(const t in a){const n=a[t];if(n&&"object"===typeof n)for(const r in n){const a=n[r];if(a&&"object"===typeof a)for(const n in a){const s=a[n];if(Array.isArray(s)){const a=s.find((t=>t.id==e));if(a)return(0,Ie.A)((0,Ie.A)({},a),{},{area:r,discipline:t,sub_area:n})}}}}return null}),[a]);(0,r.useEffect)((()=>{f()}),[f]);const p=(0,r.useCallback)((async e=>{const t=m(e);if(t)o(t);else{c(!0),u(null);try{const{getProgramById:t}=await Promise.resolve().then(n.bind(n,1487)),r=await t(e);o(r)}catch(r){u("N\xe3o foi poss\xedvel carregar os detalhes do programa."),console.error("Erro em ProgramContext ao buscar programa ".concat(e,":"),r),o(null)}finally{c(!1)}}}),[m]),g={disciplines:a,selectedProgram:i,isLoading:l,error:d,refreshPrograms:f,fetchProgramDetails:p,getProgramById:m,clearSelectedProgram:()=>o(null)};return(0,qe.jsx)(at.Provider,{value:g,children:t})},it=()=>{const e=(0,r.useContext)(at);if(null===e)throw new Error("usePrograms deve ser usado dentro de um ProgramProvider");return e};var ot=n(3488);function lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ut=()=>{};let ht={},ft={},mt=null,pt={mark:ut,measure:ut};try{"undefined"!==typeof window&&(ht=window),"undefined"!==typeof document&&(ft=document),"undefined"!==typeof MutationObserver&&(mt=MutationObserver),"undefined"!==typeof performance&&(pt=performance)}catch(Zy){}const{userAgent:gt=""}=ht.navigator||{},xt=ht,bt=ft,vt=mt,yt=pt,wt=(xt.document,!!bt.documentElement&&!!bt.head&&"function"===typeof bt.addEventListener&&"function"===typeof bt.createElement),Nt=~gt.indexOf("MSIE")||~gt.indexOf("Trident/");var jt={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},_t=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],St="classic",kt="duotone",Ct=[St,kt,"sharp","sharp-duotone"],At=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Pt=["fak","fa-kit","fakd","fa-kit-duotone"],Lt={fak:"kit","fa-kit":"kit"},Et={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},Mt=["fak","fakd"],Dt={kit:"fak"},Ot={"kit-duotone":"fakd"},Tt={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Rt=["fak","fa-kit","fakd","fa-kit-duotone"],It={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Ft=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],zt=[1,2,3,4,5,6,7,8,9,10],Bt=zt.concat([11,12,13,14,15,16,17,18,19,20]),qt=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Tt.GROUP,Tt.SWAP_OPACITY,Tt.PRIMARY,Tt.SECONDARY].concat(zt.map((e=>"".concat(e,"x")))).concat(Bt.map((e=>"w-".concat(e))));const Ut="___FONT_AWESOME___",Wt=16,Ht="svg-inline--fa",Vt="data-fa-i2svg",Yt="data-fa-pseudo-element",Gt="data-prefix",Xt="data-icon",$t="fontawesome-i2svg",Kt=["HTML","HEAD","STYLE","SCRIPT"],Jt=(()=>{try{return!0}catch(e){return!1}})();function Qt(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[St]})}const Zt=dt({},jt);Zt[St]=dt(dt(dt(dt({},{"fa-duotone":"duotone"}),jt[St]),Lt),Et);const en=Qt(Zt),tn=dt({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});tn[St]=dt(dt(dt(dt({},{duotone:"fad"}),tn[St]),Dt),Ot);const nn=Qt(tn),rn=dt({},It);rn[St]=dt(dt({},rn[St]),{fak:"fa-kit"});const an=Qt(rn),sn=dt({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});sn[St]=dt(dt({},sn[St]),{"fa-kit":"fak"});Qt(sn);const on=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ln="fa-layers-text",cn=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,dn=(Qt(dt({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),un={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},hn=["kit",...qt],fn=xt.FontAwesomeConfig||{};if(bt&&"function"===typeof bt.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=bt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(fn[n]=r)}))}const mn={styleDefault:"solid",familyDefault:St,cssPrefix:"fa",replacementClass:Ht,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};fn.familyPrefix&&(fn.cssPrefix=fn.familyPrefix);const pn=dt(dt({},mn),fn);pn.autoReplaceSvg||(pn.observeMutations=!1);const gn={};Object.keys(mn).forEach((e=>{Object.defineProperty(gn,e,{enumerable:!0,set:function(t){pn[e]=t,xn.forEach((e=>e(gn)))},get:function(){return pn[e]}})})),Object.defineProperty(gn,"familyPrefix",{enumerable:!0,set:function(e){pn.cssPrefix=e,xn.forEach((e=>e(gn)))},get:function(){return pn.cssPrefix}}),xt.FontAwesomeConfig=gn;const xn=[];const bn=Wt,vn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function yn(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function wn(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Nn(e){return e.classList?wn(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function jn(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _n(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function Sn(e){return e.size!==vn.size||e.x!==vn.x||e.y!==vn.y||e.rotate!==vn.rotate||e.flipX||e.flipY}function kn(){const e="fa",t=Ht,n=gn.cssPrefix,r=gn.replacementClass;let a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");a=a.replace(s,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(o,".".concat(r))}return a}let Cn=!1;function An(){gn.autoAddCss&&!Cn&&(!function(e){if(!e||!wt)return;const t=bt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=bt.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const e=n[a],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}bt.head.insertBefore(t,r)}(kn()),Cn=!0)}var Pn={mixout:()=>({dom:{css:kn,insertCss:An}}),hooks:()=>({beforeDOMElementCreation(){An()},beforeI2svg(){An()}})};const Ln=xt||{};Ln[Ut]||(Ln[Ut]={}),Ln[Ut].styles||(Ln[Ut].styles={}),Ln[Ut].hooks||(Ln[Ut].hooks={}),Ln[Ut].shims||(Ln[Ut].shims=[]);var En=Ln[Ut];const Mn=[],Dn=function(){bt.removeEventListener("DOMContentLoaded",Dn),On=1,Mn.map((e=>e()))};let On=!1;function Tn(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?jn(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(jn(e[n]),'" ')),"").trim()}(n),">").concat(r.map(Tn).join(""),"</").concat(t,">")}function Rn(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}wt&&(On=(bt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bt.readyState),On||bt.addEventListener("DOMContentLoaded",Dn));var In=function(e,t,n,r){var a,s,i,o=Object.keys(e),l=o.length,c=void 0!==r?function(e,t){return function(n,r,a,s){return e.call(t,n,r,a,s)}}(t,r):t;for(void 0===n?(a=1,i=e[o[0]]):(a=0,i=n);a<l;a++)i=c(i,e[s=o[a]],s,e);return i};function Fn(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e);return 1===t.length?t[0].toString(16):null}function zn(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Bn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,a=zn(t);"function"!==typeof En.hooks.addPack||r?En.styles[e]=dt(dt({},En.styles[e]||{}),a):En.hooks.addPack(e,zn(t)),"fas"===e&&Bn("fa",t)}const{styles:qn,shims:Un}=En,Wn=Object.keys(an),Hn=Wn.reduce(((e,t)=>(e[t]=Object.keys(an[t]),e)),{});let Vn=null,Yn={},Gn={},Xn={},$n={},Kn={};function Jn(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r!==e||""===a||(s=a,~hn.indexOf(s))?null:a;var s}const Qn=()=>{const e=e=>In(qn,((t,n,r)=>(t[r]=In(n,e,{}),t)),{});Yn=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),Gn=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Kn=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in qn||gn.autoFetchSvg,n=In(Un,((e,n)=>{const r=n[0];let a=n[1];const s=n[2];return"far"!==a||t||(a="fas"),"string"===typeof r&&(e.names[r]={prefix:a,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:a,iconName:s}),e}),{names:{},unicodes:{}});Xn=n.names,$n=n.unicodes,Vn=ar(gn.styleDefault,{family:gn.familyDefault})};var Zn;function er(e,t){return(Yn[e]||{})[t]}function tr(e,t){return(Kn[e]||{})[t]}function nr(e){return Xn[e]||{prefix:null,iconName:null}}function rr(){return Vn}Zn=e=>{Vn=ar(e.styleDefault,{family:gn.familyDefault})},xn.push(Zn),Qn();function ar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=St}=t,r=en[n][e];if(n===kt&&!e)return"fad";const a=nn[n][e]||nn[n][r],s=e in En.styles?e:null;return a||s||null}function sr(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function ir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=Ft.concat(Rt),s=sr(e.filter((e=>a.includes(e)))),i=sr(e.filter((e=>!Ft.includes(e)))),o=s.filter((e=>(r=e,!_t.includes(e)))),[l=null]=o,c=function(e){let t=St;const n=Wn.reduce(((e,t)=>(e[t]="".concat(gn.cssPrefix,"-").concat(t),e)),{});return Ct.forEach((r=>{(e.includes(n[r])||e.some((e=>Hn[r].includes(e))))&&(t=r)})),t}(s),d=dt(dt({},function(e){let t=[],n=null;return e.forEach((e=>{const r=Jn(gn.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(i)),{},{prefix:ar(l,{family:c})});return dt(dt(dt({},d),function(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:s={},config:i={}}=e,o=n===kt,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===i.familyDefault,d="fad"===r.prefix||"fa-duotone"===r.prefix;!o&&(l||c||d)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&or.includes(n)){if(Object.keys(s).find((e=>lr.includes(e)))||i.autoFetchSvg){const e=At.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=tr(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=rr()||"fas");return r}({values:e,family:c,styles:qn,config:gn,canonical:d,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const s="fa"===t?nr(a):{},i=tr(r,a);a=s.iconName||i||a,r=s.prefix||r,"far"!==r||qn.far||!qn.fas||gn.autoFetchSvg||(r="fas");return{prefix:r,iconName:a}}(n,r,d))}const or=Ct.filter((e=>e!==St||e!==kt)),lr=Object.keys(It).filter((e=>e!==St)).map((e=>Object.keys(It[e]))).flat();let cr=[],dr={};const ur={},hr=Object.keys(ur);function fr(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(dr[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(dr[e]||[]).forEach((e=>{e.apply(null,n)}))}function pr(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ur[e]?ur[e].apply(null,t):void 0}function gr(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||rr();if(t)return t=tr(n,t)||t,Rn(xr.definitions,n,t)||Rn(En.styles,n,t)}const xr=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=dt(dt({},this.definitions[e]||{}),r[e]),Bn(e,r[e]);const t=an[St][e];t&&Bn(t,r[e]),Qn()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:a,icon:s}=n[t],i=s[2];e[r]||(e[r]={}),i.length>0&&i.forEach((t=>{"string"===typeof t&&(e[r][t]=s)})),e[r][a]=s})),e}},br={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wt?(mr("beforeI2svg",e),pr("pseudoElements2svg",e),pr("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===gn.autoReplaceSvg&&(gn.autoReplaceSvg=!0),gn.observeMutations=!0,n=()=>{wr({autoReplaceSvgRoot:t}),mr("watch",e)},wt&&(On?setTimeout(n,0):Mn.push(n))}},vr={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:tr(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=ar(e[0]);return{prefix:n,iconName:tr(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(gn.cssPrefix,"-"))>-1||e.match(on))){const t=ir(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||rr(),iconName:tr(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=rr();return{prefix:t,iconName:tr(t,e)||e}}}},yr={noAuto:()=>{gn.autoReplaceSvg=!1,gn.observeMutations=!1,mr("noAuto")},config:gn,dom:br,parse:vr,library:xr,findIconDefinition:gr,toHtml:Tn},wr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=bt}=e;(Object.keys(En.styles).length>0||gn.autoFetchSvg)&&wt&&gn.autoReplaceSvg&&yr.dom.i2svg({node:t})};function Nr(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>Tn(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!wt)return;const t=bt.createElement("div");return t.innerHTML=e.html,t.children}}),e}function jr(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:s,symbol:i,title:o,maskId:l,titleId:c,extra:d,watchable:u=!1}=e,{width:h,height:f}=n.found?n:t,m=Mt.includes(r),p=[gn.replacementClass,a?"".concat(gn.cssPrefix,"-").concat(a):""].filter((e=>-1===d.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(d.classes).join(" ");let g={children:[],attributes:dt(dt({},d.attributes),{},{"data-prefix":r,"data-icon":a,class:p,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)})};const x=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};u&&(g.attributes[Vt]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||yn())},children:[o]}),delete g.attributes.title);const b=dt(dt({},g),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:s,symbol:i,styles:dt(dt({},x),d.styles)}),{children:v,attributes:y}=n.found&&t.found?pr("generateAbstractMask",b)||{children:[],attributes:{}}:pr("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=v,b.attributes=y,i?function(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:s}=e;const i=!0===s?"".concat(t,"-").concat(gn.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:dt(dt({},a),{},{id:i}),children:r}]}]}(b):function(e){let{children:t,main:n,mask:r,attributes:a,styles:s,transform:i}=e;if(Sn(i)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};a.style=_n(dt(dt({},s),{},{"transform-origin":"".concat(r.x+i.x/16,"em ").concat(r.y+i.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(b)}function _r(e){const{content:t,width:n,height:r,transform:a,title:s,extra:i,watchable:o=!1}=e,l=dt(dt(dt({},i.attributes),s?{title:s}:{}),{},{class:i.classes.join(" ")});o&&(l[Vt]="");const c=dt({},i.styles);Sn(a)&&(c.transform=function(e){let{transform:t,width:n=Wt,height:r=Wt,startCentered:a=!1}=e,s="";return s+=a&&Nt?"translate(".concat(t.x/bn-n/2,"em, ").concat(t.y/bn-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/bn,"em), calc(-50% + ").concat(t.y/bn,"em)) "):"translate(".concat(t.x/bn,"em, ").concat(t.y/bn,"em) "),s+="scale(".concat(t.size/bn*(t.flipX?-1:1),", ").concat(t.size/bn*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:a,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const d=_n(c);d.length>0&&(l.style=d);const u=[];return u.push({tag:"span",attributes:l,children:[t]}),s&&u.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),u}const{styles:Sr}=En;function kr(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(gn.cssPrefix,"-").concat(un.GROUP)},children:[{tag:"path",attributes:{class:"".concat(gn.cssPrefix,"-").concat(un.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(gn.cssPrefix,"-").concat(un.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const Cr={found:!1,width:512,height:512};function Ar(e,t){let n=t;return"fa"===t&&null!==gn.styleDefault&&(t=rr()),new Promise(((r,a)=>{if("fa"===n){const n=nr(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&Sr[t]&&Sr[t][e]){return r(kr(Sr[t][e]))}!function(e,t){Jt||gn.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(dt(dt({},Cr),{},{icon:gn.showMissingIcons&&e&&pr("missingIconAbstract")||{}}))}))}const Pr=()=>{},Lr=gn.measurePerformance&&yt&&yt.mark&&yt.measure?yt:{mark:Pr,measure:Pr},Er='FA "6.7.2"',Mr=e=>{Lr.mark("".concat(Er," ").concat(e," ends")),Lr.measure("".concat(Er," ").concat(e),"".concat(Er," ").concat(e," begins"),"".concat(Er," ").concat(e," ends"))};var Dr=e=>(Lr.mark("".concat(Er," ").concat(e," begins")),()=>Mr(e));const Or=()=>{};function Tr(e){return"string"===typeof(e.getAttribute?e.getAttribute(Vt):null)}function Rr(e){return bt.createElementNS("http://www.w3.org/2000/svg",e)}function Ir(e){return bt.createElement(e)}function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?Rr:Ir)}=t;if("string"===typeof e)return bt.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(Fr(e,{ceFn:n}))})),r}const zr={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(Fr(e),t)})),null===t.getAttribute(Vt)&&gn.keepOriginalSource){let e=bt.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Nn(t).indexOf(gn.replacementClass))return zr.replace(e);const r=new RegExp("".concat(gn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===gn.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const a=n.map((e=>Tn(e))).join("\n");t.setAttribute(Vt,""),t.innerHTML=a}};function Br(e){e()}function qr(e,t){const n="function"===typeof t?t:Or;if(0===e.length)n();else{let t=Br;"async"===gn.mutateApproach&&(t=xt.requestAnimationFrame||Br),t((()=>{const t=!0===gn.autoReplaceSvg?zr.replace:zr[gn.autoReplaceSvg]||zr.replace,r=Dr("mutate");e.map(t),r(),n()}))}}let Ur=!1;function Wr(){Ur=!0}function Hr(){Ur=!1}let Vr=null;function Yr(e){if(!vt)return;if(!gn.observeMutations)return;const{treeCallback:t=Or,nodeCallback:n=Or,pseudoElementsCallback:r=Or,observeMutationsRoot:a=bt}=e;Vr=new vt((e=>{if(Ur)return;const a=rr();wn(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!Tr(e.addedNodes[0])&&(gn.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&gn.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&Tr(e.target)&&~dn.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Gt):null,n=e.getAttribute?e.getAttribute(Xt):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=ir(Nn(e.target));e.target.setAttribute(Gt,t||a),n&&e.target.setAttribute(Xt,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(gn.replacementClass)&&n(e.target);var s}))})),wt&&Vr.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Gr(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let a=ir(Nn(e));return a.prefix||(a.prefix=rr()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function(e,t){return(Gn[e]||{})[t]}(a.prefix,e.innerText)||er(a.prefix,Fn(e.innerText))),!a.iconName&&gn.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=Gr(e),s=function(e){const t=wn(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return gn.autoA11y&&(n?t["aria-labelledby"]="".concat(gn.replacementClass,"-title-").concat(r||yn()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),i=fr("parseNodeAttributes",{},e);let o=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],a=n.slice(1);return r&&a.length>0&&(e[r]=a.join(":").trim()),e}),{})),n}(e):[];return dt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:vn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:o,attributes:s}},i)}const{styles:$r}=En;function Kr(e){const t="nest"===gn.autoReplaceSvg?Xr(e,{styleParser:!1}):Xr(e);return~t.extra.classes.indexOf(ln)?pr("generateLayersText",e,t):pr("generateSvgReplacementMutation",e,t)}function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!wt)return Promise.resolve();const n=bt.documentElement.classList,r=e=>n.add("".concat($t,"-").concat(e)),a=e=>n.remove("".concat($t,"-").concat(e)),s=gn.autoFetchSvg?[...Pt,...Ft]:_t.concat(Object.keys($r));s.includes("fa")||s.push("fa");const i=[".".concat(ln,":not([").concat(Vt,"])")].concat(s.map((e=>".".concat(e,":not([").concat(Vt,"])")))).join(", ");if(0===i.length)return Promise.resolve();let o=[];try{o=wn(e.querySelectorAll(i))}catch(d){}if(!(o.length>0))return Promise.resolve();r("pending"),a("complete");const l=Dr("onTree"),c=o.reduce(((e,t)=>{try{const n=Kr(t);n&&e.push(n)}catch(d){Jt||"MissingIcon"===d.name&&console.error(d)}return e}),[]);return new Promise(((e,n)=>{Promise.all(c).then((n=>{qr(n,(()=>{r("active"),r("complete"),a("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function Qr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Kr(e).then((e=>{e&&qr([e],t)}))}const Zr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=vn,symbol:r=!1,mask:a=null,maskId:s=null,title:i=null,titleId:o=null,classes:l=[],attributes:c={},styles:d={}}=t;if(!e)return;const{prefix:u,iconName:h,icon:f}=e;return Nr(dt({type:"icon"},e),(()=>(mr("beforeDOMElementCreation",{iconDefinition:e,params:t}),gn.autoA11y&&(i?c["aria-labelledby"]="".concat(gn.replacementClass,"-title-").concat(o||yn()):(c["aria-hidden"]="true",c.focusable="false")),jr({icons:{main:kr(f),mask:a?kr(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:h,transform:dt(dt({},vn),n),symbol:r,title:i,maskId:s,titleId:o,extra:{attributes:c,styles:d,classes:l}}))))};var ea={mixout(){return{icon:(e=Zr,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:gr(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:gr(a||{})),e(r,dt(dt({},n),{},{mask:a}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Jr,e.nodeCallback=Qr,e)}),provides(e){e.i2svg=function(e){const{node:t=bt,callback:n=()=>{}}=e;return Jr(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:a,prefix:s,transform:i,symbol:o,mask:l,maskId:c,extra:d}=t;return new Promise(((t,u)=>{Promise.all([Ar(n,s),l.iconName?Ar(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[u,h]=l;t([e,jr({icons:{main:u,mask:h},prefix:s,iconName:n,transform:i,symbol:o,maskId:c,title:r,titleId:a,extra:d,watchable:!0})])})).catch(u)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:a,styles:s}=e;const i=_n(s);let o;return i.length>0&&(n.style=i),Sn(a)&&(o=pr("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(o||r.icon),{children:t,attributes:n}}}},ta={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return Nr({type:"layer"},(()=>{mr("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(gn.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},na={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:s={}}=t;return Nr({type:"counter",content:e},(()=>(mr("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,a=dt(dt(dt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=_n(r.styles);s.length>0&&(a.style=s);const i=[];return i.push({tag:"span",attributes:a,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}({content:e.toString(),title:n,extra:{attributes:a,styles:s,classes:["".concat(gn.cssPrefix,"-layers-counter"),...r]}}))))}})},ra={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=vn,title:r=null,classes:a=[],attributes:s={},styles:i={}}=t;return Nr({type:"text",content:e},(()=>(mr("beforeDOMElementCreation",{content:e,params:t}),_r({content:e,transform:dt(dt({},vn),n),title:r,extra:{attributes:s,styles:i,classes:["".concat(gn.cssPrefix,"-layers-text"),...a]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:a}=t;let s=null,i=null;if(Nt){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,i=n.height/t}return gn.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,_r({content:e.innerHTML,width:s,height:i,transform:r,title:n,extra:a,watchable:!0})])}}};const aa=new RegExp('"',"ug"),sa=[1105920,1112319],ia=dt(dt(dt(dt({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),oa=Object.keys(ia).reduce(((e,t)=>(e[t.toLowerCase()]=ia[t],e)),{}),la=Object.keys(oa).reduce(((e,t)=>{const n=oa[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function ca(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,a)=>{if(null!==e.getAttribute(n))return r();const s=wn(e.children).filter((e=>e.getAttribute(Yt)===t))[0],i=xt.getComputedStyle(e,t),o=i.getPropertyValue("font-family"),l=o.match(cn),c=i.getPropertyValue("font-weight"),d=i.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==d&&""!==d){const d=i.getPropertyValue("content");let u=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return(oa[n]||{})[a]||la[n]}(o,c);const{value:h,isSecondary:f}=function(e){const t=e.replace(aa,""),n=function(e,t){const n=e.length;let r,a=e.charCodeAt(t);return a>=55296&&a<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(a-55296)+r-56320+65536:a}(t,0),r=n>=sa[0]&&n<=sa[1],a=2===t.length&&t[0]===t[1];return{value:Fn(a?t[0]:t),isSecondary:r||a}}(d),m=l[0].startsWith("FontAwesome");let p=er(u,h),g=p;if(m){const e=function(e){const t=$n[e],n=er("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(p=e.iconName,u=e.prefix)}if(!p||f||s&&s.getAttribute(Gt)===u&&s.getAttribute(Xt)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const i={iconName:null,title:null,titleId:null,prefix:null,transform:vn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:o}=i;o.attributes[Yt]=t,Ar(p,u).then((a=>{const s=jr(dt(dt({},i),{},{icons:{main:a,mask:{prefix:null,iconName:null,rest:[]}},prefix:u,iconName:g,extra:o,watchable:!0})),l=bt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map((e=>Tn(e))).join("\n"),e.removeAttribute(n),r()})).catch(a)}}else r()}))}function da(e){return Promise.all([ca(e,"::before"),ca(e,"::after")])}function ua(e){return e.parentNode!==document.head&&!~Kt.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Yt)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ha(e){if(wt)return new Promise(((t,n)=>{const r=wn(e.querySelectorAll("*")).filter(ua).map(da),a=Dr("searchPseudoElements");Wr(),Promise.all(r).then((()=>{a(),Hr(),t()})).catch((()=>{a(),Hr(),n()}))}))}var fa={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=ha,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=bt}=e;gn.searchPseudoElements&&ha(t)}}};let ma=!1;var pa={mixout:()=>({dom:{unwatch(){Wr(),ma=!0}}}),hooks:()=>({bootstrap(){Yr(fr("mutationObserverCallbacks",{}))},noAuto(){Vr&&Vr.disconnect()},watch(e){const{observeMutationsRoot:t}=e;ma?Hr():Yr(fr("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const ga=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var xa={mixout:()=>({parse:{transform:e=>ga(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=ga(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:a}=e;const s={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:s,inner:{transform:"".concat(i," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:dt({},c.outer),children:[{tag:"g",attributes:dt({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:dt(dt({},t.icon.attributes),c.path)}]}]}}}};const ba={x:0,y:0,width:"100%",height:"100%"};function va(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var ya={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?ir(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=rr()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:a,maskId:s,transform:i}=e;const{width:o,icon:l}=r,{width:c,icon:d}=a,u=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(s," ").concat(i," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:i,containerWidth:c,iconWidth:o}),h={tag:"rect",attributes:dt(dt({},ba),{},{fill:"white"})},f=l.children?{children:l.children.map(va)}:{},m={tag:"g",attributes:dt({},u.inner),children:[va(dt({tag:l.tag,attributes:dt(dt({},l.attributes),u.path)},f))]},p={tag:"g",attributes:dt({},u.outer),children:[m]},g="mask-".concat(s||yn()),x="clip-".concat(s||yn()),b={tag:"mask",attributes:dt(dt({},ba),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:(y=d,"g"===y.tag?y.children:[y])},b]};var y;return t.push(v,{tag:"rect",attributes:dt({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(g,")")},ba)}),{children:t,attributes:n}}}},wa={provides(e){let t=!1;xt.matchMedia&&(t=xt.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:dt(dt({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=dt(dt({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:dt(dt({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:dt(dt({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:dt(dt({},a),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:dt(dt({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:dt(dt({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:dt(dt({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:dt(dt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;cr=e,dr={},Object.keys(ur).forEach((e=>{-1===hr.indexOf(e)&&delete ur[e]})),cr.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{dr[e]||(dr[e]=[]),dr[e].push(t[e])}))}e.provides&&e.provides(ur)}))}([Pn,ea,ta,na,ra,fa,pa,xa,ya,wa,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:yr});const Na=yr.parse,ja=yr.icon;var _a=n(5173),Sa=n.n(_a);function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){Pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function La(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ea(e){return function(e){if(Array.isArray(e))return Ma(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Da(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Oa=["style"];var Ta=!1;try{Ta=!0}catch(Zy){}function Ra(e){return e&&"object"===Aa(e)&&e.prefix&&e.iconName&&e.icon?e:Na.icon?Na.icon(e):null===e?null:e&&"object"===Aa(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Ia(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Pa({},e,t):{}}var Fa={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},za=r.forwardRef((function(e,t){var n=Ca(Ca({},Fa),e),r=n.icon,a=n.mask,s=n.symbol,i=n.className,o=n.title,l=n.titleId,c=n.maskId,d=Ra(r),u=Ia("classes",[].concat(Ea(function(e){var t,n=e.beat,r=e.fade,a=e.beatFade,s=e.bounce,i=e.shake,o=e.flash,l=e.spin,c=e.spinPulse,d=e.spinReverse,u=e.pulse,h=e.fixedWidth,f=e.inverse,m=e.border,p=e.listItem,g=e.flip,x=e.size,b=e.rotation,v=e.pull,y=(Pa(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":a,"fa-bounce":s,"fa-shake":i,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":u,"fa-fw":h,"fa-inverse":f,"fa-border":m,"fa-li":p,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(x),"undefined"!==typeof x&&null!==x),Pa(t,"fa-rotate-".concat(b),"undefined"!==typeof b&&null!==b&&0!==b),Pa(t,"fa-pull-".concat(v),"undefined"!==typeof v&&null!==v),Pa(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(y).map((function(e){return y[e]?e:null})).filter((function(e){return e}))}(n)),Ea((i||"").split(" ")))),h=Ia("transform","string"===typeof n.transform?Na.transform(n.transform):n.transform),f=Ia("mask",Ra(a)),m=ja(d,Ca(Ca(Ca(Ca({},u),h),f),{},{symbol:s,title:o,titleId:l,maskId:c}));if(!m)return function(){var e;!Ta&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",d),null;var p=m.abstract,g={ref:t};return Object.keys(n).forEach((function(e){Fa.hasOwnProperty(e)||(g[e]=n[e])})),Ba(p[0],g)}));za.displayName="FontAwesomeIcon",za.propTypes={beat:Sa().bool,border:Sa().bool,beatFade:Sa().bool,bounce:Sa().bool,className:Sa().string,fade:Sa().bool,flash:Sa().bool,mask:Sa().oneOfType([Sa().object,Sa().array,Sa().string]),maskId:Sa().string,fixedWidth:Sa().bool,inverse:Sa().bool,flip:Sa().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Sa().oneOfType([Sa().object,Sa().array,Sa().string]),listItem:Sa().bool,pull:Sa().oneOf(["right","left"]),pulse:Sa().bool,rotation:Sa().oneOf([0,90,180,270]),shake:Sa().bool,size:Sa().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Sa().bool,spinPulse:Sa().bool,spinReverse:Sa().bool,symbol:Sa().oneOfType([Sa().bool,Sa().string]),title:Sa().string,titleId:Sa().string,transform:Sa().oneOfType([Sa().string,Sa().object]),swapOpacity:Sa().bool};var Ba=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),a=Da(t.slice(0,r)),s=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[a]=s,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Da(t)]=r}return e}),{attrs:{}}),i=r.style,o=void 0===i?{}:i,l=La(r,Oa);return s.attrs.style=Ca(Ca({},s.attrs.style),o),t.apply(void 0,[n.tag,Ca(Ca({},s.attrs),l)].concat(Ea(a)))}.bind(null,r.createElement);const qa={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},Ua=qa,Wa={prefix:"fas",iconName:"stethoscope",icon:[576,512,[129658],"f0f1","M142.4 21.9c5.6 16.8-3.5 34.9-20.2 40.5L96 71.1 96 192c0 53 43 96 96 96s96-43 96-96l0-120.9-26.1-8.7c-16.8-5.6-25.8-23.7-20.2-40.5s23.7-25.8 40.5-20.2l26.1 8.7C334.4 19.1 352 43.5 352 71.1L352 192c0 77.2-54.6 141.6-127.3 156.7C231 404.6 278.4 448 336 448c61.9 0 112-50.1 112-112l0-70.7c-28.3-12.3-48-40.5-48-73.3c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3l0 70.7c0 97.2-78.8 176-176 176c-92.9 0-168.9-71.9-175.5-163.1C87.2 334.2 32 269.6 32 192L32 71.1c0-27.5 17.6-52 43.8-60.7l26.1-8.7c16.8-5.6 34.9 3.5 40.5 20.2zM480 224a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},Ha={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"]},Va={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Ya=Va,Ga={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},Xa=Ga,$a={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},Ka=$a,Ja={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},Qa=Ja,Za={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},es={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},ts={prefix:"fas",iconName:"box-archive",icon:[512,512,["archive"],"f187","M32 32l448 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96L0 64C0 46.3 14.3 32 32 32zm0 128l448 0 0 256c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64l0-256zm128 80c0 8.8 7.2 16 16 16l160 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-160 0c-8.8 0-16 7.2-16 16z"]},ns=ts,rs={prefix:"fas",iconName:"gavel",icon:[512,512,["legal"],"f0e3","M318.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-120 120c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l4-4L325.4 293.4l-4 4c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l120-120c12.5-12.5 12.5-32.8 0-45.3l-16-16c-12.5-12.5-32.8-12.5-45.3 0l-4 4L330.6 74.6l4-4c12.5-12.5 12.5-32.8 0-45.3l-16-16zm-152 288c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l48 48c12.5 12.5 32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-1.4-1.4L272 285.3 226.7 240 168 298.7l-1.4-1.4z"]},as={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256l0-96 160 0 0 96L64 256zm0 64l160 0 0 96L64 416l0-96zm224 96l0-96 160 0 0 96-160 0zM448 256l-160 0 0-96 160 0 0 96zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},ss={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},is={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2c0 0 0 0 0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4c0 0 0 0 0 0c19.8 27.1 39.7 54.4 49.2 86.2l160 0zM192 512c44.2 0 80-35.8 80-80l0-16-160 0 0 16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]},os={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},ls=os,cs={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},ds={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},us=ds,hs={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"]},fs={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},ms={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},ps={prefix:"fas",iconName:"notes-medical",icon:[512,512,[],"f481","M96 352L96 96c0-35.3 28.7-64 64-64l256 0c35.3 0 64 28.7 64 64l0 197.5c0 17-6.7 33.3-18.7 45.3l-58.5 58.5c-12 12-28.3 18.7-45.3 18.7L160 416c-35.3 0-64-28.7-64-64zM272 128c-8.8 0-16 7.2-16 16l0 48-48 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l48 0 0 48c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-48 48 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-48 0 0-48c0-8.8-7.2-16-16-16l-32 0zm24 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-160 0C60.9 512 0 451.1 0 376L0 152c0-13.3 10.7-24 24-24s24 10.7 24 24l0 224c0 48.6 39.4 88 88 88l160 0z"]},gs={prefix:"fas",iconName:"bullseye",icon:[512,512,[],"f140","M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},xs={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},bs={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]},vs={prefix:"fas",iconName:"money-bill-wave",icon:[576,512,[],"f53a","M0 112.5L0 422.3c0 18 10.1 35 27 41.3c87 32.5 174 10.3 261-11.9c79.8-20.3 159.6-40.7 239.3-18.9c23 6.3 48.7-9.5 48.7-33.4l0-309.9c0-18-10.1-35-27-41.3C462 15.9 375 38.1 288 60.3C208.2 80.6 128.4 100.9 48.7 79.1C25.6 72.8 0 88.6 0 112.5zM288 352c-44.2 0-80-43-80-96s35.8-96 80-96s80 43 80 96s-35.8 96-80 96zM64 352c35.3 0 64 28.7 64 64l-64 0 0-64zm64-208c0 35.3-28.7 64-64 64l0-64 64 0zM512 304l0 64-64 0c0-35.3 28.7-64 64-64zM448 96l64 0 0 64c-35.3 0-64-28.7-64-64z"]},ys={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},ws={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},Ns={prefix:"fas",iconName:"heart-pulse",icon:[512,512,["heartbeat"],"f21e","M228.3 469.1L47.6 300.4c-4.2-3.9-8.2-8.1-11.9-12.4l87 0c22.6 0 43-13.6 51.7-34.5l10.5-25.2 49.3 109.5c3.8 8.5 12.1 14 21.4 14.1s17.8-5 22-13.3L320 253.7l1.7 3.4c9.5 19 28.9 31 50.1 31l104.5 0c-3.7 4.3-7.7 8.5-11.9 12.4L283.7 469.1c-7.5 7-17.4 10.9-27.7 10.9s-20.2-3.9-27.7-10.9zM503.7 240l-132 0c-3 0-5.8-1.7-7.2-4.4l-23.2-46.3c-4.1-8.1-12.4-13.3-21.5-13.3s-17.4 5.1-21.5 13.3l-41.4 82.8L205.9 158.2c-3.9-8.7-12.7-14.3-22.2-14.1s-18.1 5.9-21.8 14.8l-31.8 76.3c-1.2 3-4.2 4.9-7.4 4.9L16 240c-2.6 0-5 .4-7.3 1.1C3 225.2 0 208.2 0 190.9l0-5.8c0-69.9 50.5-129.5 119.4-141C165 36.5 211.4 51.4 244 84l12 12 12-12c32.6-32.6 79-47.5 124.6-39.9C461.5 55.6 512 115.2 512 185.1l0 5.8c0 16.9-2.8 33.5-8.3 49.1z"]},js=Ns,_s={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM609.3 512l-137.8 0c5.4-9.4 8.6-20.3 8.6-32l0-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2l61.4 0C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"]},Ss=_s,ks={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"]},Cs={prefix:"fas",iconName:"signature",icon:[640,512,[],"f5b7","M192 128c0-17.7 14.3-32 32-32s32 14.3 32 32l0 7.8c0 27.7-2.4 55.3-7.1 82.5l-84.4 25.3c-40.6 12.2-68.4 49.6-68.4 92l0 71.9c0 40 32.5 72.5 72.5 72.5c26 0 50-13.9 62.9-36.5l13.9-24.3c26.8-47 46.5-97.7 58.4-150.5l94.4-28.3-12.5 37.5c-3.3 9.8-1.6 20.5 4.4 28.8s15.7 13.3 26 13.3l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-83.6 0 18-53.9c3.8-11.3 .9-23.8-7.4-32.4s-20.7-11.8-32.2-8.4L316.4 198.1c2.4-20.7 3.6-41.4 3.6-62.3l0-7.8c0-53-43-96-96-96s-96 43-96 96l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32zm-9.2 177l49-14.7c-10.4 33.8-24.5 66.4-42.1 97.2l-13.9 24.3c-1.5 2.6-4.3 4.3-7.4 4.3c-4.7 0-8.5-3.8-8.5-8.5l0-71.9c0-14.1 9.3-26.6 22.8-30.7zM24 368c-13.3 0-24 10.7-24 24s10.7 24 24 24l40.3 0c-.2-2.8-.3-5.6-.3-8.5L64 368l-40 0zm592 48c13.3 0 24-10.7 24-24s-10.7-24-24-24l-310.1 0c-6.7 16.3-14.2 32.3-22.3 48L616 416z"]},As={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M0 64C0 46.3 14.3 32 32 32l48 0 16 0 128 0c70.7 0 128 57.3 128 128c0 31.3-11.3 60.1-30 82.3c37.1 22.4 62 63.1 62 109.7c0 70.7-57.3 128-128 128L96 480l-16 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-160L48 96 32 96C14.3 96 0 81.7 0 64zM224 224c35.3 0 64-28.7 64-64s-28.7-64-64-64L112 96l0 128 112 0zM112 288l0 128 144 0c35.3 0 64-28.7 64-64s-28.7-64-64-64l-32 0-112 0z"]},Ps={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8 512 128l-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48 0 224 28.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16L0 352c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-224-80 0zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128l0 224c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-208c0-8.8-7.2-16-16-16l-80 0zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"]},Ls={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Es=Ls,Ms={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M96 128a128 128 0 1 0 256 0A128 128 0 1 0 96 128zm94.5 200.2l18.6 31L175.8 483.1l-36-146.9c-2-8.1-9.8-13.4-17.9-11.3C51.9 342.4 0 405.8 0 481.3c0 17 13.8 30.7 30.7 30.7l131.7 0c0 0 0 0 .1 0l5.5 0 112 0 5.5 0c0 0 0 0 .1 0l131.7 0c17 0 30.7-13.8 30.7-30.7c0-75.5-51.9-138.9-121.9-156.4c-8.1-2-15.9 3.3-17.9 11.3l-36 146.9L238.9 359.2l18.6-31c6.4-10.7-1.3-24.2-13.7-24.2L224 304l-19.7 0c-12.4 0-20.1 13.6-13.7 24.2z"]},Ds={prefix:"fas",iconName:"scroll",icon:[576,512,[128220],"f70e","M0 80l0 48c0 17.7 14.3 32 32 32l16 0 48 0 0-80c0-26.5-21.5-48-48-48S0 53.5 0 80zM112 32c10 13.4 16 30 16 48l0 304c0 35.3 28.7 64 64 64s64-28.7 64-64l0-5.3c0-32.4 26.3-58.7 58.7-58.7L480 320l0-192c0-53-43-96-96-96L112 32zM464 480c61.9 0 112-50.1 112-112c0-8.8-7.2-16-16-16l-245.3 0c-14.7 0-26.7 11.9-26.7 26.7l0 5.3c0 53-43 96-96 96l176 0 96 0z"]},Os={prefix:"fas",iconName:"shield-halved",icon:[512,512,["shield-alt"],"f3ed","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8l0 378.1C394 378 431.1 230.1 432 141.4L256 66.8s0 0 0 0z"]},Ts=Os,Rs={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},Is={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0L160 416l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0L224 96l-64 0c-17.7 0-32-14.3-32-32z"]},Fs={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M24 56c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24l0 120 16 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l16 0 0-96-8 0C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432l33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-88 0c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},zs={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Bs={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M304 240l0-223.4c0-9 7-16.6 16-16.6C443.7 0 544 100.3 544 224c0 9-7.6 16-16.6 16L304 240zM32 272C32 150.7 122.1 50.3 239 34.3c9.2-1.3 17 6.1 17 15.4L256 288 412.5 444.5c6.7 6.7 6.2 17.7-1.5 23.1C371.8 495.6 323.8 512 272 512C139.5 512 32 404.6 32 272zm526.4 16c9.3 0 16.6 7.8 15.4 17c-7.7 55.9-34.6 105.6-73.9 142.3c-6 5.6-15.4 5.2-21.2-.7L320 288l238.4 0z"]},qs={prefix:"fas",iconName:"file-contract",icon:[384,512,[],"f56c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM80 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L80 96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm54.2 253.8c-6.1 20.3-24.8 34.2-46 34.2L80 416c-8.8 0-16-7.2-16-16s7.2-16 16-16l8.2 0c7.1 0 13.3-4.6 15.3-11.4l14.9-49.5c3.4-11.3 13.8-19.1 25.6-19.1s22.2 7.7 25.6 19.1l11.6 38.6c7.4-6.2 16.8-9.7 26.8-9.7c15.9 0 30.4 9 37.5 23.2l4.4 8.8 54.1 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-6.1 0-11.6-3.4-14.3-8.8l-8.8-17.7c-1.7-3.4-5.1-5.5-8.8-5.5s-7.2 2.1-8.8 5.5l-8.8 17.7c-2.9 5.9-9.2 9.4-15.7 8.8s-12.1-5.1-13.9-11.3L144 349l-9.8 32.8z"]},Us={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},Ws={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Hs={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},Vs={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},Ys={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Gs={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Xs=Gs,$s={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Ks=$s,Js={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},Qs={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},Zs={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},ei={prefix:"fas",iconName:"file-pdf",icon:[512,512,[],"f1c1","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"]},ti={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},ni={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},ri={prefix:"fas",iconName:"user-doctor",icon:[448,512,["user-md"],"f0f0","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-96 55.2C54 332.9 0 401.3 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7c0-81-54-149.4-128-171.1l0 50.8c27.6 7.1 48 32.2 48 62l0 40c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l0-24c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 24c8.8 0 16 7.2 16 16s-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-40c0-29.8 20.4-54.9 48-62l0-57.1c-6-.6-12.1-.9-18.3-.9l-91.4 0c-6.2 0-12.3 .3-18.3 .9l0 65.4c23.1 6.9 40 28.3 40 53.7c0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.4 16.9-46.8 40-53.7l0-59.1zM144 448a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},ai=ri,si={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},ii=si,oi={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},li=oi,ci={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},di={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM96 64l192 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L96 160c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32zm32 160a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM96 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM64 416c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32zM192 256a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm64-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM288 448a32 32 0 1 1 0-64 32 32 0 1 1 0 64z"]},ui={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96l576 0c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96zm0 32L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-288L0 128zM64 405.3c0-29.5 23.9-53.3 53.3-53.3l117.3 0c29.5 0 53.3 23.9 53.3 53.3c0 5.9-4.8 10.7-10.7 10.7L74.7 416c-5.9 0-10.7-4.8-10.7-10.7zM176 192a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm176 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},hi={prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm80 64c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16L80 256z"]},fi={prefix:"fas",iconName:"credit-card",icon:[576,512,[128179,62083,"credit-card-alt"],"f09d","M64 32C28.7 32 0 60.7 0 96l0 32 576 0 0-32c0-35.3-28.7-64-64-64L64 32zM576 224L0 224 0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-192zM112 352l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},mi={prefix:"fas",iconName:"medal",icon:[512,512,[127941],"f5a2","M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0L133.9 0c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0L487.4 0C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"]},pi={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},gi={prefix:"fas",iconName:"gauge-high",icon:[512,512,[62461,"tachometer-alt","tachometer-alt-fast"],"f625","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM256 416c35.3 0 64-28.7 64-64c0-17.4-6.9-33.1-18.1-44.6L366 161.7c5.3-12.1-.2-26.3-12.3-31.6s-26.3 .2-31.6 12.3L257.9 288c-.6 0-1.3 0-1.9 0c-35.3 0-64 28.7-64 64s28.7 64 64 64zM176 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM96 288a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm352-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},xi=gi,bi={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},vi={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},yi=vi,wi={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Ni={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},ji={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},_i=ji,Si={prefix:"fas",iconName:"circle-user",icon:[512,512,[62142,"user-circle"],"f2bd","M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"]},ki=Si,Ci={prefix:"fas",iconName:"user-shield",icon:[640,512,[],"f505","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3l-91.4 0zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7l0-187.8L591.4 312z"]},Ai={prefix:"fas",iconName:"user-graduate",icon:[448,512,[],"f501","M219.3 .5c3.1-.6 6.3-.6 9.4 0l200 40C439.9 42.7 448 52.6 448 64s-8.1 21.3-19.3 23.5L352 102.9l0 57.1c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-57.1L48 93.3l0 65.1 15.7 78.4c.9 4.7-.3 9.6-3.3 13.3s-7.6 5.9-12.4 5.9l-32 0c-4.8 0-9.3-2.1-12.4-5.9s-4.3-8.6-3.3-13.3L16 158.4l0-71.8C6.5 83.3 0 74.3 0 64C0 52.6 8.1 42.7 19.3 40.5l200-40zM111.9 327.7c10.5-3.4 21.8 .4 29.4 8.5l71 75.5c6.3 6.7 17 6.7 23.3 0l71-75.5c7.6-8.1 18.9-11.9 29.4-8.5C401 348.6 448 409.4 448 481.3c0 17-13.8 30.7-30.7 30.7L30.7 512C13.8 512 0 498.2 0 481.3c0-71.9 47-132.7 111.9-153.6z"]},Pi={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Li={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ei=Li,Mi={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7 .2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2l0 82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1 .2s-12.1-12.2-12.1-20.9l0-107.2c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4 .5-31.8-7.8zM384 168a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},Di={prefix:"fas",iconName:"arrow-trend-up",icon:[576,512,[],"e098","M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-82.7L342.6 374.6c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160 384 160z"]},Oi={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},Ti={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Ri={prefix:"fas",iconName:"percent",icon:[384,512,[62101,62785,"percentage"],"25","M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},Ii=Ri,Fi={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0L176 0c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8L24 64C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9L192 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-26.1 0C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24L446.4 64c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112l84.4 0c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6l84.4 0c-5.1 66.3-31.1 111.2-63 142.3z"]},zi={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},Bi={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},qi=Bi,Ui={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M173.8 5.5c11-7.3 25.4-7.3 36.4 0L228 17.2c6 3.9 13 5.8 20.1 5.4l21.3-1.3c13.2-.8 25.6 6.4 31.5 18.2l9.6 19.1c3.2 6.4 8.4 11.5 14.7 14.7L344.5 83c11.8 5.9 19 18.3 18.2 31.5l-1.3 21.3c-.4 7.1 1.5 14.2 5.4 20.1l11.8 17.8c7.3 11 7.3 25.4 0 36.4L366.8 228c-3.9 6-5.8 13-5.4 20.1l1.3 21.3c.8 13.2-6.4 25.6-18.2 31.5l-19.1 9.6c-6.4 3.2-11.5 8.4-14.7 14.7L301 344.5c-5.9 11.8-18.3 19-31.5 18.2l-21.3-1.3c-7.1-.4-14.2 1.5-20.1 5.4l-17.8 11.8c-11 7.3-25.4 7.3-36.4 0L156 366.8c-6-3.9-13-5.8-20.1-5.4l-21.3 1.3c-13.2 .8-25.6-6.4-31.5-18.2l-9.6-19.1c-3.2-6.4-8.4-11.5-14.7-14.7L39.5 301c-11.8-5.9-19-18.3-18.2-31.5l1.3-21.3c.4-7.1-1.5-14.2-5.4-20.1L5.5 210.2c-7.3-11-7.3-25.4 0-36.4L17.2 156c3.9-6 5.8-13 5.4-20.1l-1.3-21.3c-.8-13.2 6.4-25.6 18.2-31.5l19.1-9.6C65 70.2 70.2 65 73.4 58.6L83 39.5c5.9-11.8 18.3-19 31.5-18.2l21.3 1.3c7.1 .4 14.2-1.5 20.1-5.4L173.8 5.5zM272 192a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM1.3 441.8L44.4 339.3c.2 .1 .3 .2 .4 .4l9.6 19.1c11.7 23.2 36 37.3 62 35.8l21.3-1.3c.2 0 .5 0 .7 .2l17.8 11.8c5.1 3.3 10.5 5.9 16.1 7.7l-37.6 89.3c-2.3 5.5-7.4 9.2-13.3 9.7s-11.6-2.2-14.8-7.2L74.4 455.5l-56.1 8.3c-5.7 .8-11.4-1.5-15-6s-4.3-10.7-2.1-16zm248 60.4L211.7 413c5.6-1.8 11-4.3 16.1-7.7l17.8-11.8c.2-.1 .4-.2 .7-.2l21.3 1.3c26 1.5 50.3-12.6 62-35.8l9.6-19.1c.1-.2 .2-.3 .4-.4l43.2 102.5c2.2 5.3 1.4 11.4-2.1 16s-9.3 6.9-15 6l-56.1-8.3-32.2 49.2c-3.2 5-8.9 7.7-14.8 7.2s-11-4.3-13.3-9.7z"]},Wi={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M48 0C21.5 0 0 21.5 0 48L0 464c0 26.5 21.5 48 48 48l96 0 0-80c0-26.5 21.5-48 48-48s48 21.5 48 48l0 80 96 0c26.5 0 48-21.5 48-48l0-416c0-26.5-21.5-48-48-48L48 0zM64 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm112-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM80 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM272 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]},Hi={prefix:"fas",iconName:"clock-rotate-left",icon:[512,512,["history"],"f1da","M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"]},Vi=Hi,Yi={prefix:"fas",iconName:"wand-magic",icon:[512,512,["magic"],"f0d0","M14.1 463.3c-18.7-18.7-18.7-49.1 0-67.9L395.4 14.1c18.7-18.7 49.1-18.7 67.9 0l34.6 34.6c18.7 18.7 18.7 49.1 0 67.9L116.5 497.9c-18.7 18.7-49.1 18.7-67.9 0L14.1 463.3zM347.6 187.6l105-105L429.4 59.3l-105 105 23.3 23.3z"]},Gi=Yi,Xi={prefix:"fas",iconName:"scale-balanced",icon:[640,512,[9878,"balance-scale"],"f24e","M384 32l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L398.4 96c-5.2 25.8-22.9 47.1-46.4 57.3L352 448l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0-192 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0 0-294.7c-23.5-10.3-41.2-31.6-46.4-57.3L128 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l128 0c14.6-19.4 37.8-32 64-32s49.4 12.6 64 32zm55.6 288l144.9 0L512 195.8 439.6 320zM512 416c-62.9 0-115.2-34-126-78.9c-2.6-11 1-22.3 6.7-32.1l95.2-163.2c5-8.6 14.2-13.8 24.1-13.8s19.1 5.3 24.1 13.8l95.2 163.2c5.7 9.8 9.3 21.1 6.7 32.1C627.2 382 574.9 416 512 416zM126.8 195.8L54.4 320l144.9 0L126.8 195.8zM.9 337.1c-2.6-11 1-22.3 6.7-32.1l95.2-163.2c5-8.6 14.2-13.8 24.1-13.8s19.1 5.3 24.1 13.8l95.2 163.2c5.7 9.8 9.3 21.1 6.7 32.1C242 382 189.7 416 126.8 416S11.7 382 .9 337.1z"]},$i=Xi,Ki={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Ji={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Qi={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},Zi={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},eo=Zi,to={prefix:"fas",iconName:"brain",icon:[512,512,[129504],"f5dc","M184 0c30.9 0 56 25.1 56 56l0 400c0 30.9-25.1 56-56 56c-28.9 0-52.7-21.9-55.7-50.1c-5.2 1.4-10.7 2.1-16.3 2.1c-35.3 0-64-28.7-64-64c0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1C131.3 21.9 155.1 0 184 0zM328 0c28.9 0 52.6 21.9 55.7 49.9c27.8 7 48.3 32.1 48.3 62.1c0 6-.8 11.9-2.4 17.4c28.8 6.2 50.4 31.9 50.4 62.6c0 15-5.1 28.8-13.8 39.7C493.3 244.5 512 272.1 512 304c0 34.2-21.4 63.4-51.6 74.8c2.3 6.6 3.6 13.8 3.6 21.2c0 35.3-28.7 64-64 64c-5.6 0-11.1-.7-16.3-2.1c-3 28.2-26.8 50.1-55.7 50.1c-30.9 0-56-25.1-56-56l0-400c0-30.9 25.1-56 56-56z"]},no={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},ro=no,ao={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"]},so={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9l0 28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5l0-24.6c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"]};const io=e=>{let{isOpen:t,onAccept:n,onDecline:a,isLoading:s=!1,userInfo:i=null}=e;const[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t&&(l(!1),d(!1))}),[t]);return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col border border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-3xl",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center",children:(0,qe.jsx)(za,{icon:qs,className:"text-white text-xl"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Termos de Servi\xe7o"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"AbaPlay - Plataforma de Gest\xe3o Terap\xeautica"})]})]}),(0,qe.jsx)("button",{onClick:a,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-red-100 flex items-center justify-center transition-colors",disabled:s,children:(0,qe.jsx)(za,{icon:Ei,className:"text-gray-500 hover:text-red-600"})})]}),i&&(0,qe.jsx)("div",{className:"p-6 bg-green-50 border-b border-green-100",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:Ps,className:"text-green-600 text-xl"}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("p",{className:"text-green-800 font-semibold",children:["Bem-vindo(a), ",i.fullName||i.username,"!"]}),(0,qe.jsx)("p",{className:"text-green-700 text-sm",children:"Para continuar, \xe9 necess\xe1rio aceitar nossos Termos de Servi\xe7o."})]})]})}),(0,qe.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col",children:[!o&&(0,qe.jsx)("div",{className:"bg-yellow-50 border-b border-yellow-200 px-6 py-3",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:Ds,className:"text-yellow-600"}),(0,qe.jsx)("p",{className:"text-yellow-800 text-sm font-medium",children:"Por favor, role at\xe9 o final para ler todos os termos"})]})}),(0,qe.jsx)("div",{className:"flex-1 overflow-y-auto p-6 text-gray-700 leading-relaxed",onScroll:e=>{const{scrollTop:t,scrollHeight:n,clientHeight:r}=e.target;l(t+r>=n-10)},children:(0,qe.jsxs)("div",{className:"prose max-w-none",children:[(0,qe.jsxs)("div",{className:"text-center mb-8 pb-6 border-b border-gray-200",children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Termos de Servi\xe7o da Plataforma AbaPlay"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"\xdaltima atualiza\xe7\xe3o: 27 de agosto de 2025"})]}),(0,qe.jsx)("div",{className:"bg-blue-50 rounded-2xl p-6 mb-8 border border-blue-100",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,qe.jsx)(za,{icon:Ts,className:"text-blue-600 text-2xl mt-1"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Importante"}),(0,qe.jsx)("p",{className:"text-blue-700",children:"Bem-vindo \xe0 AbaPlay! Ao criar uma conta ou utilizar nossa Plataforma, voc\xea concorda com estes Termos de Servi\xe7o. Leia-os com aten\xe7\xe3o."}),(0,qe.jsx)("p",{className:"text-blue-700 mt-2",children:"Estes Termos representam os pontos essenciais do nosso acordo. Para consultar o Contrato de Presta\xe7\xe3o de Servi\xe7os na vers\xe3o integral, por favor, solicite atrav\xe9s do nosso e-mail de suporte."})]})]})}),(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-sm",children:"1"}),(0,qe.jsx)("span",{children:"Nossos Servi\xe7os"})]}),(0,qe.jsx)("p",{children:'A AbaPlay concede a voc\xea uma licen\xe7a limitada, n\xe3o exclusiva e intransfer\xedvel para usar nosso software de gest\xe3o de pacientes e terapias ("Plataforma"), em regime de Software como Servi\xe7o (SaaS). O objetivo da Plataforma \xe9 auxiliar no gerenciamento dos tratamentos de seus pacientes.'})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-sm",children:"2"}),(0,qe.jsx)("span",{children:"Acesso e Seguran\xe7a da Conta"})]}),(0,qe.jsx)("p",{children:"Seu acesso ser\xe1 liberado ap\xf3s a confirma\xe7\xe3o do primeiro pagamento. Voc\xea \xe9 o \xfanico respons\xe1vel por todas as atividades em sua conta e pela seguran\xe7a de suas senhas. A senha do usu\xe1rio Administrador s\xf3 poder\xe1 ser redefinida mediante solicita\xe7\xe3o formal ao nosso suporte oficial."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold text-sm",children:"3"}),(0,qe.jsx)("span",{children:"Pagamento e Reajuste"})]}),(0,qe.jsx)("p",{children:"O valor mensal do servi\xe7o \xe9 de R$ 34,90 por paciente contratado. O pagamento deve ser feito na data de vencimento acordada. O atraso implicar\xe1 em multa de 2% e juros de 1% ao m\xeas. O valor ser\xe1 reajustado anualmente pelo \xedndice IPCA/IBGE."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-600 font-bold text-sm",children:"4"}),(0,qe.jsx)("span",{children:"Inadimpl\xeancia"})]}),(0,qe.jsx)("p",{children:"O acesso \xe0 Plataforma ser\xe1 suspenso ap\xf3s 10 dias corridos de atraso no pagamento. Se o atraso persistir por 30 dias corridos, o contrato ser\xe1 rescindido e o acesso cancelado, sem preju\xedzo da cobran\xe7a dos valores devidos."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 font-bold text-sm",children:"5"}),(0,qe.jsx)("span",{children:"Cancelamento"})]}),(0,qe.jsx)("p",{children:"N\xe3o h\xe1 fidelidade. Voc\xea pode cancelar sua assinatura a qualquer momento, bastando nos notificar por e-mail com 30 dias de anteced\xeancia. Os servi\xe7os continuar\xe3o ativos e ser\xe3o cobrados normalmente durante este per\xedodo de aviso pr\xe9vio."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm",children:"6"}),(0,qe.jsx)("span",{children:"Disponibilidade do Servi\xe7o (SLA)"})]}),(0,qe.jsx)("p",{children:"Nosso objetivo \xe9 manter a Plataforma dispon\xedvel (uptime) em 99% do tempo. Manuten\xe7\xf5es programadas ser\xe3o avisadas com anteced\xeancia. A medi\xe7\xe3o do uptime \xe9 feita por nossos servidores e exclui fatores externos (como a sua conex\xe3o com a internet)."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-sm",children:"7"}),(0,qe.jsx)("span",{children:"Prote\xe7\xe3o de Dados (LGPD)"})]}),(0,qe.jsx)("p",{children:"Voc\xea, ao utilizar a Plataforma, \xe9 o Controlador dos dados de seus pacientes e usu\xe1rios. A AbaPlay atua como Operadora, processando os dados apenas para o funcionamento do servi\xe7o. Voc\xea garante que possui a base legal necess\xe1ria (como o consentimento) para inserir e tratar quaisquer dados pessoais na Plataforma, isentando a AbaPlay de responsabilidade por uso indevido."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center text-teal-600 font-bold text-sm",children:"8"}),(0,qe.jsx)("span",{children:"Propriedade Intelectual"})]}),(0,qe.jsx)("p",{children:"A Plataforma, seu conte\xfado e a marca AbaPlay s\xe3o de nossa propriedade exclusiva. Voc\xea n\xe3o pode copiar, modificar ou tentar recriar nossa tecnologia."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-bold text-sm",children:"9"}),(0,qe.jsx)("span",{children:"Limita\xe7\xe3o de Responsabilidade"})]}),(0,qe.jsx)("p",{children:"Nossa responsabilidade total por quaisquer danos ou preju\xedzos decorrentes do uso da Plataforma est\xe1 limitada ao valor pago por voc\xea nos \xfaltimos 3 meses."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-cyan-100 rounded-full flex items-center justify-center text-cyan-600 font-bold text-sm",children:"10"}),(0,qe.jsx)("span",{children:"Portabilidade e Exclus\xe3o de Dados"})]}),(0,qe.jsx)("p",{children:"Ap\xf3s o cancelamento, voc\xea pode solicitar uma c\xf3pia de seus dados em formato CSV, que ser\xe1 fornecida em at\xe9 15 dias \xfateis. Seus dados ser\xe3o mantidos por 60 dias ap\xf3s o t\xe9rmino do contrato e depois ser\xe3o exclu\xeddos permanentemente."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center text-pink-600 font-bold text-sm",children:"11"}),(0,qe.jsx)("span",{children:"Encerramento da Plataforma"})]}),(0,qe.jsx)("p",{children:"Caso a AbaPlay seja descontinuada, notificaremos todos os usu\xe1rios com no m\xednimo 60 dias de anteced\xeancia, garantindo tempo para a transi\xe7\xe3o e exporta\xe7\xe3o de dados."})]}),(0,qe.jsxs)("section",{children:[(0,qe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 font-bold text-sm",children:"12"}),(0,qe.jsx)("span",{children:"Contato e Foro"})]}),(0,qe.jsxs)("p",{children:["O canal oficial para comunica\xe7\xf5es \xe9 o e-mail ",(0,qe.jsx)("strong",{children:"ABAPLAYOFICIAL@GMAIL.COM"}),". Fica eleito o foro da Comarca de S\xe3o Paulo, SP, para resolver quaisquer disputas."]})]})]}),(0,qe.jsx)("div",{className:"mt-12 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,qe.jsx)(za,{icon:rs,className:"text-blue-600 text-2xl mt-1"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Concord\xe2ncia"}),(0,qe.jsx)("p",{className:"text-blue-700",children:'Ao clicar em "Aceitar" ou ao continuar usando a Plataforma, voc\xea confirma que leu, entendeu e concorda em cumprir estes Termos de Servi\xe7o.'})]})]})})]})})]}),(0,qe.jsxs)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 rounded-b-3xl",children:[!o&&(0,qe.jsx)("div",{className:"mb-4 p-3 bg-yellow-100 border border-yellow-200 rounded-xl",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:eo,className:"text-yellow-600"}),(0,qe.jsx)("p",{className:"text-yellow-800 text-sm font-medium",children:"Voc\xea precisa ler todos os termos antes de prosseguir"})]})}),(0,qe.jsxs)("div",{className:"flex space-x-4",children:[(0,qe.jsx)("button",{onClick:a,disabled:s,className:"flex-1 py-3 px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-xl transition-colors disabled:opacity-50",children:"N\xe3o Aceito"}),(0,qe.jsx)("button",{onClick:async()=>{d(!0);try{await n()}catch(e){console.error("Erro ao aceitar termos:",e)}finally{d(!1)}},disabled:!o||s||c,className:"flex-1 py-3 px-6 font-semibold rounded-xl transition-all flex items-center justify-center space-x-2 ".concat(!o||s||c?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl"),children:c?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}),(0,qe.jsx)("span",{children:"Processando..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:Es}),(0,qe.jsx)("span",{children:"Aceito os Termos"})]})})]})]})]})}):null},oo=()=>(0,qe.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800",children:(0,qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})}),(0,qe.jsxs)("div",{className:"absolute inset-0",children:[(0,qe.jsx)("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-white/5 rounded-full blur-xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute top-3/4 right-1/4 w-24 h-24 bg-blue-400/10 rounded-full blur-lg animate-bounce",style:{animationDuration:"3s"}}),(0,qe.jsx)("div",{className:"absolute top-1/2 left-1/3 w-16 h-16 bg-purple-400/10 rounded-full blur-md animate-ping",style:{animationDuration:"2s"}}),(0,qe.jsx)("div",{className:"absolute top-20 right-20 w-20 h-20 border border-white/10 rotate-45 animate-spin",style:{animationDuration:"20s"}}),(0,qe.jsx)("div",{className:"absolute bottom-20 left-20 w-16 h-16 bg-gradient-to-r from-cyan-400/20 to-blue-400/20 transform rotate-12 animate-pulse"})]}),(0,qe.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-32",children:(0,qe.jsx)("svg",{className:"absolute bottom-0 w-full h-full",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:(0,qe.jsx)("path",{d:"M0,60 C300,100 900,20 1200,60 L1200,120 L0,120 Z",fill:"rgba(255,255,255,0.05)",className:"animate-pulse",children:(0,qe.jsx)("animate",{attributeName:"d",dur:"10s",repeatCount:"indefinite",values:"M0,60 C300,100 900,20 1200,60 L1200,120 L0,120 Z; M0,80 C300,40 900,80 1200,40 L1200,120 L0,120 Z; M0,60 C300,100 900,20 1200,60 L1200,120 L0,120 Z"})})})})]}),lo=()=>{const[e,t]=(0,r.useState)(0),n=[{icon:Us,title:"Progresso Vis\xedvel em Tempo Real",description:"Gr\xe1ficos interativos que mostram a evolu\xe7\xe3o de cada crian\xe7a",visual:(0,qe.jsxs)("div",{className:"flex space-x-2 items-end justify-center h-16",children:[(0,qe.jsx)("div",{className:"w-3 bg-cyan-400 rounded-t animate-pulse",style:{height:"20%",animationDelay:"0s"}}),(0,qe.jsx)("div",{className:"w-3 bg-blue-400 rounded-t animate-pulse",style:{height:"40%",animationDelay:"0.2s"}}),(0,qe.jsx)("div",{className:"w-3 bg-indigo-400 rounded-t animate-pulse",style:{height:"60%",animationDelay:"0.4s"}}),(0,qe.jsx)("div",{className:"w-3 bg-purple-400 rounded-t animate-pulse",style:{height:"80%",animationDelay:"0.6s"}}),(0,qe.jsx)("div",{className:"w-3 bg-pink-400 rounded-t animate-pulse",style:{height:"100%",animationDelay:"0.8s"}})]})},{icon:Za,title:"Equipe e Pais Conectados",description:"Comunica\xe7\xe3o instant\xe2nea com sistema de men\xe7\xf5es inteligente",visual:(0,qe.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,qe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full animate-ping"}),(0,qe.jsxs)("div",{className:"flex space-x-1",children:[(0,qe.jsx)("div",{className:"w-1 h-1 bg-white rounded-full animate-bounce",style:{animationDelay:"0s"}}),(0,qe.jsx)("div",{className:"w-1 h-1 bg-white rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,qe.jsx)("div",{className:"w-1 h-1 bg-white rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,qe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full animate-ping",style:{animationDelay:"1s"}})]})},{icon:is,title:"Decis\xf5es Baseadas em Dados",description:"Insights precisos para otimizar as interven\xe7\xf5es terap\xeauticas",visual:(0,qe.jsxs)("div",{className:"relative flex justify-center items-center",children:[(0,qe.jsx)("div",{className:"w-12 h-12 border-4 border-yellow-400/30 rounded-full animate-spin",style:{animationDuration:"3s"},children:(0,qe.jsx)("div",{className:"absolute inset-2 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full animate-pulse"})}),(0,qe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:is,className:"text-yellow-300 text-xl animate-pulse"})})]})}];return(0,r.useEffect)((()=>{const e=setInterval((()=>{t((e=>(e+1)%n.length))}),4e3);return()=>clearInterval(e)}),[]),(0,qe.jsxs)("div",{className:"relative h-48 flex flex-col items-center justify-center text-center",children:[(0,qe.jsx)("div",{className:"mb-6",children:n[e].visual}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,qe.jsx)(za,{icon:n[e].icon,className:"text-cyan-400 text-xl"}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-white",children:n[e].title})]}),(0,qe.jsx)("p",{className:"text-blue-100 text-sm max-w-xs leading-relaxed",children:n[e].description})]}),(0,qe.jsx)("div",{className:"flex space-x-2 mt-6",children:n.map(((n,r)=>(0,qe.jsx)("button",{className:"w-2 h-2 rounded-full transition-all duration-300 ".concat(r===e?"bg-cyan-400 w-6":"bg-white/30 hover:bg-white/50"),onClick:()=>t(r)},r)))})]})},co=()=>{const[e,t]=(0,r.useState)({sessions:0,therapists:0,improvement:0}),n=15247,a=284,s=87;return(0,r.useEffect)((()=>{const e=setInterval((()=>{t((e=>({sessions:Math.min(e.sessions+Math.ceil(n/60),n),therapists:Math.min(e.therapists+Math.ceil(a/60),a),improvement:Math.min(e.improvement+Math.ceil(s/60),s)})))}),2e3/60);return setTimeout((()=>clearInterval(e)),2e3),()=>clearInterval(e)}),[]),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,qe.jsxs)("span",{className:"text-blue-100 text-sm",children:[(0,qe.jsxs)("span",{className:"font-bold text-white",children:["+",e.sessions.toLocaleString()]})," sess\xf5es registradas este m\xeas"]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),(0,qe.jsxs)("span",{className:"text-blue-100 text-sm",children:[(0,qe.jsxs)("span",{className:"font-bold text-white",children:["+",e.therapists]})," terapeutas ativos hoje"]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse",style:{animationDelay:"1s"}}),(0,qe.jsxs)("span",{className:"text-blue-100 text-sm",children:[(0,qe.jsxs)("span",{className:"font-bold text-white",children:[e.improvement,"%"]})," das crian\xe7as mostram melhoria em 30 dias"]})]})]})},uo=()=>{var e,t;const[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{login:u}=He(),h=Z(),f=J(),[m,p]=(0,r.useState)("enter_username"),[g,x]=(0,r.useState)(null),[b,v]=(0,r.useState)(""),[y,w]=(0,r.useState)(""),[N,j]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),A=(null===(e=f.state)||void 0===e||null===(t=e.from)||void 0===t||t.pathname,async e=>{e.preventDefault(),d(!0),l("");try{const e=await(async e=>{const t=await fetch("".concat(ot.H,"/auth/check-user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){var n,r;const e=await t.json().catch((()=>({})));throw new Error((null===e||void 0===e||null===(n=e.errors)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.msg)||"Erro ao verificar utilizador.")}return t.json()})(n);"SET_PASSWORD"===e.action?(x(e.user),p("set_password")):"REQUIRE_PASSWORD"===e.action&&p("enter_password")}catch(t){console.error("Erro em handleUsernameSubmit:",t.message),l(t.message)}finally{d(!1)}}),P=async e=>{e.preventDefault(),d(!0),l("");try{const e=await(async e=>{const t=await fetch("".concat(ot.H,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){var n,r;const e=await t.json().catch((()=>({})));throw new Error((null===e||void 0===e||null===(n=e.errors)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.msg)||"Erro ao tentar fazer login.")}return t.json()})({username:n,password:s});if(e.user&&e.user.is_admin&&!e.user.terms_accepted_at)return C(e),S(!0),void d(!1);u(e.token);let t="/";if(e.user&&e.user.role){switch(e.user.role.toLowerCase()){case"admin":case"therapist":t="/dashboard";break;case"pai":t="/parent-dashboard";break;default:t="/"}}h(t,{replace:!0})}catch(t){console.error("Erro em handleLoginSubmit:",t.message),l(t.message)}finally{d(!1)}},L=async e=>{if(e.preventDefault(),b===y)if(b.length<6)l("A senha deve ter pelo menos 6 caracteres.");else{d(!0),l("");try{const e=await(async(e,t)=>{const n=await fetch("".concat(ot.H,"/auth/set-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,password:t})});if(!n.ok){var r,a;const e=await n.json().catch((()=>({})));throw new Error((null===e||void 0===e||null===(r=e.errors)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.msg)||"N\xe3o foi poss\xedvel definir a senha.")}return n.json()})(g.userId,b);if(e&&e.token){if(e.user&&e.user.is_admin&&!e.user.terms_accepted_at)return C(e),S(!0),void d(!1);u(e.token);let t="/";if(e.user&&e.user.role){switch(e.user.role.toLowerCase()){case"admin":case"therapist":t="/dashboard";break;case"pai":t="/parent-dashboard";break;default:t="/"}}h(t,{replace:!0})}else l("N\xe3o foi poss\xedvel fazer o login autom\xe1tico. Por favor, tente novamente."),p("enter_username")}catch(t){l((null===t||void 0===t?void 0:t.message)||"Ocorreu um erro desconhecido ao definir a senha.")}finally{d(!1)}}else l("As senhas n\xe3o coincidem.")};return(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[(0,qe.jsx)("div",{className:"w-full max-w-7xl mx-auto",children:(0,qe.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden lg:grid lg:grid-cols-5 border border-gray-100",children:[(0,qe.jsxs)("div",{className:"relative hidden lg:block lg:col-span-3",children:[(0,qe.jsx)(oo,{}),(0,qe.jsxs)("div",{className:"relative z-10 p-12 flex flex-col justify-between h-full min-h-[700px]",children:[(0,qe.jsx)("div",{className:"text-center",children:(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[(0,qe.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:(0,qe.jsx)(za,{icon:to,className:"text-2xl text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white tracking-wide",children:"ABAplay"}),(0,qe.jsx)("p",{className:"text-blue-200 text-sm",children:"Transformando Vidas atrav\xe9s da Ci\xeancia"})]})]})}),(0,qe.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,qe.jsx)(lo,{})}),(0,qe.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 mb-8",children:[(0,qe.jsx)("h3",{className:"text-white font-semibold mb-4 text-center",children:"Atividade em Tempo Real"}),(0,qe.jsx)(co,{})]}),(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("p",{className:"text-blue-200 text-sm mb-3",children:"Usado por cl\xednicas l\xedderes em interven\xe7\xe3o infantil"}),(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-6 opacity-60",children:[(0,qe.jsx)("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Ui,className:"text-white text-sm"})}),(0,qe.jsx)("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Hs,className:"text-white text-sm"})}),(0,qe.jsx)("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Ts,className:"text-white text-sm"})})]}),(0,qe.jsxs)("p",{className:"text-blue-300 text-xs mt-4",children:["\xa9 ",(new Date).getFullYear()," ABAplay. Todos os direitos reservados."]})]})]})]}),(0,qe.jsx)("div",{className:"lg:col-span-2 p-8 lg:p-12 flex flex-col justify-center",children:(0,qe.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,qe.jsxs)("div",{className:"text-center mb-10 lg:hidden",children:[(0,qe.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,qe.jsx)(za,{icon:to,className:"text-2xl text-white"})}),(0,qe.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bem-vindo \xe0 ABAplay"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Sua plataforma de interven\xe7\xe3o infantil"})]}),(0,qe.jsxs)("div",{className:"hidden lg:block text-center mb-10",children:[(0,qe.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 mb-3",children:["enter_username"===m&&"Bem-vindo de volta","enter_password"===m&&"Quase l\xe1!","set_password"===m&&"Primeiro Acesso"]}),(0,qe.jsxs)("p",{className:"text-gray-600 leading-relaxed",children:["enter_username"===m&&"Acesse sua conta e continue transformando vidas","enter_password"===m&&"Digite sua senha para acessar a plataforma","set_password"===m&&"Configure sua conta para come\xe7ar"]})]}),o&&(0,qe.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),(0,qe.jsx)("p",{className:"text-red-700 text-sm font-medium",children:o})]})}),(0,qe.jsx)("div",{className:"space-y-6",children:(()=>{const e="w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:bg-white transition-all duration-300 font-medium",t="w-full flex items-center justify-center py-4 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-2xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5";switch(m){case"enter_password":return(0,qe.jsxs)("form",{onSubmit:P,className:"space-y-8",children:[(0,qe.jsx)("div",{className:"text-left",children:(0,qe.jsxs)("button",{type:"button",onClick:()=>{p("enter_username"),l("")},className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:[(0,qe.jsx)(za,{icon:Ws,className:"rotate-180"}),(0,qe.jsx)("span",{children:"Voltar para utilizador"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center",children:(0,qe.jsx)(za,{icon:xs,className:"text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Utilizador"}),(0,qe.jsx)("p",{className:"font-bold text-xl text-gray-800",children:n})]})]})}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Senha de Acesso"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,qe.jsx)(za,{icon:bs,className:"text-gray-400"})}),(0,qe.jsx)("input",{id:"password",name:"password",type:N?"text":"password",required:!0,autoFocus:!0,value:s,onChange:e=>i(e.target.value),className:e,placeholder:"Digite sua senha"}),(0,qe.jsx)("button",{type:"button",onClick:()=>j(!N),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-blue-600 transition-colors",children:(0,qe.jsx)(za,{icon:N?fs:Ys})})]})]}),(0,qe.jsx)("button",{type:"submit",disabled:c,className:t,children:c?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin mr-3"}),(0,qe.jsx)("span",{children:"Entrando..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("span",{children:"Entrar na Plataforma"}),(0,qe.jsx)(za,{icon:Ws,className:"ml-3"})]})})]});case"set_password":return(0,qe.jsxs)("form",{onSubmit:L,className:"space-y-8",children:[(0,qe.jsxs)("div",{className:"text-center bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100",children:[(0,qe.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qe.jsx)(za,{icon:so,className:"text-white text-xl"})}),(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Bem-vindo(a), ",(null===g||void 0===g?void 0:g.fullName)||(null===g||void 0===g?void 0:g.username),"!"]}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Este \xe9 o seu primeiro acesso. Vamos criar uma senha segura para proteger sua conta."})]}),(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700",children:"Nova Senha"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,qe.jsx)(za,{icon:bs,className:"text-gray-400"})}),(0,qe.jsx)("input",{id:"newPassword",type:N?"text":"password",required:!0,autoFocus:!0,value:b,onChange:e=>v(e.target.value),className:e,placeholder:"Crie uma senha segura"}),(0,qe.jsx)("button",{type:"button",onClick:()=>j(!N),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-blue-600 transition-colors",children:(0,qe.jsx)(za,{icon:N?fs:Ys})})]})]}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700",children:"Confirmar Senha"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,qe.jsx)(za,{icon:Ts,className:"text-gray-400"})}),(0,qe.jsx)("input",{id:"confirmPassword",type:"password",required:!0,value:y,onChange:e=>w(e.target.value),className:e,placeholder:"Confirme sua senha"})]})]})]}),(0,qe.jsx)("button",{type:"submit",disabled:c,className:t,children:c?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin mr-3"}),(0,qe.jsx)("span",{children:"Configurando..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("span",{children:"Definir Senha e Entrar"}),(0,qe.jsx)(za,{icon:Mi,className:"ml-3"})]})})]});default:return(0,qe.jsxs)("form",{onSubmit:A,className:"space-y-8",children:[(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700",children:"Utilizador ou Email"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,qe.jsx)(za,{icon:xs,className:"text-gray-400"})}),(0,qe.jsx)("input",{id:"username",name:"username",type:"text",required:!0,autoFocus:!0,value:n,onChange:e=>a(e.target.value),className:e,placeholder:"Digite seu utilizador ou email"})]})]}),(0,qe.jsx)("button",{type:"submit",disabled:c,className:t,children:c?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin mr-3"}),(0,qe.jsx)("span",{children:"Verificando..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("span",{children:"Continuar"}),(0,qe.jsx)(za,{icon:Ws,className:"ml-3"})]})})]})}})()}),(0,qe.jsxs)("div",{className:"mt-8 text-center space-y-4",children:[(0,qe.jsxs)("p",{className:"text-sm text-gray-500",children:["Primeira vez na plataforma?"," ",(0,qe.jsx)("a",{href:"mailto:abaplayoficial@gmail.com?subject=Solicitar Acesso - ABAplay",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:"Solicite seu acesso"})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-4 border border-gray-100",children:[(0,qe.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Problemas com o acesso?"}),(0,qe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,qe.jsxs)("a",{href:"mailto:abaplayoficial@gmail.com?subject=Suporte - Problema de Acesso",className:"flex items-center justify-center space-x-2 px-4 py-2 bg-white border border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 text-gray-700 hover:text-blue-700 group",children:[(0,qe.jsx)(za,{icon:ni,className:"text-gray-500 group-hover:text-blue-600 transition-colors"}),(0,qe.jsx)("span",{className:"text-sm font-medium",children:"Email Suporte"})]}),(0,qe.jsxs)("a",{href:"https://wa.me/5511988543437?text=Ol\xe1! Preciso de ajuda com o acesso \xe0 plataforma ABAplay.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group",children:[(0,qe.jsx)(za,{icon:Js,className:"text-green-100 group-hover:text-white transition-colors"}),(0,qe.jsx)("span",{className:"text-sm font-medium",children:"WhatsApp"})]})]}),(0,qe.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:[(0,qe.jsx)(za,{icon:ni,className:"mr-1"}),"abaplayoficial@gmail.com"]})]})]})]})})]})}),(0,qe.jsx)(io,{isOpen:_,onAccept:async()=>{if(k)try{await(async e=>{const t=await fetch("".concat(ot.H,"/auth/accept-terms"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok){var n,r;const e=await t.json().catch((()=>({})));throw new Error((null===e||void 0===e||null===(n=e.errors)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.msg)||"N\xe3o foi poss\xedvel aceitar os termos.")}return t.json()})(k.user.id),u(k.token);let e="/";if(k.user&&k.user.role){switch(k.user.role.toLowerCase()){case"admin":case"therapist":e="/dashboard";break;case"pai":e="/parent-dashboard";break;default:e="/"}}S(!1),C(null),h(e,{replace:!0})}catch(o){console.error("Erro ao aceitar termos:",o),l("Erro ao processar aceita\xe7\xe3o dos termos. Tente novamente."),S(!1),C(null)}},onDecline:()=>{S(!1),C(null),l("\xc9 necess\xe1rio aceitar os termos para continuar.")},isLoading:c,userInfo:null===k||void 0===k?void 0:k.user})]})},ho="".concat(ot.H,"/notifications"),fo=async e=>{try{console.log("[NOTIFICATION-LOG] getNotifications: Buscando para userId:",e);const t=localStorage.getItem("token"),n=await Ve.A.get(ho,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return console.log("[NOTIFICATION-LOG] getNotifications: Sucesso"),n.data}catch(n){var t;throw console.error("[NOTIFICATION-LOG] getNotifications: Erro -",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},mo=r.forwardRef(((e,t)=>{let{className:n=""}=e;const[a,s]=(0,r.useState)(0),[i,o]=(0,r.useState)(!0),{user:l}=He(),c=async()=>{if(null!==l&&void 0!==l&&l.id)try{const e=(await fo(l.id)).filter((e=>e.unreadCount>0)).length;s(e||0)}catch(e){console.error("Erro ao buscar total de n\xe3o lidas:",e),s(0)}finally{o(!1)}};(0,r.useEffect)((()=>{if(null!==l&&void 0!==l&&l.id){c();const e=setInterval(c,3e4);return window.addEventListener("messageSentOrReceived",c),()=>{clearInterval(e),window.removeEventListener("messageSentOrReceived",c)}}}),[l,c]);const d=()=>{c()};return r.useImperativeHandle(t,(()=>({updateCount:d}))),i?(0,qe.jsx)("div",{className:"relative ".concat(n),children:(0,qe.jsx)(za,{icon:pi,className:"text-gray-400"})}):(0,qe.jsxs)("div",{className:"relative ".concat(n),children:[(0,qe.jsx)(za,{icon:pi,className:"transition-colors duration-200 ".concat(a>0?"text-indigo-600":"text-gray-500 hover:text-indigo-600")}),a>0&&(0,qe.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center min-w-[20px] px-1",children:a>99?"99+":a})]})})),po=e=>{let{onClose:t,onProgramCompleted:n}=e;const[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),h=()=>{console.log("[PROGRESS-ALERT] Fechando modal..."),c(!1),setTimeout((()=>{t&&t()}),300)};(0,r.useEffect)((()=>{f(),c(!0);const e=e=>{"Escape"===e.key&&h()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[]);const f=async()=>{try{o(!0),u(null),console.log("[PROGRESS-ALERT] Iniciando busca de alertas de progresso...");const e=localStorage.getItem("token");if(!e)return console.error("[PROGRESS-ALERT] Token n\xe3o encontrado"),void u("Token de autentica\xe7\xe3o n\xe3o encontrado");const t=await Ve.A.get("".concat(ot.H,"/notifications/progress-alerts"),{headers:{Authorization:"Bearer ".concat(e)}});console.log("[PROGRESS-ALERT] Resposta recebida:",t.data),s(t.data||[])}catch(d){var e,t,n,r,a;console.error("[PROGRESS-ALERT] Erro ao carregar alertas:",(null===(e=d.response)||void 0===e?void 0:e.data)||d.message),u((null===(t=d.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.errors)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.msg)||d.message||"Erro desconhecido"),s([])}finally{o(!1)}};return l?(0,qe.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 pt-20",onClick:h,children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] transform transition-all duration-300 ".concat(l?"scale-100 opacity-100":"scale-95 opacity-0"),onClick:e=>e.stopPropagation(),children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:(0,qe.jsx)(za,{icon:gs,className:"text-amber-600 text-lg"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Alertas de Progresso"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Programas com 80%+ de progresso que podem estar dominados"})]})]}),(0,qe.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsx)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 200px)"},children:i?(0,qe.jsxs)("div",{className:"text-center py-8",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,qe.jsx)("p",{className:"mt-2 text-gray-600",children:"Carregando alertas..."})]}):d?(0,qe.jsxs)("div",{className:"text-center py-8 text-red-600",children:[(0,qe.jsx)(za,{icon:Ei,className:"mx-auto text-4xl text-red-500 mb-4"}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("p",{className:"font-semibold",children:"Erro ao carregar alertas"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:d}),(0,qe.jsx)("button",{onClick:f,className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Tentar Novamente"})]})]}):0===a.length?(0,qe.jsxs)("div",{className:"text-center py-8 text-gray-600",children:[(0,qe.jsx)(za,{icon:Es,className:"mx-auto text-4xl text-green-500 mb-4"}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("p",{className:"font-semibold text-gray-700",children:"Nenhum programa precisa de verifica\xe7\xe3o no momento!"}),(0,qe.jsxs)("div",{className:"text-sm text-gray-500 space-y-1",children:[(0,qe.jsx)("p",{children:"\u2022 Programas precisam ter \u22655 sess\xf5es registradas"}),(0,qe.jsx)("p",{children:"\u2022 Progresso deve estar \u226580% nas \xfaltimas sess\xf5es"}),(0,qe.jsx)("p",{children:"\u2022 Continue registrando sess\xf5es para acompanhar o progresso"})]})]})]}):(0,qe.jsx)("div",{className:"space-y-4",children:a.map((e=>(0,qe.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,qe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,qe.jsx)(za,{icon:xs,className:"text-blue-600 text-sm"}),(0,qe.jsx)("span",{className:"font-medium text-gray-800",children:e.patient_name})]}),(0,qe.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:e.program_name}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("span",{children:"Progresso:"}),(0,qe.jsxs)("span",{className:"font-semibold text-amber-600",children:[Math.round(e.progress_average),"%"]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("span",{children:"Sess\xf5es:"}),(0,qe.jsx)("span",{className:"font-semibold",children:e.sessions_count})]})]})]}),(0,qe.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:(0,qe.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Ve.A.post("".concat(ot.H,"/notifications/mark-completed"),{assignmentId:e.assignment_id,patientId:e.patient_id},{headers:{Authorization:"Bearer ".concat(t)}}),s((t=>t.filter((t=>t.assignment_id!==e.assignment_id)))),n&&n(),console.log('Programa "'.concat(e.program_name,'" marcado como dominado'))}catch(d){console.error("Erro ao marcar programa como dominado:",d)}})(e),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center space-x-1",children:[(0,qe.jsx)(za,{icon:Es}),(0,qe.jsx)("span",{children:"Dominado"})]})})]}),(0,qe.jsx)("div",{className:"mt-3",children:(0,qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,qe.jsx)("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(e.progress_average,100),"%")}})})})]},e.assignment_id)))})}),!i&&!d&&a.length>0&&(0,qe.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:(0,qe.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Revise se estes programas j\xe1 foram aprendidos e marque como dominados se necess\xe1rio"})})]})}):null},go=e=>{let{isOpen:t,onClose:n,onNotificationClick:a}=e;const{selectedPatient:s,refreshPatientData:i}=rt(),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1),f=async()=>{try{d(!0);const e=await fo();l(e||[])}catch(e){console.error("Erro ao buscar notifica\xe7\xf5es:",e),l([])}finally{d(!1)}};(0,r.useEffect)((()=>(t&&f(),window.addEventListener("messageSentOrReceived",f),()=>{window.removeEventListener("messageSentOrReceived",f)})),[t]);const m=async e=>{try{if("progress_alert"===e.chatType)return void h(!0);await(async(e,t)=>{try{console.log("[NOTIFICATION-LOG] markAsRead: Marcando como lida - patientId:",e,"chatType:",t);const n=localStorage.getItem("token"),r=await Ve.A.post("".concat(ho,"/mark-read"),{patientId:e,chatType:t},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});return console.log("[NOTIFICATION-LOG] markAsRead: Sucesso"),r.data}catch(r){var n;throw console.error("[NOTIFICATION-LOG] markAsRead: Erro -",(null===(n=r.response)||void 0===n?void 0:n.data)||r.message),r}})(e.patientId,e.chatType),l((t=>t.map((t=>t.userId===e.userId&&t.patientId===e.patientId&&t.chatType===e.chatType?(0,Ie.A)((0,Ie.A)({},t),{},{unreadCount:0}):t)))),a&&a(e)}catch(t){console.error("Erro ao marcar como lida:",t)}},p=e=>{switch(e){case"case_discussion":return"Discuss\xe3o de Caso";case"parent_chat":return"Chat com Pais";case"progress_alert":return"Alerta de Progresso";default:return"Notifica\xe7\xe3o"}},g=e=>{switch(e){case"case_discussion":return hs;case"parent_chat":default:return Za;case"progress_alert":return gs}},x=e=>{if(!e)return"Nunca lida";const t=new Date(e),n=new Date,r=Math.floor((n-t)/36e5);if(r<1)return"H\xe1 poucos minutos";if(r<24)return"H\xe1 ".concat(r," hora").concat(r>1?"s":"");const a=Math.floor(r/24);return"H\xe1 ".concat(a," dia").concat(a>1?"s":"")},b=()=>{h(!1),f()};return t?(0,qe.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-16",children:[(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsx)("div",{className:"overflow-y-auto max-h-96",children:c?(0,qe.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Carregando notifica\xe7\xf5es..."}):0===o.length?(0,qe.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma notifica\xe7\xe3o encontrada"}):(0,qe.jsx)("div",{className:"divide-y divide-gray-200",children:o.map((e=>(0,qe.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer ".concat(e.unreadCount>0?"bg-blue-50":""),onClick:()=>m(e),children:[(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("div",{className:"p-2 rounded-full ".concat(e.unreadCount>0?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600"),children:(0,qe.jsx)(za,{icon:g(e.chatType)})}),(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.patient_name}),e.unreadCount>0&&(0,qe.jsx)("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:e.unreadCount>99?"99+":e.unreadCount})]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:p(e.chatType)}),(0,qe.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\xdaltima leitura: ",x(e.lastReadTimestamp)]})]})]}),e.unreadCount>0&&(0,qe.jsxs)("div",{className:"mt-2 flex items-center text-xs text-indigo-600",children:[(0,qe.jsx)(za,{icon:Ys,className:"mr-1"}),"Clique para marcar como lida"]})]},"".concat(e.userId,"-").concat(e.patientId,"-").concat(e.chatType))))})}),(0,qe.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,qe.jsx)("button",{onClick:n,className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Fechar"})})]}),u&&(0,qe.jsx)(po,{onClose:b,onProgramCompleted:async()=>{null!==s&&void 0!==s&&s.id&&await i(),b()}})]}):null},xo=e=>{let{toggleSidebar:t}=e;const{user:n,logout:a}=He(),{selectedPatient:s,refreshPatientData:i}=rt(),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),f=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useRef)(null),g=()=>{var e;h(!1),null!==(e=p.current)&&void 0!==e&&e.updateCount&&p.current.updateCount()};(0,r.useEffect)((()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&m.current&&!m.current.contains(e.target)&&l(!1)},t=()=>{h(!0)};return document.addEventListener("mousedown",e),window.addEventListener("checkProgressAlerts",t),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("checkProgressAlerts",t)}}),[]);const x="pai"!==(null===n||void 0===n?void 0:n.role),b=e=>{let{isMobile:t=!1,onLinkClick:r=()=>{}}=e;const a=J(),s="flex items-center font-medium transition-colors duration-200",i=e=>{const n=a.pathname.startsWith(e);return t?"".concat(s," ").concat("px-4 py-3 rounded-lg text-base"," ").concat(n?"bg-gradient-to-r from-indigo-600 to-purple-700 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-700 transition-all"):"".concat(s," ").concat("px-3 py-2 rounded-md text-sm"," ").concat(n?"bg-gradient-to-r from-indigo-600 to-purple-700 text-white shadow-lg":"text-gray-600 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-700")};return"pai"===(null===n||void 0===n?void 0:n.role)?(0,qe.jsxs)(De,{to:"/",className:()=>i("/"),onClick:r,children:[(0,qe.jsx)(za,{icon:xi,className:"fa-fw mr-2"})," Acompanhamento"]}):(0,qe.jsxs)(qe.Fragment,{children:[(null===n||void 0===n?void 0:n.is_admin)&&(0,qe.jsxs)(De,{to:"/admin",className:()=>i("/admin"),onClick:r,children:[(0,qe.jsx)(za,{icon:Ci,className:"fa-fw mr-2"})," Admin"]}),(0,qe.jsxs)(De,{to:"/dashboard",className:()=>i("/dashboard"),onClick:r,children:[(0,qe.jsx)(za,{icon:xi,className:"fa-fw mr-2"})," Dashboard"]}),!(null!==n&&void 0!==n&&n.is_admin)&&(0,qe.jsxs)(De,{to:"/clients",className:()=>i("/clients"),onClick:r,children:[(0,qe.jsx)(za,{icon:hs,className:"fa-fw mr-2"})," Clientes"]}),(0,qe.jsxs)(De,{to:"/programs",className:()=>i("/programs"),onClick:r,children:[(0,qe.jsx)(za,{icon:ks,className:"fa-fw mr-2"})," Programas"]}),(0,qe.jsxs)(De,{to:"/notes",className:()=>i("/notes"),onClick:r,children:[(0,qe.jsx)(za,{icon:Qa,className:"fa-fw mr-2"})," Anota\xe7\xf5es"]})]})};return(0,qe.jsxs)("header",{className:"bg-gradient-to-r from-white via-indigo-50/30 to-purple-50/30 backdrop-blur-md sticky top-0 z-10 w-full flex-shrink-0 border-b border-indigo-200/50 shadow-sm",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 h-16",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[x&&(0,qe.jsx)("button",{onClick:t,className:"lg:hidden mr-3 p-2 rounded-md text-gray-600 hover:text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-600 transition-all transform hover:scale-105","aria-label":"Abrir menu de clientes",children:(0,qe.jsx)(za,{icon:ss,className:"h-6 w-6"})}),(0,qe.jsxs)(De,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-700 bg-clip-text text-transparent flex items-center mr-2 hover:from-indigo-700 hover:to-purple-800 transition-all",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-2 rounded-lg mr-3 shadow-sm",children:(0,qe.jsx)(za,{icon:to,className:"text-white"})}),(0,qe.jsx)("span",{children:"ABAplay"})]}),(0,qe.jsx)("div",{className:"hidden lg:flex items-center space-x-1 ml-4",children:(0,qe.jsx)(b,{})})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,qe.jsxs)("div",{className:"hidden md:block text-sm",children:[s?(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-200 px-3 py-1 rounded-full",children:(0,qe.jsxs)("span",{className:"font-medium bg-gradient-to-r from-indigo-700 to-purple-700 bg-clip-text text-transparent",children:["Cliente: ",s.name]})}):"terapeuta"===(null===n||void 0===n?void 0:n.role)&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-gray-100 to-slate-100 border border-gray-200 px-3 py-1 rounded-full",children:(0,qe.jsx)("span",{className:"italic text-gray-500",children:"Nenhum cliente selecionado"})}),"pai"===(null===n||void 0===n?void 0:n.role)&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-200 px-3 py-1 rounded-full",children:(0,qe.jsx)("span",{className:"font-medium bg-gradient-to-r from-indigo-700 to-purple-700 bg-clip-text text-transparent",children:"Acompanhamento"})})]}),(0,qe.jsxs)("div",{className:"relative flex items-center space-x-3",children:[n&&"pai"!==n.role&&(0,qe.jsx)("button",{onClick:()=>d(!c),className:"p-2 rounded-full hover:bg-gradient-to-r hover:from-indigo-100 hover:to-purple-100 transition-all duration-200 transform hover:scale-110",title:"Notifica\xe7\xf5es",children:(0,qe.jsx)(mo,{ref:p})}),(0,qe.jsx)("div",{className:"w-9 h-9 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white flex items-center justify-center font-bold text-sm border-2 border-white shadow-md hover:shadow-lg transition-all transform hover:scale-110",title:(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.username),children:(v=(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.username),v?v.split(" ").map((e=>e[0])).slice(0,2).join("").toUpperCase():"--")}),(0,qe.jsx)("button",{onClick:a,title:"Sair",className:"text-gray-500 hover:text-red-600 transition-all duration-150 p-2 rounded-full hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 transform hover:scale-110",children:(0,qe.jsx)(za,{icon:Ka,className:"fa-fw"})})]}),(0,qe.jsx)("div",{className:"lg:hidden flex items-center",children:(0,qe.jsxs)("button",{ref:m,onClick:()=>l(!o),type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-600 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 transition-all transform hover:scale-105","aria-controls":"mobile-menu","aria-expanded":o,children:[(0,qe.jsx)("span",{className:"sr-only",children:"Abrir menu"}),(0,qe.jsx)(za,{icon:o?Ei:ss,className:"h-6 w-6"})]})})]})]}),(0,qe.jsxs)("div",{ref:f,className:"lg:hidden absolute top-full left-0 right-0 bg-gradient-to-r from-white via-indigo-50/50 to-purple-50/50 backdrop-blur-md shadow-xl border-t border-indigo-200/50 transition-transform duration-300 ease-in-out ".concat(o?"transform translate-y-0":"transform -translate-y-full"),style:{visibility:o?"visible":"hidden"},id:"mobile-menu",children:[(0,qe.jsx)("div",{className:"px-3 pt-3 pb-4 space-y-2",children:(0,qe.jsx)(b,{isMobile:!0,onLinkClick:()=>l(!1)})}),(0,qe.jsx)("div",{className:"pt-4 pb-4 border-t border-gray-200",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-base font-medium leading-none text-gray-800",children:(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.username)}),(0,qe.jsx)("div",{className:"text-sm font-medium leading-none text-gray-500",children:null===n||void 0===n?void 0:n.role})]}),(0,qe.jsxs)("button",{onClick:a,className:"ml-auto flex-shrink-0 bg-gradient-to-r from-gray-100 to-slate-100 p-2 rounded-full text-gray-500 hover:text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 focus:outline-none transition-all transform hover:scale-110",children:[(0,qe.jsx)("span",{className:"sr-only",children:"Sair"}),(0,qe.jsx)(za,{icon:Ka})]})]})})]}),(0,qe.jsx)(go,{isOpen:c,onClose:()=>d(!1),onNotificationClick:e=>{var t;null!==(t=p.current)&&void 0!==t&&t.updateCount&&p.current.updateCount(),d(!1),console.log("Notifica\xe7\xe3o clicada:",e)}}),u&&(0,qe.jsx)(po,{onClose:g,onProgramCompleted:async()=>{null!==s&&void 0!==s&&s.id&&await i(),g()}})]});var v},bo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,n]=(0,r.useState)({}),[a,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),l=(0,r.useCallback)((async()=>{if(e.length)try{s(!0),o(null);const t=localStorage.getItem("token"),r=e.map((async e=>{try{var n,r;const a=await Ve.A.get("".concat(ot.H,"/notifications/patient/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),s=(null===(n=a.data.find((e=>"parent_chat"===e.chatType)))||void 0===n?void 0:n.unreadCount)||0,i=(null===(r=a.data.find((e=>"case_discussion"===e.chatType)))||void 0===r?void 0:r.unreadCount)||0;return{patientId:e,notifications:{parentChat:s,caseDiscussion:i,total:s+i}}}catch(i){return console.error("Erro ao buscar notifica\xe7\xf5es do paciente ".concat(e,":"),i),{patientId:e,notifications:{parentChat:0,caseDiscussion:0,total:0}}}})),a=await Promise.all(r),l={};a.forEach((e=>{let{patientId:t,notifications:n}=e;l[t]=n})),n(l)}catch(i){o(i.message),console.error("Erro geral ao buscar notifica\xe7\xf5es:",i)}finally{s(!1)}}),[]),c=(0,r.useCallback)((async e=>{try{var t,r;const a=localStorage.getItem("token"),s=await Ve.A.get("".concat(ot.H,"/notifications/patient/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}}),i=(null===(t=s.data.find((e=>"parent_chat"===e.chatType)))||void 0===t?void 0:t.unreadCount)||0,o=(null===(r=s.data.find((e=>"case_discussion"===e.chatType)))||void 0===r?void 0:r.unreadCount)||0,l={parentChat:i,caseDiscussion:o,total:i+o};return n((t=>(0,Ie.A)((0,Ie.A)({},t),{},{[e]:l}))),l}catch(i){return console.error("Erro ao buscar notifica\xe7\xf5es do paciente ".concat(e,":"),i),{parentChat:0,caseDiscussion:0,total:0}}}),[]),d=(0,r.useCallback)((async(e,t)=>{try{const r=localStorage.getItem("token");await Ve.A.post("".concat(ot.H,"/notifications/mark-read"),{patientId:e,chatType:t},{headers:{Authorization:"Bearer ".concat(r)}}),n((n=>{const r=n[e]||{parentChat:0,caseDiscussion:0,total:0},a=(0,Ie.A)({},r);return"parent_chat"===t?a.parentChat=0:"case_discussion"===t&&(a.caseDiscussion=0),a.total=a.parentChat+a.caseDiscussion,(0,Ie.A)((0,Ie.A)({},n),{},{[e]:a})})),window.dispatchEvent(new CustomEvent("notificationUpdate"))}catch(i){console.error("Erro ao marcar como lida:",i)}}),[]),u=(0,r.useCallback)((e=>[...e].sort(((e,n)=>{var r,a;const s=(null===(r=t[e.id])||void 0===r?void 0:r.total)||0,i=(null===(a=t[n.id])||void 0===a?void 0:a.total)||0;return s!==i?i-s:e.name.localeCompare(n.name)}))),[t]),h=(0,r.useCallback)((e=>{const n=[],r=[],a=[];return e.forEach((e=>{var s;const i=(null===(s=t[e.id])||void 0===s?void 0:s.total)||0;i>=3?n.push(e):i>0?r.push(e):a.push(e)})),n.sort(((e,t)=>t.name.localeCompare(e.name))),r.sort(((e,t)=>e.name.localeCompare(t.name))),a.sort(((e,t)=>e.name.localeCompare(t.name))),{urgent:n,withNotifications:r,normal:a}}),[t]),f=(0,r.useCallback)((async()=>{if(0!==e.length)try{s(!0),o(null);const t=localStorage.getItem("token"),r=e.map((async e=>{try{var n,r;const a=await Ve.A.get("".concat(ot.H,"/notifications/patient/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),s=(null===(n=a.data.find((e=>"parent_chat"===e.chatType)))||void 0===n?void 0:n.unreadCount)||0,i=(null===(r=a.data.find((e=>"case_discussion"===e.chatType)))||void 0===r?void 0:r.unreadCount)||0;return{patientId:e,notifications:{parentChat:s,caseDiscussion:i,total:s+i}}}catch(i){return console.error("Erro ao buscar notifica\xe7\xf5es do paciente ".concat(e,":"),i),{patientId:e,notifications:{parentChat:0,caseDiscussion:0,total:0}}}})),a=await Promise.all(r),l={};a.forEach((e=>{let{patientId:t,notifications:n}=e;l[t]=n})),n(l)}catch(i){o(i.message),console.error("Erro geral ao buscar notifica\xe7\xf5es:",i)}finally{s(!1)}else n({})}),[e]);return(0,r.useEffect)((()=>{f()}),[f]),(0,r.useEffect)((()=>{const e=()=>{f()};return window.addEventListener("notificationUpdate",e),()=>{window.removeEventListener("notificationUpdate",e)}}),[f]),{patientNotifications:t,loading:a,error:i,fetchPatientNotifications:c,fetchAllPatientNotifications:l,markAsRead:d,sortPatientsByPriority:u,categorizePatients:h}},vo=e=>{let{patientId:t,patientName:n,onNavigateToChat:a,notifications:s={parentChat:0,caseDiscussion:0,total:0},className:i=""}=e;const[o,l]=(0,r.useState)(!1),c=e=>{e.preventDefault(),e.stopPropagation(),l(!0)},d=e=>{l(!1),a&&a(t,e)};return 0===s.total?null:(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{onClick:c,className:"\n          absolute -top-2 -right-2 min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold cursor-pointer\n          flex items-center justify-center transition-all duration-200 hover:scale-110\n          ".concat(s.total>=3?"bg-red-500 text-white animate-pulse":s.total>0?"bg-blue-500 text-white":"hidden"," ").concat(i,"\n        "),title:"".concat(s.total," notifica\xe7\xe3o").concat(1!==s.total?"\xf5es":""),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||c(e)},children:s.total>99?"99+":s.total}),o&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"\n              ".concat(window.innerWidth<768?"fixed inset-x-0 bottom-0 bg-white rounded-t-xl shadow-xl transform transition-transform duration-300":"bg-white rounded-xl shadow-xl max-w-sm w-full mx-4 transform transition-all duration-300","\n            "),onClick:e=>e.stopPropagation(),children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"font-semibold text-gray-800",children:n}),(0,qe.jsxs)("p",{className:"text-sm text-gray-600",children:[s.total," notifica\xe7\xe3o",1!==s.total?"\xf5es":""," pendente",1!==s.total?"s":""]})]}),(0,qe.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-4 space-y-3",children:[s.parentChat>0&&(0,qe.jsxs)("button",{onClick:()=>d("parent_chat"),className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Za,className:"text-white"})}),(0,qe.jsxs)("div",{className:"text-left",children:[(0,qe.jsx)("p",{className:"font-medium text-gray-800",children:"Chat dos Pais"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Mensagens da fam\xedlia"})]})]}),(0,qe.jsx)("div",{className:"bg-blue-500 text-white rounded-full min-w-[24px] h-6 flex items-center justify-center text-xs font-bold",children:s.parentChat})]}),s.caseDiscussion>0&&(0,qe.jsxs)("button",{onClick:()=>d("case_discussion"),className:"w-full flex items-center justify-between p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:(0,qe.jsx)(za,{icon:hs,className:"text-white"})}),(0,qe.jsxs)("div",{className:"text-left",children:[(0,qe.jsx)("p",{className:"font-medium text-gray-800",children:"Discuss\xe3o de Caso"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Chat da equipe t\xe9cnica"})]})]}),(0,qe.jsx)("div",{className:"bg-green-500 text-white rounded-full min-w-[24px] h-6 flex items-center justify-center text-xs font-bold",children:s.caseDiscussion})]})]}),window.innerWidth<768&&(0,qe.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,qe.jsx)("button",{onClick:()=>l(!1),className:"w-full py-3 text-gray-600 font-medium",children:"Fechar"})})]})})]})},yo=()=>{const e=Z(),{patients:t,selectedPatient:n,selectPatient:a,isLoading:s}=rt(),{user:i}=He(),[o,l]=(0,r.useState)(""),c=(0,r.useMemo)((()=>(t||[]).map((e=>e.id))),[t]),{patientNotifications:d,sortPatientsByPriority:u,markAsRead:h}=bo(c),f=(n,r)=>{const s=t.find((e=>e.id===n));s&&(a(s),h(n,r),"parent_chat"===r?"parent"===(null===i||void 0===i?void 0:i.role)?e("/parent-dashboard"):e("/notes"):"case_discussion"===r&&e("/notes"))},m=(0,r.useMemo)((()=>{const e=t||[];let n=e;return o&&(n=e.filter((e=>e.name.toLowerCase().includes(o.toLowerCase())))),u(n)}),[t,o,u]);return"super_admin"===(null===i||void 0===i?void 0:i.role)?null:s?(0,qe.jsx)("div",{className:"h-full bg-gradient-to-b from-indigo-50 to-purple-50 border-r border-indigo-200 flex justify-center items-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-indigo-600 text-2xl"})}),(0,qe.jsx)("p",{className:"text-indigo-600 text-sm font-medium",children:"Carregando clientes..."})]})}):(0,qe.jsxs)("div",{className:"h-full flex flex-col bg-gradient-to-b from-white to-indigo-50/30 border-r border-indigo-200 shadow-sm",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)("div",{className:"bg-white bg-opacity-20 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:Ss,className:"text-white"})}),(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Clientes"})]}),(0,qe.jsx)("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 mb-4",children:(0,qe.jsxs)("div",{className:"text-white text-sm",children:[(null===i||void 0===i?void 0:i.is_admin)&&(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{children:"Total de clientes:"}),(0,qe.jsxs)("span",{className:"font-bold",children:[(null===t||void 0===t?void 0:t.length)||0," / ",(null===i||void 0===i?void 0:i.max_patients)||0]})]}),"terapeuta"===(null===i||void 0===i?void 0:i.role)&&(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{children:"Clientes atribu\xeddos:"}),(0,qe.jsx)("span",{className:"font-bold",children:(null===t||void 0===t?void 0:t.length)||0})]})]})}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:(0,qe.jsx)(za,{icon:yi,className:"text-indigo-300"})}),(0,qe.jsx)("input",{type:"text",placeholder:"Buscar cliente...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white bg-opacity-90 border-2 border-white border-opacity-30 rounded-lg placeholder-indigo-400 text-gray-800 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 focus:border-white focus:border-opacity-50 text-sm transition-all"})]})]}),(0,qe.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:m&&m.length>0?(0,qe.jsx)("div",{className:"space-y-2",children:m.map(((e,t)=>{var r;const s=(null===n||void 0===n?void 0:n.id)===e.id;return(0,qe.jsx)("div",{className:"relative",children:(0,qe.jsxs)("button",{onClick:()=>(e=>{a(e)})(e),className:"\n                      w-full text-left p-4 rounded-lg flex items-center transition-all duration-200 transform\n                      ".concat(s?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg scale-105 border-2 border-white":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-700 hover:shadow-md hover:scale-102 border-2 border-gray-200 hover:border-indigo-300","\n                    "),children:[(0,qe.jsxs)("div",{className:"\n                      p-2 rounded-full mr-3 flex-shrink-0 relative\n                      ".concat(s?"bg-white bg-opacity-20":"bg-gradient-to-r from-indigo-100 to-purple-100","\n                    "),children:[(0,qe.jsx)(za,{icon:ki,className:"\n                          ".concat(s?"text-white":"text-indigo-600","\n                        ")}),(0,qe.jsx)(vo,{patientId:e.id,patientName:e.name,notifications:d[e.id],onNavigateToChat:f,className:"z-10"})]}),(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsx)("p",{className:"\n                        font-medium truncate\n                        ".concat(s?"text-white":"text-gray-800","\n                      "),children:e.name}),s&&(0,qe.jsx)("p",{className:"text-indigo-100 text-xs mt-1",children:"\u2705 Cliente selecionado"}),(null===(r=d[e.id])||void 0===r?void 0:r.total)>0&&!s&&(0,qe.jsxs)("p",{className:"text-blue-600 text-xs mt-1 font-medium",children:["\ud83d\udd14 ",d[e.id].total," nova",1!==d[e.id].total?"s":""," mensagem",1!==d[e.id].total?"ns":""]})]}),s&&(0,qe.jsx)("div",{className:"absolute top-2 right-2",children:(0,qe.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})},e.id)}))}):(0,qe.jsxs)("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:o?yi:Ss,className:"text-2xl text-indigo-600"})}),(0,qe.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:o?"Nenhum resultado":"Nenhum cliente"}),(0,qe.jsx)("p",{className:"text-sm text-gray-500 leading-relaxed",children:o?"Tente ajustar os termos da busca":"Nenhum cliente foi atribu\xeddo ainda"}),o&&(0,qe.jsx)("button",{onClick:()=>l(""),className:"mt-4 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-sm rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105",children:"Limpar busca"})]})}),m&&m.length>0&&(0,qe.jsx)("div",{className:"border-t border-indigo-200 bg-gradient-to-r from-indigo-50 to-purple-50 px-4 py-3",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-indigo-600",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:ii,className:"text-indigo-500"}),(0,qe.jsxs)("span",{children:["Total: ",m.length," cliente",1!==m.length?"s":""]})]}),o&&(0,qe.jsxs)("span",{className:"text-indigo-500",children:['Filtrado por: "',o,'"']})]})})]})},wo=()=>{const e=J(),{user:t,isAuthenticated:n,isLoading:a}=He(),[s,i]=(0,r.useState)(!1),o=e.pathname.startsWith("/admin"),l="pai"!==(null===t||void 0===t?void 0:t.role);return(0,r.useEffect)((()=>{i(!1)}),[e]),"super_admin"===(null===t||void 0===t?void 0:t.role)?(0,qe.jsx)(pe,{to:"/super-admin",replace:!0}):a?(0,qe.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-indigo-500"})}):n?(0,qe.jsxs)("div",{className:"relative h-screen flex flex-col bg-gray-50",children:[(0,qe.jsx)(xo,{toggleSidebar:()=>i(!s)}),(0,qe.jsxs)("div",{className:"flex-1 flex overflow-hidden lg:grid ".concat(o||!l?"lg:grid-cols-1":"lg:grid-cols-[280px_1fr]"),children:[l&&(0,qe.jsxs)(qe.Fragment,{children:[s&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>i(!1),"aria-hidden":"true"}),(0,qe.jsx)("aside",{className:"\n                                fixed inset-y-0 left-0 z-30 w-72 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out\n                                ".concat(o?"lg:hidden":"lg:static lg:translate-x-0","\n                                ").concat(s?"translate-x-0":"-translate-x-full","\n                            "),children:(0,qe.jsx)(yo,{})})]}),(0,qe.jsx)("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:(0,qe.jsx)(ge,{})})]})]}):(0,qe.jsx)(pe,{to:"/login",state:{from:e},replace:!0})},No=()=>{const{user:e,isLoading:t}=He();return t?(0,qe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-3xl text-indigo-500"})}):e?"super_admin"===e.role?(0,qe.jsx)(pe,{to:"/super-admin",replace:!0}):e.is_admin?(0,qe.jsx)(pe,{to:"/admin",replace:!0}):"pai"===e.role?(0,qe.jsx)(pe,{to:"/parent-dashboard",replace:!0}):(0,qe.jsx)(pe,{to:"/clients",replace:!0}):(0,qe.jsx)(pe,{to:"/login",replace:!0})};var jo=n(7762),_o=n(557),So=n.n(_o),ko=n(4980);function Co(e){return e+.5|0}const Ao=(e,t,n)=>Math.max(Math.min(e,n),t);function Po(e){return Ao(Co(2.55*e),0,255)}function Lo(e){return Ao(Co(255*e),0,255)}function Eo(e){return Ao(Co(e/2.55)/100,0,1)}function Mo(e){return Ao(Co(100*e),0,100)}const Do={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Oo=[..."0123456789ABCDEF"],To=e=>Oo[15&e],Ro=e=>Oo[(240&e)>>4]+Oo[15&e],Io=e=>(240&e)>>4===(15&e);function Fo(e){var t=(e=>Io(e.r)&&Io(e.g)&&Io(e.b)&&Io(e.a))(e)?To:Ro;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const zo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bo(e,t,n){const r=t*Math.min(n,1-n),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function qo(e,t,n){const r=function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(a,4-a,1),0)};return[r(5),r(3),r(1)]}function Uo(e,t,n){const r=Bo(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)r[a]*=1-t-n,r[a]+=t;return r}function Wo(e){const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),s=Math.min(t,n,r),i=(a+s)/2;let o,l,c;return a!==s&&(c=a-s,l=i>.5?c/(2-a-s):c/(a+s),o=function(e,t,n,r,a){return e===a?(t-n)/r+(t<n?6:0):t===a?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,a),o=60*o+.5),[0|o,l||0,i]}function Ho(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Lo)}function Vo(e,t,n){return Ho(Bo,e,t,n)}function Yo(e){return(e%360+360)%360}function Go(e){const t=zo.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Po(+t[5]):Lo(+t[5]));const a=Yo(+t[2]),s=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Ho(Uo,e,t,n)}(a,s,i):"hsv"===t[1]?function(e,t,n){return Ho(qo,e,t,n)}(a,s,i):Vo(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}const Xo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$o={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ko;function Jo(e){Ko||(Ko=function(){const e={},t=Object.keys($o),n=Object.keys(Xo);let r,a,s,i,o;for(r=0;r<t.length;r++){for(i=o=t[r],a=0;a<n.length;a++)s=n[a],o=o.replace(s,Xo[s]);s=parseInt($o[i],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),Ko.transparent=[0,0,0,0]);const t=Ko[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Qo=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Zo=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,el=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function tl(e,t,n){if(e){let r=Wo(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Vo(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function nl(e,t){return e?Object.assign(t||{},e):e}function rl(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Lo(e[3]))):(t=nl(e,{r:0,g:0,b:0,a:1})).a=Lo(t.a),t}function al(e){return"r"===e.charAt(0)?function(e){const t=Qo.exec(e);let n,r,a,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?Po(e):Ao(255*e,0,255)}return n=+t[1],r=+t[3],a=+t[5],n=255&(t[2]?Po(n):Ao(n,0,255)),r=255&(t[4]?Po(r):Ao(r,0,255)),a=255&(t[6]?Po(a):Ao(a,0,255)),{r:n,g:r,b:a,a:s}}}(e):Go(e)}class sl{constructor(e){if(e instanceof sl)return e;const t=typeof e;let n;"object"===t?n=rl(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Do[e[1]],g:255&17*Do[e[2]],b:255&17*Do[e[3]],a:5===n?17*Do[e[4]]:255}:7!==n&&9!==n||(t={r:Do[e[1]]<<4|Do[e[2]],g:Do[e[3]]<<4|Do[e[4]],b:Do[e[5]]<<4|Do[e[6]],a:9===n?Do[e[7]]<<4|Do[e[8]]:255})),t}(e)||Jo(e)||al(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=nl(this._rgb);return e&&(e.a=Eo(e.a)),e}set rgb(e){this._rgb=rl(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Eo(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?Fo(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Wo(e),n=t[0],r=Mo(t[1]),a=Mo(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(Eo(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let a;const s=t===a?.5:t,i=2*s-1,o=n.a-r.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;a=1-l,n.r=255&l*n.r+a*r.r+.5,n.g=255&l*n.g+a*r.g+.5,n.b=255&l*n.b+a*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=el(Eo(e.r)),a=el(Eo(e.g)),s=el(Eo(e.b));return{r:Lo(Zo(r+n*(el(Eo(t.r))-r))),g:Lo(Zo(a+n*(el(Eo(t.g))-a))),b:Lo(Zo(s+n*(el(Eo(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new sl(this.rgb)}alpha(e){return this._rgb.a=Lo(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Co(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tl(this._rgb,2,e),this}darken(e){return tl(this._rgb,2,-e),this}saturate(e){return tl(this._rgb,1,e),this}desaturate(e){return tl(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Wo(e);n[0]=Yo(n[0]+t),n=Vo(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function il(){}const ol=(()=>{let e=0;return()=>e++})();function ll(e){return null===e||void 0===e}function cl(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function dl(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ul(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function hl(e,t){return ul(e)?e:t}function fl(e,t){return"undefined"===typeof e?t:e}const ml=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function pl(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function gl(e,t,n,r){let a,s,i;if(cl(e))if(s=e.length,r)for(a=s-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;a<s;a++)t.call(n,e[a],a);else if(dl(e))for(i=Object.keys(e),s=i.length,a=0;a<s;a++)t.call(n,e[i[a]],i[a])}function xl(e,t){let n,r,a,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],s=t[n],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function bl(e){if(cl(e))return e.map(bl);if(dl(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let a=0;for(;a<r;++a)t[n[a]]=bl(e[n[a]]);return t}return e}function vl(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yl(e,t,n,r){if(!vl(e))return;const a=t[e],s=n[e];dl(a)&&dl(s)?wl(a,s,r):t[e]=bl(s)}function wl(e,t,n){const r=cl(t)?t:[t],a=r.length;if(!dl(e))return e;const s=(n=n||{}).merger||yl;let i;for(let o=0;o<a;++o){if(i=r[o],!dl(i))continue;const t=Object.keys(i);for(let r=0,a=t.length;r<a;++r)s(t[r],e,i,n)}return e}function Nl(e,t){return wl(e,t,{merger:jl})}function jl(e,t,n){if(!vl(e))return;const r=t[e],a=n[e];dl(r)&&dl(a)?Nl(r,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=bl(a))}const _l={"":e=>e,x:e=>e.x,y:e=>e.y};function Sl(e,t){const n=_l[t]||(_l[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const a of t)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function kl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Cl=e=>"undefined"!==typeof e,Al=e=>"function"===typeof e,Pl=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ll=Math.PI,El=2*Ll,Ml=El+Ll,Dl=Number.POSITIVE_INFINITY,Ol=Ll/180,Tl=Ll/2,Rl=Ll/4,Il=2*Ll/3,Fl=Math.log10,zl=Math.sign;function Bl(e,t,n){return Math.abs(e-t)<n}function ql(e){const t=Math.round(e);e=Bl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Fl(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ul(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Wl(e,t,n){let r,a,s;for(r=0,a=e.length;r<a;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Hl(e){return e*(Ll/180)}function Vl(e){return e*(180/Ll)}function Yl(e){if(!ul(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Gl(e,t){const n=t.x-e.x,r=t.y-e.y,a=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ll&&(s+=El),{angle:s,distance:a}}function Xl(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $l(e,t){return(e-t+Ml)%El-Ll}function Kl(e){return(e%El+El)%El}function Jl(e,t,n,r){const a=Kl(e),s=Kl(t),i=Kl(n),o=Kl(s-a),l=Kl(i-a),c=Kl(a-s),d=Kl(a-i);return a===s||a===i||r&&s===i||o>l&&c<d}function Ql(e,t,n){return Math.max(t,Math.min(n,e))}function Zl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function ec(e,t,n){n=n||(n=>e[n]<t);let r,a=e.length-1,s=0;for(;a-s>1;)r=s+a>>1,n(r)?s=r:a=r;return{lo:s,hi:a}}const tc=(e,t,n,r)=>ec(e,n,r?r=>{const a=e[r][t];return a<n||a===n&&e[r+1][t]===n}:r=>e[r][t]<n),nc=(e,t,n)=>ec(e,n,(r=>e[r][t]>=n));const rc=["push","pop","shift","splice","unshift"];function ac(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,a=r.indexOf(t);-1!==a&&r.splice(a,1),r.length>0||(rc.forEach((t=>{delete e[t]})),delete e._chartjs)}function sc(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ic="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function oc(e,t){let n=[],r=!1;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];n=s,r||(r=!0,ic.call(window,(()=>{r=!1,e.apply(t,n)})))}}const lc=e=>"start"===e?"left":"end"===e?"right":"center",cc=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function dc(e,t,n){const r=t.length;let a=0,s=r;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:f,maxDefined:m}=i.getUserBounds();if(f){if(a=Math.min(tc(l,d,u).lo,n?r:tc(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,a+1).reverse().findIndex((e=>!ll(e[o.axis])));a-=Math.max(0,e)}a=Ql(a,0,r-1)}if(m){let e=Math.max(tc(l,i.axis,h,!0).hi+1,n?0:tc(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!ll(e[o.axis])));e+=Math.max(0,t)}s=Ql(e,a,r)-a}else s=r-a}return{start:a,count:s}}function uc(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=a,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,a),s}const hc=e=>0===e||1===e,fc=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*El/n),mc=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*El/n)+1,pc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Tl),easeOutSine:e=>Math.sin(e*Tl),easeInOutSine:e=>-.5*(Math.cos(Ll*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>hc(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>hc(e)?e:fc(e,.075,.3),easeOutElastic:e=>hc(e)?e:mc(e,.075,.3),easeInOutElastic(e){const t=.1125;return hc(e)?e:e<.5?.5*fc(2*e,t,.45):.5+.5*mc(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-pc.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*pc.easeInBounce(2*e):.5*pc.easeOutBounce(2*e-1)+.5};function gc(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function xc(e){return gc(e)?e:new sl(e)}function bc(e){return gc(e)?e:new sl(e).saturate(.5).darken(.1).hexString()}const vc=["x","y","borderWidth","radius","tension"],yc=["color","borderColor","backgroundColor"];const wc=new Map;function Nc(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=wc.get(n);return r||(r=new Intl.NumberFormat(e,t),wc.set(n,r)),r}(t,n).format(e)}const jc={values:e=>cl(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let a,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=Fl(Math.abs(s)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Nc(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Fl(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?jc.numeric.call(this,e,t,n):""}};var _c={formatters:jc};const Sc=Object.create(null),kc=Object.create(null);function Cc(e,t){if(!t)return e;const n=t.split(".");for(let r=0,a=n.length;r<a;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Ac(e,t,n){return"string"===typeof t?wl(Cc(e,t),n):wl(Cc(e,""),t)}class Pc{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>bc(t.backgroundColor),this.hoverBorderColor=(e,t)=>bc(t.borderColor),this.hoverColor=(e,t)=>bc(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ac(this,e,t)}get(e){return Cc(this,e)}describe(e,t){return Ac(kc,e,t)}override(e,t){return Ac(Sc,e,t)}route(e,t,n,r){const a=Cc(this,e),s=Cc(this,n),i="_"+t;Object.defineProperties(a,{[i]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=s[r];return dl(e)?Object.assign({},t,e):fl(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Lc=new Pc({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:yc},numbers:{type:"number",properties:vc}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_c.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Ec(e,t,n,r,a){let s=t[a];return s||(s=t[a]=e.measureText(a).width,n.push(a)),s>r&&(r=s),r}function Mc(e,t,n,r){let a=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(a=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let i=0;const o=n.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=n[l],void 0===u||null===u||cl(u)){if(cl(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||cl(h)||(i=Ec(e,a,s,i,h))}else i=Ec(e,a,s,i,u);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete a[s[l]];s.splice(0,f)}return i}function Dc(e,t,n){const r=e.currentDevicePixelRatio,a=0!==n?Math.max(n/2,.5):0;return Math.round((t-a)*r)/r+a}function Oc(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Tc(e,t,n,r){Rc(e,t,n,r,null)}function Rc(e,t,n,r,a){let s,i,o,l,c,d,u,h;const f=t.pointStyle,m=t.rotation,p=t.radius;let g=(m||0)*Ol;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:a?e.ellipse(n,r,a/2,p,0,0,El):e.arc(n,r,p,0,El),e.closePath();break;case"triangle":d=a?a/2:p,e.moveTo(n+Math.sin(g)*d,r-Math.cos(g)*p),g+=Il,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*p),g+=Il,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,i=Math.cos(g+Rl)*l,u=Math.cos(g+Rl)*(a?a/2-c:l),o=Math.sin(g+Rl)*l,h=Math.sin(g+Rl)*(a?a/2-c:l),e.arc(n-u,r-o,c,g-Ll,g-Tl),e.arc(n+h,r-i,c,g-Tl,g),e.arc(n+u,r+o,c,g,g+Tl),e.arc(n-h,r+i,c,g+Tl,g+Ll),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=a?a/2:l,e.rect(n-d,r-l,2*d,2*l);break}g+=Rl;case"rectRot":u=Math.cos(g)*(a?a/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(a?a/2:p),e.moveTo(n-u,r-o),e.lineTo(n+h,r-i),e.lineTo(n+u,r+o),e.lineTo(n-h,r+i),e.closePath();break;case"crossRot":g+=Rl;case"cross":u=Math.cos(g)*(a?a/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(a?a/2:p),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i);break;case"star":u=Math.cos(g)*(a?a/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(a?a/2:p),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i),g+=Rl,u=Math.cos(g)*(a?a/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(a?a/2:p),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i);break;case"line":i=a?a/2:Math.cos(g)*p,o=Math.sin(g)*p,e.moveTo(n-i,r-o),e.lineTo(n+i,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(a?a/2:p),r+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Ic(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Fc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function zc(e){e.restore()}function Bc(e,t,n,r,a){if(!t)return e.lineTo(n.x,n.y);if("middle"===a){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===a!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function qc(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Uc(e,t,n,r,a){if(a.strikethrough||a.underline){const s=e.measureText(r),i=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function Wc(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Hc(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=cl(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ll(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<i.length;++l)c=i[l],s.backdrop&&Wc(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ll(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Uc(e,n,r,c,s),r+=Number(a.lineHeight);e.restore()}function Vc(e,t){const{x:n,y:r,w:a,h:s,radius:i}=t;e.arc(n+i.topLeft,r+i.topLeft,i.topLeft,1.5*Ll,Ll,!0),e.lineTo(n,r+s-i.bottomLeft),e.arc(n+i.bottomLeft,r+s-i.bottomLeft,i.bottomLeft,Ll,Tl,!0),e.lineTo(n+a-i.bottomRight,r+s),e.arc(n+a-i.bottomRight,r+s-i.bottomRight,i.bottomRight,Tl,0,!0),e.lineTo(n+a,r+i.topRight),e.arc(n+a-i.topRight,r+i.topRight,i.topRight,0,-Tl,!0),e.lineTo(n+i.topLeft,r)}const Yc=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gc=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xc(e,t){const n=(""+e).match(Yc);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function $c(e,t){const n={},r=dl(t),a=r?Object.keys(t):t,s=dl(e)?r?n=>fl(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of a)n[i]=+s(i)||0;return n}function Kc(e){return $c(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Jc(e){return $c(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Qc(e){const t=Kc(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Zc(e,t){e=e||{},t=t||Lc.font;let n=fl(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=fl(e.style,t.style);r&&!(""+r).match(Gc)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const a={family:fl(e.family,t.family),lineHeight:Xc(fl(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:fl(e.weight,t.weight),string:""};return a.string=function(e){return!e||ll(e.size)||ll(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function ed(e,t,n,r){let a,s,i,o=!0;for(a=0,s=e.length;a<s;++a)if(i=e[a],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==n&&cl(i)&&(i=i[n%i.length],o=!1),void 0!==i))return r&&!o&&(r.cacheable=!1),i}function td(e,t){return Object.assign(Object.create(e),t)}function nd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=fd("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:r,override:r=>nd([r,...e],t,a,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>od(n,r,(()=>function(e,t,n,r){let a;for(const s of t)if(a=fd(sd(s,e),n),"undefined"!==typeof a)return id(e,a)?ud(n,r,e,a):a}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>md(e).includes(t),ownKeys:e=>md(e),set(e,t,n){const a=e._storage||(e._storage=r());return e[t]=a[t]=n,delete e._keys,!0}})}function rd(e,t,n,r){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ad(e,r),setContext:t=>rd(e,t,n,r),override:a=>rd(e.override(a),t,n,r)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>od(e,t,(()=>function(e,t,n){const{_proxy:r,_context:a,_subProxy:s,_descriptors:i}=e;let o=r[t];Al(o)&&i.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:a,_context:s,_subProxy:i,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,i||r);o.delete(e),id(e,l)&&(l=ud(a._scopes,a,e,l));return l}(t,o,e,n));cl(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:a,_context:s,_subProxy:i,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(dl(t[0])){const n=t,r=a._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=ud(r,a,e,l);t.push(rd(n,s,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));id(t,o)&&(o=rd(o,a,s&&s[t],i));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function ad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:r,isScriptable:Al(n)?n:()=>n,isIndexable:Al(r)?r:()=>r}}const sd=(e,t)=>e?e+kl(t):t,id=(e,t)=>dl(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function od(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function ld(e,t,n){return Al(e)?e(t,n):e}const cd=(e,t)=>!0===e?t:"string"===typeof e?Sl(t,e):void 0;function dd(e,t,n,r,a){for(const s of t){const t=cd(n,s);if(t){e.add(t);const s=ld(t._fallback,n,a);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function ud(e,t,n,r){const a=t._rootScopes,s=ld(t._fallback,n,r),i=[...e,...a],o=new Set;o.add(r);let l=hd(o,i,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=hd(o,i,s,l,r),null!==l))&&nd(Array.from(o),[""],a,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const a=r[t];if(cl(a)&&dl(n))return n;return a||{}}(t,n,r))))}function hd(e,t,n,r,a){for(;n;)n=dd(e,t,n,r,a);return n}function fd(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function md(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function pd(e,t,n,r){const{iScale:a}=e,{key:s="r"}=this._parsing,i=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],i[o]={r:a.parse(Sl(d,s),c)};return i}const gd=Number.EPSILON||1e-14,xd=(e,t)=>t<e.length&&!e[t].skip&&e[t],bd=e=>"x"===e?"y":"x";function vd(e,t,n,r){const a=e.skip?t:e,s=t,i=n.skip?t:n,o=Xl(s,a),l=Xl(i,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,h=r*d;return{previous:{x:s.x-u*(i.x-a.x),y:s.y-u*(i.y-a.y)},next:{x:s.x+h*(i.x-a.x),y:s.y+h*(i.y-a.y)}}}function yd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=bd(t),r=e.length,a=Array(r).fill(0),s=Array(r);let i,o,l,c=xd(e,0);for(i=0;i<r;++i)if(o=l,l=c,c=xd(e,i+1),l){if(c){const e=c[t]-l[t];a[i]=0!==e?(c[n]-l[n])/e:0}s[i]=o?c?zl(a[i-1])!==zl(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}!function(e,t,n){const r=e.length;let a,s,i,o,l,c=xd(e,0);for(let d=0;d<r-1;++d)l=c,c=xd(e,d+1),l&&c&&(Bl(t[d],0,gd)?n[d]=n[d+1]=0:(a=n[d]/t[d],s=n[d+1]/t[d],o=Math.pow(a,2)+Math.pow(s,2),o<=9||(i=3/Math.sqrt(o),n[d]=a*i*t[d],n[d+1]=s*i*t[d])))}(e,a,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=bd(n),a=e.length;let s,i,o,l=xd(e,0);for(let c=0;c<a;++c){if(i=o,o=l,l=xd(e,c+1),!o)continue;const a=o[n],d=o[r];i&&(s=(a-i[n])/3,o["cp1".concat(n)]=a-s,o["cp1".concat(r)]=d-s*t[c]),l&&(s=(l[n]-a)/3,o["cp2".concat(n)]=a+s,o["cp2".concat(r)]=d+s*t[c])}}(e,s,t)}function wd(e,t,n){return Math.max(Math.min(e,n),t)}function Nd(e,t,n,r,a){let s,i,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)yd(e,a);else{let n=r?e[e.length-1]:e[0];for(s=0,i=e.length;s<i;++s)o=e[s],l=vd(n,o,e[Math.min(s+1,i-(r?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,a,s,i,o=Ic(e[0],t);for(n=0,r=e.length;n<r;++n)i=s,s=o,o=n<r-1&&Ic(e[n+1],t),s&&(a=e[n],i&&(a.cp1x=wd(a.cp1x,t.left,t.right),a.cp1y=wd(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=wd(a.cp2x,t.left,t.right),a.cp2y=wd(a.cp2y,t.top,t.bottom)))}(e,n)}function jd(){return"undefined"!==typeof window&&"undefined"!==typeof document}function _d(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Sd(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const kd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Cd=["top","right","bottom","left"];function Ad(e,t,n){const r={};n=n?"-"+n:"";for(let a=0;a<4;a++){const s=Cd[a];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Pd(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,a=kd(n),s="border-box"===a.boxSizing,i=Ad(a,"padding"),o=Ad(a,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:a,offsetY:s}=r;let i,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(a,s,e.target))i=a,o=s;else{const e=t.getBoundingClientRect();i=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,n),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:f,height:m}=t;return s&&(f-=i.width+o.width,m-=i.height+o.height),{x:Math.round((l-u)/f*n.width/r),y:Math.round((c-h)/m*n.height/r)}}const Ld=e=>Math.round(10*e)/10;function Ed(e,t,n,r){const a=kd(e),s=Ad(a,"margin"),i=Sd(a.maxWidth,e,"clientWidth")||Dl,o=Sd(a.maxHeight,e,"clientHeight")||Dl,l=function(e,t,n){let r,a;if(void 0===t||void 0===n){const s=e&&_d(e);if(s){const e=s.getBoundingClientRect(),i=kd(s),o=Ad(i,"border","width"),l=Ad(i,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Sd(i.maxWidth,s,"clientWidth"),a=Sd(i.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Dl,maxHeight:a||Dl}}(e,t,n);let{width:c,height:d}=l;if("content-box"===a.boxSizing){const e=Ad(a,"border","width"),t=Ad(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Ld(Math.min(c,i,l.maxWidth)),d=Ld(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Ld(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&d>l.height&&(d=l.height,c=Ld(Math.floor(d*r))),{width:c,height:d}}function Md(e,t,n){const r=t||1,a=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||i.height!==a||i.width!==s)&&(e.currentDevicePixelRatio=r,i.height=a,i.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Dd=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};jd()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Zy){}return e}();function Od(e,t){const n=function(e,t){return kd(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Td(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Rd(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Id(e,t,n,r){const a={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},i=Td(e,a,n),o=Td(a,s,n),l=Td(s,t,n),c=Td(i,o,n),d=Td(o,l,n);return Td(c,d,n)}function Fd(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function zd(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Bd(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function qd(e){return"angle"===e?{between:Jl,compare:$l,normalize:Kl}:{between:Zl,compare:(e,t)=>e-t,normalize:e=>e}}function Ud(e){let{start:t,end:n,count:r,loop:a,style:s}=e;return{start:t%r,end:n%r,loop:a&&(n-t+1)%r===0,style:s}}function Wd(e,t,n){if(!n)return[e];const{property:r,start:a,end:s}=n,i=t.length,{compare:o,between:l,normalize:c}=qd(r),{start:d,end:u,loop:h,style:f}=function(e,t,n){const{property:r,start:a,end:s}=n,{between:i,normalize:o}=qd(r),l=t.length;let c,d,{start:u,end:h,loop:f}=e;if(f){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][r]),a,s);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:f,style:e.style}}(e,t,n),m=[];let p,g,x,b=!1,v=null;const y=()=>b||l(a,x,p)&&0!==o(a,x),w=()=>!b||0===o(s,p)||l(s,x,p);for(let N=d,j=d;N<=u;++N)g=t[N%i],g.skip||(p=c(g[r]),p!==x&&(b=l(p,a,s),null===v&&y()&&(v=0===o(p,a)?N:j),null!==v&&w()&&(m.push(Ud({start:v,end:N,loop:h,count:i,style:f})),v=null),j=N,x=p));return null!==v&&m.push(Ud({start:v,end:u,loop:h,count:i,style:f})),m}function Hd(e,t){const n=[],r=e.segments;for(let a=0;a<r.length;a++){const s=Wd(r[a],e.points,t);s.length&&n.push(...s)}return n}function Vd(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const a=e._chart.getContext(),s=Yd(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=n.length,c=[];let d=s,u=t[0].start,h=u;function f(e,t,r,a){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:a}),d=a,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=n[u%l];for(h=u+1;h<=m.end;h++){const s=n[h%l];e=Yd(r.setContext(td(a,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),Gd(e,d)&&f(u,h-1,m.loop,d),t=s,d=e}u<h-1&&f(u,h-1,m.loop,d)}return c}(e,t,n,r):t}function Yd(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Gd(e,t){if(!t)return!1;const n=[],r=function(e,t){return gc(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Xd(e,t,n){return e.options.clip?e[n]:t[n]}function $d(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Xd(n,t,"left"),right:Xd(n,t,"right"),top:Xd(r,t,"top"),bottom:Xd(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class Kd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const a=t.listeners[r],s=t.duration;a.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=ic.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const a=n.items;let s,i=a.length-1,o=!1;for(;i>=0;--i)s=a[i],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(a[i]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),a.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=a.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Jd=new Kd;const Qd="transparent",Zd={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=xc(e||Qd),a=r.valid&&xc(t||Qd);return a&&a.valid?a.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class eu{constructor(e,t,n,r){const a=t[n];r=ed([e.to,r,a,e.from]);const s=ed([e.from,a,r]);this._active=!0,this._fn=e.fn||Zd[e.type||typeof s],this._easing=pc[e.easing]||pc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=ed([e.to,t,r,e.from]),this._from=ed([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,i=this._to;let o;if(this._active=a!==i&&(s||t<n),!this._active)return this._target[r]=i,void this._notify(!0);t<0?this._target[r]=a:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(a,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class tu{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!dl(e))return;const t=Object.keys(Lc.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const a=e[r];if(!dl(a))return;const s={};for(const e of t)s[e]=a[e];(cl(a.properties)&&a.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const a=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let a=0;a<r.length;a++){const t=e[r[a]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),a}_createAnimations(e,t){const n=this._properties,r=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),i=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=a[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(a[l]=d=new eu(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Jd.add(this._chart,n),!0):void 0}}function nu(e,t){const n=e&&e.options||{},r=n.reverse,a=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:a,end:r?a:s}}function ru(e,t){const n=[],r=e._getSortedDatasetMetas(t);let a,s;for(a=0,s=r.length;a<s;++a)n.push(r[a].index);return n}function au(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,s="single"===r.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=a.length;i<o;++i){if(l=+a[i],l===n){if(d=!0,r.all)continue;break}c=e.values[l],ul(c)&&(s||0===t||zl(t)===zl(c))&&(t+=c)}return d||r.all?t:0}function su(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function iu(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function ou(e,t,n,r){for(const a of t.getMatchingVisibleMetas(r).reverse()){const t=e[a.index];if(n&&t>0||!n&&t<0)return a.index}return null}function lu(e,t){const{chart:n,_cachedMeta:r}=e,a=n._stacks||(n._stacks={}),{iScale:s,vScale:i,index:o}=r,l=s.axis,c=i.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,i,r),u=t.length;let h;for(let f=0;f<u;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=iu(a,d,n),h[o]=s,h._top=ou(h,i,!0,r.type),h._bottom=ou(h,i,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=s}}function cu(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function du(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const uu=e=>"reset"===e||"none"===e,hu=(e,t)=>t?e:Object.assign({},e);class fu{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=su(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&du(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,a=t.xAxisID=fl(n.xAxisID,cu(e,"x")),s=t.yAxisID=fl(n.yAxisID,cu(e,"y")),i=t.rAxisID=fl(n.rAxisID,cu(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,a,s,i),c=t.vAxisID=r(o,s,a,i);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ac(this._data,this),e._stacked&&du(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(dl(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,a="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[a]:d,[s]:e[d]};return o}(t,e)}else if(n!==t){if(n){ac(n,this);const e=this._cachedMeta;du(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),rc.forEach((t=>{const n="_onData"+kl(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];const i=r.apply(this,a);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...a)})),i}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=su(t.vScale,t),t.stack!==n.stack&&(r=!0,du(t),t.stack=n.stack),this._resyncElements(e),(r||a!==t._stacked)&&(lu(this,t._parsed),t._stacked=su(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:a,_stacked:s}=n,i=a.axis;let o,l,c,d=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=cl(r[e])?this.parseArrayData(n,r,e,t):dl(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const a=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(a()&&(d=!1),u=l);n._sorted=d}s&&lu(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:a,vScale:s}=e,i=a.axis,o=s.axis,l=a.getLabels(),c=a===s,d=new Array(r);let u,h,f;for(u=0,h=r;u<h;++u)f=u+n,d[u]={[i]:c||a.parse(l[f],f),[o]:s.parse(t[f],f)};return d}parseArrayData(e,t,n,r){const{xScale:a,yScale:s}=e,i=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],i[o]={x:a.parse(d[0],c),y:s.parse(d[1],c)};return i}parseObjectData(e,t,n,r){const{xScale:a,yScale:s}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=t[u],l[c]={x:a.parse(Sl(h,i),u),y:s.parse(Sl(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,a=this._cachedMeta,s=t[e.axis];return au({keys:ru(r,!0),values:t._stacks[e.axis]._visualValues},s,a.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const a=n[t.axis];let s=null===a?NaN:a;const i=r&&n._stacks[t.axis];r&&i&&(r.values=i,s=au(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,a=n._sorted&&e===n.iScale,s=r.length,i=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ru(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:a}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}(i);let u,h;function f(){h=r[u];const t=h[i.axis];return!ul(h[e.axis])||c>t||d<t}for(u=0;u<s&&(f()||(this.updateRangeFromParsed(l,e,h,o),!a));++u);if(a)for(u=s-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,a,s;for(r=0,a=t.length;r<a;++r)s=t[r][e.axis],ul(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,a;return dl(e)?(t=e.top,n=e.right,r=e.bottom,a=e.left):t=n=r=a=e,{top:t,right:n,bottom:r,left:a,disabled:!1===e}}(fl(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=nu(e,n),a=nu(t,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],a=t.chartArea,s=[],i=this._drawStart||0,o=this._drawCount||r.length-i,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,a,i,o),c=i;c<i+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,a))}for(c=0;c<s.length;++c)s[c].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,n){return td(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return td(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,a=this._cachedDataOpts,s=e+"-"+t,i=a[s],o=this.enableOptionSharing&&Cl(n);if(i)return hu(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Lc.elements[e]),f=l.resolveNamedOptions(u,h,(()=>this.getContext(n,r,t)),d);return f.$shared&&(f.$shared=o,a[s]=Object.freeze(hu(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,a=this._cachedDataOpts,s="animation-".concat(t),i=a[s];if(i)return i;let o;if(!1!==r.options.animation){const r=this.chart.config,a=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),a);o=r.createResolver(s,this.getContext(e,n,t))}const l=new tu(r,o&&o.animations);return o&&o._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||uu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:s}}updateElement(e,t,n,r){uu(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!uu(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const r=n.length,a=t.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,a=r.data,s=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=s;i--)e[i]=e[i-t]};for(o(a),i=e;i<s;++i)a[i]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&du(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function mu(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,a=n.length;t<a;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=sc(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,a,s,i,o=t._length;const l=()=>{32767!==s&&-32768!==s&&(Cl(i)&&(o=Math.min(o,Math.abs(s-i)||o)),i=s)};for(r=0,a=n.length;r<a;++r)s=t.getPixelForValue(n[r]),l();for(i=void 0,r=0,a=t.ticks.length;r<a;++r)s=t.getPixelForTick(r),l();return o}function pu(e,t,n,r){return cl(e)?function(e,t,n,r){const a=n.parse(e[0],r),s=n.parse(e[1],r),i=Math.min(a,s),o=Math.max(a,s);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:a,end:s,min:i,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function gu(e,t,n,r){const a=e.iScale,s=e.vScale,i=a.getLabels(),o=a===s,l=[];let c,d,u,h;for(c=n,d=n+r;c<d;++c)h=t[c],u={},u[a.axis]=o||a.parse(i[c],c),l.push(pu(h,u,s,c));return l}function xu(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function bu(e,t,n,r){let a=t.borderSkipped;const s={};if(!a)return void(e.borderSkipped=s);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,r,a,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(a="end",s="start"):(a="start",s="end"),{start:n,end:r,reverse:t,top:a,bottom:s}}(e);"middle"===a&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?a=c:(n._bottom||0)===r?a=d:(s[vu(d,i,o,l)]=!0,a=c)),s[vu(a,i,o,l)]=!0,e.borderSkipped=s}function vu(e,t,n,r){var a,s,i;return r?(i=n,e=yu(e=(a=e)===(s=t)?i:a===i?s:a,n,t)):e=yu(e,t,n),e}function yu(e,t,n){return"start"===e?t:"end"===e?n:e}function wu(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,ko.A)(fu,"defaults",{}),(0,ko.A)(fu,"datasetElementType",null),(0,ko.A)(fu,"dataElementType",null);class Nu extends fu{parsePrimitiveData(e,t,n,r){return gu(e,t,n,r)}parseArrayData(e,t,n,r){return gu(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:a,vScale:s}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===a.axis?i:o,c="x"===s.axis?i:o,d=[];let u,h,f,m;for(u=n,h=n+r;u<h;++u)m=t[u],f={},f[a.axis]=a.parse(Sl(m,l),u),d.push(pu(Sl(m,c),f,s,u));return d}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const a=n._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,a=this.getParsed(e),s=a._custom,i=xu(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const a="reset"===r,{index:s,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=a||ll(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[i.axis],p={horizontal:l,base:n.base,enableBorderRadius:!m||xu(t._custom)||s===m._top||s===m._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};u&&(p.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=p.options||e[h].options;bu(p,g,m,s),wu(p,g,c.ratio),this.updateElement(e[h],h,p,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),a=n.options.stacked,s=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),r=t&&t[e.vScale.axis];if(ll(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===a||-1===s.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),a=void 0!==t?r.indexOf(t):-1;return-1===a?r.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let a,s;for(a=0,s=t.data.length;a<s;++a)r.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const i=e.barThickness;return{min:i||mu(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:a,minBarLength:s}}=this,i=a||0,o=this.getParsed(e),l=o._custom,c=xu(l);let d,u,h=o[t.axis],f=0,m=n?this.applyStack(t,o,n):h;m!==h&&(f=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&zl(h)!==zl(l.barEnd)&&(f=0),f+=h);const p=ll(a)||c?f:a;let g=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+m):g,u=d-g,Math.abs(u)<s){u=function(e,t,n){return 0!==e?zl(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,i)*s,h===i&&(g-=u/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),l=Math.min(e,a),f=Math.max(e,a);g=Math.max(Math.min(g,f),l),d=g+u,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(i)){const e=zl(u)*t.getLineWidthForValue(i)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,a=r.skipNull,s=fl(r.maxBarThickness,1/0);let i,o;if(t.grouped){const n=a?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const a=t.pixels,s=a[e];let i=e>0?a[e-1]:null,o=e<a.length-1?a[e+1]:null;const l=n.categoryPercentage;null===i&&(i=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-i);const c=s-(s-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const a=n.barThickness;let s,i;return ll(a)?(s=t.min*n.categoryPercentage,i=n.barPercentage):(s=a*r,i=1),{chunk:s/r,ratio:i,start:t.pixels[e]-s/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);i=l.start+l.chunk*c+l.chunk/2,o=Math.min(s,l.chunk*l.ratio)}else i=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(s,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let a=0;for(;a<r;++a)null===this.getParsed(a)[t.axis]||n[a].hidden||n[a].draw(this._ctx)}}(0,ko.A)(Nu,"id","bar"),(0,ko.A)(Nu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,ko.A)(Nu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ju extends fu{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const a=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+n).radius;return a}parseArrayData(e,t,n,r){const a=super.parseArrayData(e,t,n,r);for(let s=0;s<a.length;s++){const e=t[n+s];a[s]._custom=fl(e[2],this.resolveDataElementOptions(s+n).radius)}return a}parseObjectData(e,t,n,r){const a=super.parseObjectData(e,t,n,r);for(let s=0;s<a.length;s++){const e=t[n+s];a[s]._custom=fl(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:a}=t,s=this.getParsed(e),i=r.getLabelForValue(s.x),o=a.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const a="reset"===r,{iScale:s,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=s.axis,d=i.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!a&&this.getParsed(u),h={},f=h[c]=a?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),m=h[d]=a?i.getBasePixel():i.getPixelForValue(n[d]);h.skip=isNaN(f)||isNaN(m),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":r),a&&(h.options.radius=0)),this.updateElement(t,u,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const a=r.radius;return"active"!==t&&(r.radius=0),r.radius+=fl(n&&n._custom,a),r}}(0,ko.A)(ju,"id","bubble"),(0,ko.A)(ju,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,ko.A)(ju,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class _u extends fu{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let a,s,i=e=>+n[e];if(dl(n[e])){const{key:e="value"}=this._parsing;i=t=>+Sl(n[t],e)}for(a=e,s=e+t;a<s;++a)r._parsed[a]=i(a)}}_getRotation(){return Hl(this.options.rotation-90)}_getCircumference(){return Hl(this.options.circumference)}_getRotationExtents(){let e=El,t=-El;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),s=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,i=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,i),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:f,offsetY:m}=function(e,t,n){let r=1,a=1,s=0,i=0;if(t<El){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),f=(e,t,r)=>Jl(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),m=(e,t,r)=>Jl(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),p=f(0,c,u),g=f(Tl,d,h),x=m(Ll,c,u),b=m(Ll+Tl,d,h);r=(p-x)/2,a=(g-b)/2,s=-(p+x)/2,i=-(g+b)/2}return{ratioX:r,ratioY:a,offsetX:s,offsetY:i}}(d,c,o),p=(n.width-s)/u,g=(n.height-s)/h,x=Math.max(Math.min(p,g)/2,0),b=ml(this.options.radius,x),v=(b-Math.max(b*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=m*b,r.total=this.calculateTotal(),this.outerRadius=b-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/El)}updateElements(e,t,n,r){const a="reset"===r,s=this.chart,i=s.chartArea,o=s.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=a&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,r);let p,g=this._getRotation();for(p=0;p<t;++p)g+=this._circumference(p,a);for(p=t;p<t+n;++p){const t=this._circumference(p,a),n=e[p],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};m&&(s.options=f||this.resolveDataElementOptions(p,n.active?"active":r)),g+=t,this.updateElement(n,p,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const a=e._parsed[n];null===a||isNaN(a)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?El*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=Nc(t._parsed[e],n.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,a,s,i,o;if(!e)for(r=0,a=n.data.datasets.length;r<a;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,i=s.controller;break}if(!e)return 0;for(r=0,a=e.length;r<a;++r)o=i.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(fl(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,ko.A)(_u,"id","doughnut"),(0,ko.A)(_u,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,ko.A)(_u,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,ko.A)(_u,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,a)=>{const s=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Su extends fu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:a}=t,s=this.chart._animationsDisabled;let{start:i,count:o}=dc(t,r,s);this._drawStart=i,this._drawCount=o,uc(t)&&(i=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,i,o,e)}updateElements(e,t,n,r){const a="reset"===r,{iScale:s,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=s.axis,h=i.axis,{spanGaps:f,segment:m}=this.options,p=Ul(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||a||"none"===r,x=t+n,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const n=e[y],f=g?n:{};if(y<t||y>=x){f.skip=!0;continue}const b=this.getParsed(y),w=ll(b[h]),N=f[u]=s.getPixelForValue(b[u],y),j=f[h]=a||w?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,b,o):b[h],y);f.skip=isNaN(N)||isNaN(j)||w,f.stop=y>0&&Math.abs(b[u]-v[u])>p,m&&(f.parsed=b,f.raw=l.data[y]),d&&(f.options=c||this.resolveDataElementOptions(y,n.active?"active":r)),g||this.updateElement(n,y,f,r),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,ko.A)(Su,"id","line"),(0,ko.A)(Su,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,ko.A)(Su,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ku extends fu{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=Nc(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:a}}parseObjectData(e,t,n,r){return pd.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(r/2,0),s=(a-Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const a="reset"===r,s=this.chart,i=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*Ll;let u,h=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,r,f);for(u=t;u<t+n;u++){const t=e[u];let n=h,m=h+this._computeAngle(u,r,f),p=s.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=m,a&&(i.animateScale&&(p=0),i.animateRotate&&(n=m=d));const g={x:l,y:c,innerRadius:0,outerRadius:p,startAngle:n,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":r)};this.updateElement(t,u,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Hl(this.resolveDataElementOptions(e,t).angle||n):0}}(0,ko.A)(ku,"id","polarArea"),(0,ko.A)(ku,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,ko.A)(ku,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,a)=>{const s=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Cu extends _u{}(0,ko.A)(Cu,"id","pie"),(0,ko.A)(Cu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Au extends fu{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return pd.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],a=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:a.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const a=this._cachedMeta.rScale,s="reset"===r;for(let i=t;i<t+n;i++){const t=e[i],n=this.resolveDataElementOptions(i,t.active?"active":r),o=a.getPointPositionForValue(i,this.getParsed(i).r),l=s?a.xCenter:o.x,c=s?a.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,i,d,r)}}}(0,ko.A)(Au,"id","radar"),(0,ko.A)(Au,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,ko.A)(Au,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Pu extends fu{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:a}=t,s=this.getParsed(e),i=r.getLabelForValue(s.x),o=a.getLabelForValue(s.y);return{label:n[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:a,count:s}=dc(t,n,r);if(this._drawStart=a,this._drawCount=s,uc(t)&&(a=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:s}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!s._decimated,a.points=n;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,a,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const a="reset"===r,{iScale:s,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),d=this.getSharedOptions(c),u=this.includeOptions(r,d),h=s.axis,f=i.axis,{spanGaps:m,segment:p}=this.options,g=Ul(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||"none"===r;let b=t>0&&this.getParsed(t-1);for(let v=t;v<t+n;++v){const t=e[v],n=this.getParsed(v),c=x?t:{},m=ll(n[f]),y=c[h]=s.getPixelForValue(n[h],v),w=c[f]=a||m?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,n,o):n[f],v);c.skip=isNaN(y)||isNaN(w)||m,c.stop=v>0&&Math.abs(n[h]-b[h])>g,p&&(c.parsed=n,c.raw=l.data[v]),u&&(c.options=d||this.resolveDataElementOptions(v,t.active?"active":r)),x||this.updateElement(t,v,c,r),b=n}this.updateSharedOptions(d,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const a=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,a,s)/2}}(0,ko.A)(Pu,"id","scatter"),(0,ko.A)(Pu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,ko.A)(Pu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Lu=Object.freeze({__proto__:null,BarController:Nu,BubbleController:ju,DoughnutController:_u,LineController:Su,PieController:Cu,PolarAreaController:ku,RadarController:Au,ScatterController:Pu});function Eu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mu{static override(e){Object.assign(Mu.prototype,e)}constructor(e){(0,ko.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return Eu()}parse(){return Eu()}format(){return Eu()}add(){return Eu()}diff(){return Eu()}startOf(){return Eu()}endOf(){return Eu()}}var Du=Mu;function Ou(e,t,n,r){const{controller:a,data:s,_sorted:i}=e,o=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&s.length){const i=o._reversePixels?nc:tc;if(!r){const r=i(s,t,n);if(l){const{vScale:t}=a._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex((e=>!ll(e[t.axis])));r.lo-=Math.max(0,s);const i=n.slice(r.hi).findIndex((e=>!ll(e[t.axis])));r.hi+=Math.max(0,i)}return r}if(a._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=i(s,t,n-r),a=i(s,t,n+r);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function Tu(e,t,n,r,a){const s=e.getSortedVisibleDatasetMetas(),i=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=Ou(s[o],t,i,a);for(let t=l;t<=c;++t){const a=n[t];a.skip||r(a,e,t)}}}function Ru(e,t,n,r,a){const s=[];if(!a&&!e.isPointInArea(t))return s;return Tu(e,n,t,(function(n,i,o){(a||Ic(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:i,index:o})}),!0),s}function Iu(e,t,n,r,a,s){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const a=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Tu(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,a);if(r&&!u)return;const h=n.getCenterPoint(a);if(!(!!s||e.isPointInArea(h))&&!u)return;const f=o(t,h);f<l?(i=[{element:n,datasetIndex:c,index:d}],l=f):f===l&&i.push({element:n,datasetIndex:c,index:d})})),i}function Fu(e,t,n,r,a,s){return s||e.isPointInArea(t)?"r"!==n||r?Iu(e,t,n,r,a,s):function(e,t,n,r){let a=[];return Tu(e,n,t,(function(e,n,s){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Gl(e,{x:t.x,y:t.y});Jl(l,i,o)&&a.push({element:e,datasetIndex:n,index:s})})),a}(e,t,n,a):[]}function zu(e,t,n,r,a){const s=[],i="x"===n?"inXRange":"inYRange";let o=!1;return Tu(e,n,t,((e,r,l)=>{e[i]&&e[i](t[n],a)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,a))})),r&&!o?[]:s}var Bu={evaluateInteractionItems:Tu,modes:{index(e,t,n,r){const a=Pd(t,e),s=n.axis||"x",i=n.includeInvisible||!1,o=n.intersect?Ru(e,a,s,r,i):Fu(e,a,s,!1,r,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const a=Pd(t,e),s=n.axis||"xy",i=n.includeInvisible||!1;let o=n.intersect?Ru(e,a,s,r,i):Fu(e,a,s,!1,r,i);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>Ru(e,Pd(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const a=Pd(t,e),s=n.axis||"xy",i=n.includeInvisible||!1;return Fu(e,a,s,n.intersect,r,i)},x:(e,t,n,r)=>zu(e,Pd(t,e),"x",n.intersect,r),y:(e,t,n,r)=>zu(e,Pd(t,e),"y",n.intersect,r)}};const qu=["left","top","right","bottom"];function Uu(e,t){return e.filter((e=>e.pos===t))}function Wu(e,t){return e.filter((e=>-1===qu.indexOf(e.pos)&&e.box.axis===t))}function Hu(e,t){return e.sort(((e,n)=>{const r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight}))}function Vu(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:a}=n;if(!e||!qu.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:a}=t;let s,i,o;for(s=0,i=e.length;s<i;++s){o=e[s];const{fullSize:i}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:i&&t.availableWidth,o.height=a):(o.width=r,o.height=c?c*a:i&&t.availableHeight)}return n}function Yu(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Gu(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Xu(e,t,n,r){const{pos:a,box:s}=n,i=e.maxPadding;if(!dl(a)){n.size&&(e[a]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[a]+=n.size}s.getPadding&&Gu(i,s.getPadding());const o=Math.max(0,t.outerWidth-Yu(i,e,"left","right")),l=Math.max(0,t.outerHeight-Yu(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function $u(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Ku(e,t,n,r){const a=[];let s,i,o,l,c,d;for(s=0,i=e.length,c=0;s<i;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,$u(o.horizontal,t));const{same:i,other:u}=Xu(t,n,o,r);c|=i&&a.length,d=d||u,l.fullSize||a.push(o)}return c&&Ku(a,t,n,r)||d}function Ju(e,t,n,r,a){e.top=n,e.left=t,e.right=t+r,e.bottom=n+a,e.width=r,e.height=a}function Qu(e,t,n,r){const a=n.padding;let{x:s,y:i}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;Cl(l.start)&&(i=l.start),e.fullSize?Ju(e,a.left,i,n.outerWidth-a.right-a.left,s):Ju(e,t.left+l.placed,i,r,s),l.start=i,l.placed+=r,i=e.bottom}else{const r=t.h*c,i=l.size||e.width;Cl(l.start)&&(s=l.start),e.fullSize?Ju(e,s,a.top,i,n.outerHeight-a.bottom-a.top):Ju(e,s,t.top+l.placed,i,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=i}var Zu={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const a=Qc(e.options.layout.padding),s=Math.max(t-a.width,0),i=Math.max(n-a.height,0),o=function(e){const t=function(e){const t=[];let n,r,a,s,i,o;for(n=0,r=(e||[]).length;n<r;++n)a=e[n],({position:s,options:{stack:i,stackWeight:o=1}}=a),t.push({index:n,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:o});return t}(e),n=Hu(t.filter((e=>e.box.fullSize)),!0),r=Hu(Uu(t,"left"),!0),a=Hu(Uu(t,"right")),s=Hu(Uu(t,"top"),!0),i=Hu(Uu(t,"bottom")),o=Wu(t,"x"),l=Wu(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:a.concat(l).concat(i).concat(o),chartArea:Uu(t,"chartArea"),vertical:r.concat(a).concat(l),horizontal:s.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;gl(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},a);Gu(h,Qc(r));const f=Object.assign({maxPadding:h,w:s,h:i,x:a.left,y:a.top},a),m=Vu(l.concat(c),u);Ku(o.fullSize,f,u,m),Ku(l,f,u,m),Ku(c,f,u,m)&&Ku(l,f,u,m),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),Qu(o.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,Qu(o.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},gl(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class eh{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class th extends eh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const nh="$chartjs",rh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ah=e=>null===e||""===e;const sh=!!Dd&&{passive:!0};function ih(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,sh)}function oh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function lh(e,t,n){const r=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||oh(n.addedNodes,r),t=t&&!oh(n.removedNodes,r);t&&n()}));return a.observe(document,{childList:!0,subtree:!0}),a}function ch(e,t,n){const r=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||oh(n.removedNodes,r),t=t&&!oh(n.addedNodes,r);t&&n()}));return a.observe(document,{childList:!0,subtree:!0}),a}const dh=new Map;let uh=0;function hh(){const e=window.devicePixelRatio;e!==uh&&(uh=e,dh.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function fh(e,t,n){const r=e.canvas,a=r&&_d(r);if(!a)return;const s=oc(((e,t)=>{const r=a.clientWidth;n(e,t),r<a.clientWidth&&n()}),window),i=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return i.observe(a),function(e,t){dh.size||window.addEventListener("resize",hh),dh.set(e,t)}(e,s),i}function mh(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){dh.delete(e),dh.size||window.removeEventListener("resize",hh)}(e)}function ph(e,t,n){const r=e.canvas,a=oc((t=>{null!==e.ctx&&n(function(e,t){const n=rh[e.type]||e.type,{x:r,y:a}=Pd(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,sh)}(r,t,a),a}class gh extends eh{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[nh]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ah(a)){const t=Od(e,"width");void 0!==t&&(e.width=t)}if(ah(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Od(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[nh])return!1;const n=t[nh].initial;["height","width"].forEach((e=>{const r=n[e];ll(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[nh],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),a={attach:lh,detach:ch,resize:fh}[t]||ph;r[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:mh,detach:mh,resize:mh}[t]||ih)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return Ed(e,t,n,r)}isAttached(e){const t=e&&_d(e);return!(!t||!t.isConnected)}}class xh{constructor(){(0,ko.A)(this,"x",void 0),(0,ko.A)(this,"y",void 0),(0,ko.A)(this,"active",!1),(0,ko.A)(this,"options",void 0),(0,ko.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ul(this.x)&&Ul(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function bh(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(r,a))}(e),a=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],i=s.length,o=s[0],l=s[i-1],c=[];if(i>a)return function(e,t,n,r){let a,s=0,i=n[0];for(r=Math.ceil(r),a=0;a<e.length;a++)a===i&&(t.push(e[a]),s++,i=n[s*r])}(t,c,s,i/a),c;const d=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),a=t.length/n;if(!r)return Math.max(a,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let i=0,o=s.length-1;i<o;i++){const e=s[i];if(e>a)return e}return Math.max(a,1)}(s,t,a);if(i>0){let e,n;const r=i>1?Math.round((l-o)/(i-1)):null;for(vh(t,c,d,ll(r)?0:o-r,o),e=0,n=i-1;e<n;e++)vh(t,c,d,s[e],s[e+1]);return vh(t,c,d,l,ll(r)?t.length:l+r),c}return vh(t,c,d),c}function vh(e,t,n,r,a){const s=fl(r,0),i=Math.min(fl(a,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),a&&(o=a-r,n=o/Math.floor(o/n)),c=s;c<0;)d++,c=Math.round(s+d*n);for(l=Math.max(s,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(s+d*n))}(0,ko.A)(xh,"defaults",{}),(0,ko.A)(xh,"defaultRoutes",void 0);const yh=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,wh=(e,t)=>Math.min(t||e,e);function Nh(e,t){const n=[],r=e.length/t,a=e.length;let s=0;for(;s<a;s+=r)n.push(e[Math.floor(s)]);return n}function jh(e,t,n){const r=e.ticks.length,a=Math.min(t,r-1),s=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(a);if(!(n&&(l=1===r?Math.max(c-s,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<s-o||c>i+o)))return c}function _h(e){return e.drawTicks?e.tickLength:0}function Sh(e,t){if(!e.display)return 0;const n=Zc(e.font,t),r=Qc(e.padding);return(cl(e.text)?e.text.length:1)*n.lineHeight+r.height}function kh(e,t,n){let r=lc(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class Ch extends xh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=hl(e,Number.POSITIVE_INFINITY),t=hl(t,Number.NEGATIVE_INFINITY),n=hl(n,Number.POSITIVE_INFINITY),r=hl(r,Number.NEGATIVE_INFINITY),{min:hl(e,n),max:hl(t,r),minDefined:ul(e),maxDefined:ul(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:n,max:r};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),a||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=a&&n>r?n:r,{min:hl(n,hl(r,n)),max:hl(r,hl(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pl(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:a,ticks:s}=this.options,i=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:a}=e,s=ml(t,(a-r)/2),i=(e,t)=>n&&0===e?0:e+t;return{min:i(r,-Math.abs(s)),max:i(a,s)}}(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?Nh(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=bh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pl(this.options.afterUpdate,[this])}beforeSetDimensions(){pl(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pl(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pl(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pl(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n],a.label=pl(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){pl(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pl(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=wh(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation;let s,i,o,l=r;if(!this._isVisible()||!t.display||r>=a||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Ql(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),d+6>s&&(s=h/(n-(e.offset?.5:1)),i=this.maxHeight-_h(e.grid)-t.padding-Sh(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Vl(Math.min(Math.asin(Ql((c.highest.height+6)/s,-1,1)),Math.asin(Ql(i/o,-1,1))-Math.asin(Ql(u/o,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){pl(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pl(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:a}}=this,s=this._isVisible(),i=this.isHorizontal();if(s){const s=Sh(r,t.options.font);if(i?(e.width=this.maxWidth,e.height=_h(a)+s):(e.height=this.maxHeight,e.width=_h(a)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:a,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Hl(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=n.mirror?0:d*a.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*a.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:a,padding:s},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=r*e.width,u=n*t.height):(d=n*e.height,u=r*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+s)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===a?(n=0,r=e.height):"end"===a&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pl(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)ll(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Nh(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:a}=this,s=[],i=[],o=Math.floor(t/wh(t,n));let l,c,d,u,h,f,m,p,g,x,b,v=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,m=a[f]=a[f]||{data:{},gc:[]},p=h.lineHeight,g=x=0,ll(u)||cl(u)){if(cl(u))for(c=0,d=u.length;c<d;++c)b=u[c],ll(b)||cl(b)||(g=Ec(r,m.data,m.gc,g,b),x+=p)}else g=Ec(r,m.data,m.gc,g,u),x=p;s.push(g),i.push(x),v=Math.max(g,v),y=Math.max(x,y)}!function(e,t){gl(e,(e=>{const n=e.gc,r=n.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[n[a]];n.splice(0,r)}}))}(a,t);const w=s.indexOf(v),N=i.indexOf(y),j=e=>({width:s[e]||0,height:i[e]||0});return{first:j(0),last:j(t-1),widest:j(w),highest:j(N),widths:s,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return Ql(e,-32768,32767)}(this._alignToPixels?Dc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return td(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=td(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Hl(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,i=a?a.widest.width+s:0,o=a?a.highest.height+s:0;return this.isHorizontal()?o*n>i*r?i/n:o/r:o*r<i*n?o/n:i/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:a,position:s,border:i}=r,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=_h(a),u=[],h=i.setContext(this.getContext()),f=h.display?h.width:0,m=f/2,p=function(e){return Dc(n,e,f)};let g,x,b,v,y,w,N,j,_,S,k,C;if("top"===s)g=p(this.bottom),w=this.bottom-d,j=g-m,S=p(e.top)+m,C=e.bottom;else if("bottom"===s)g=p(this.top),S=e.top,C=p(e.bottom)-m,w=g+m,j=this.top+d;else if("left"===s)g=p(this.right),y=this.right-d,N=g-m,_=p(e.left)+m,k=e.right;else if("right"===s)g=p(this.left),_=e.left,k=p(e.right)-m,y=g+m,N=this.left+d;else if("x"===t){if("center"===s)g=p((e.top+e.bottom)/2+.5);else if(dl(s)){const e=Object.keys(s)[0],t=s[e];g=p(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=g+m,j=w+d}else if("y"===t){if("center"===s)g=p((e.left+e.right)/2);else if(dl(s)){const e=Object.keys(s)[0],t=s[e];g=p(this.chart.scales[e].getPixelForValue(t))}y=g-m,N=y-d,_=e.left,k=e.right}const A=fl(r.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/A));for(x=0;x<c;x+=P){const e=this.getContext(x),t=a.setContext(e),r=i.setContext(e),s=t.lineWidth,c=t.color,d=r.dash||[],h=r.dashOffset,f=t.tickWidth,m=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=jh(this,x,o),void 0!==b&&(v=Dc(n,b,s),l?y=N=_=k=v:w=j=S=C=v,u.push({tx1:y,ty1:w,tx2:N,ty2:j,x1:_,y1:S,x2:k,y2:C,width:s,color:c,borderDash:d,borderDashOffset:h,tickWidth:f,tickColor:m,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:a}=n,s=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=a,u=_h(n.grid),h=u+c,f=d?-c:h,m=-Hl(this.labelRotation),p=[];let g,x,b,v,y,w,N,j,_,S,k,C,A="middle";if("top"===r)w=this.bottom-f,N=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,N=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);N=e.textAlign,y=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);N=e.textAlign,y=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(dl(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}N=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)y=(e.left+e.right)/2-h;else if(dl(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)}N=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?A="top":"end"===o&&(A="bottom"));const P=this._getLabelSizes();for(g=0,x=i.length;g<x;++g){b=i[g],v=b.label;const e=a.setContext(this.getContext(g));j=this.getPixelForTick(g)+a.labelOffset,_=this._resolveTickFontOptions(g),S=_.lineHeight,k=cl(v)?v.length:1;const t=k/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=N;if(s?(y=j,"inner"===N&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==m?-k*S+S/2:"center"===l?-P.highest.height/2-t*S+S:-P.highest.height+S/2:"near"===l||0!==m?S/2:"center"===l?P.highest.height/2-t*S:P.highest.height-k*S,d&&(C*=-1),0===m||e.showLabelBackdrop||(y+=S/2*Math.sin(m))):(w=j,C=(1-k)*S/2),e.showLabelBackdrop){const t=Qc(e.backdropPadding),n=P.heights[g],r=P.widths[g];let a=C-t.top,s=0-t.left;switch(A){case"middle":a-=n/2;break;case"bottom":a-=n}switch(N){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===x-1?s-=r:g>0&&(s-=r/2)}u={left:s,top:a,width:r+t.width,height:n+t.height,color:e.backdropColor}}p.push({label:v,font:_,textOffset:C,options:{rotation:m,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:A,translation:[y,w],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Hl(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,s=e+a,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+a,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+a,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:a,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,a,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const i=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(a=0,s=r.length;a<s;++a){const e=r[a];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const i=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Dc(e,this.left,s)-s/2,c=Dc(e,this.right,i)+i/2,d=u=o):(d=Dc(e,this.top,s)-s/2,u=Dc(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Fc(t,n);const r=this.getLabelItems(e);for(const a of r){const e=a.options,n=a.font;Hc(t,a.label,0,a.textOffset,n,e)}n&&zc(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const a=Zc(n.font),s=Qc(n.padding),i=n.align;let o=a.lineHeight/2;"bottom"===t||"center"===t||dl(t)?(o+=s.bottom,cl(n.text)&&(o+=a.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,r){const{top:a,left:s,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,f,m=0;const p=i-a,g=o-s;if(e.isHorizontal()){if(h=cc(r,s,o),dl(n)){const e=Object.keys(n)[0],r=n[e];f=d[e].getPixelForValue(r)+p-t}else f="center"===n?(c.bottom+c.top)/2+p-t:yh(e,n,t);u=o-s}else{if(dl(n)){const e=Object.keys(n)[0],r=n[e];h=d[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:yh(e,n,t);f=cc(r,i,a),m="left"===n?-Tl:Tl}return{titleX:h,titleY:f,maxWidth:u,rotation:m}}(this,o,t,i);Hc(e,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:u,textAlign:kh(i,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=fl(e.grid&&e.grid.z,-1),r=fl(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Ch.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let a,s;for(a=0,s=t.length;a<s;++a){const s=t[a];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Zc(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ah{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,function(e,t,n){const r=wl(Object.create(null),[n?Lc.get(n):{},Lc.get(t),e.defaults]);Lc.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),a=r.pop(),s=[e].concat(r).join("."),i=t[n].split("."),o=i.pop(),l=i.join(".");Lc.route(s,a,l,o)}))}(t,e.defaultRoutes);e.descriptors&&Lc.describe(t,e.descriptors)}(e,s,n),this.override&&Lc.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Lc[r]&&(delete Lc[r][n],this.override&&delete Sc[n])}}class Ph{constructor(){this.controllers=new Ah(fu,"datasets",!0),this.elements=new Ah(xh,"elements"),this.plugins=new Ah(Object,"plugins"),this.scales=new Ah(Ch,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):gl(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=kl(e);pl(n["before"+r],[],n),t[e](n),pl(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Lh=new Ph;class Eh{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(a,e,t,n);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const a of e){const e=a.plugin;if(!1===pl(e[n],[t,r,a.options],e)&&r.cancelable)return!1}return!0}invalidate(){ll(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=fl(n.options&&n.options.plugins,{}),a=function(e){const t={},n=[],r=Object.keys(Lh.plugins.items);for(let s=0;s<r.length;s++)n.push(Lh.getPlugin(r[s]));const a=e.plugins||[];for(let s=0;s<a.length;s++){const e=a[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:a,localIds:s}=t;const i=[],o=e.getContext();for(const l of a){const t=l.id,a=Mh(n[t],r);null!==a&&i.push({plugin:l,options:Dh(e.config,{plugin:l,local:s[t]},a,o)})}return i}(e,a,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function Mh(e,t){return t||!1!==e?!0===e?{}:e:null}function Dh(e,t,n,r){let{plugin:a,local:s}=t;const i=e.pluginScopeKeys(a),o=e.getOptionScopes(n,i);return s&&a.defaults&&o.push(a.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oh(e,t){const n=Lc.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Th(e){if("x"===e||"y"===e||"r"===e)return e}function Rh(e){if(Th(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(a=s.position)||"bottom"===a?"x":"left"===a||"right"===a?"y":void 0)||e.length>1&&Th(e[0].toLowerCase());if(t)return t}var a;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Ih(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Fh(e,t){const n=Sc[e.type]||{scales:{}},r=t.scales||{},a=Oh(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const i=r[t];if(!dl(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=Rh(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return Ih(e,"x",n[0])||Ih(e,"y",n[0])}return{}}(t,e),Lc.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,a),c=n.scales||{};s[t]=Nl(Object.create(null),[{axis:o},i,c[o],c[l]])})),e.data.datasets.forEach((n=>{const a=n.type||e.type,i=n.indexAxis||Oh(a,t),o=(Sc[a]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),a=n[t+"AxisID"]||t;s[a]=s[a]||Object.create(null),Nl(s[a],[{axis:t},r[a],o[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];Nl(t,[Lc.scales[t.type],Lc.scale])})),s}function zh(e){const t=e.options||(e.options={});t.plugins=fl(t.plugins,{}),t.scales=Fh(e,t)}function Bh(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const qh=new Map,Uh=new Set;function Wh(e,t){let n=qh.get(e);return n||(n=t(),qh.set(e,n),Uh.add(n)),n}const Hh=(e,t,n)=>{const r=Sl(t,n);void 0!==r&&e.add(r)};class Vh{constructor(e){this._config=function(e){return(e=e||{}).data=Bh(e.data),zh(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Bh(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wh(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return Wh("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return Wh("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return Wh("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:a}=this,s=this._cachedScopes(e,n),i=s.get(t);if(i)return i;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>Hh(o,e,t)))),t.forEach((e=>Hh(o,r,e))),t.forEach((e=>Hh(o,Sc[a]||{},e))),t.forEach((e=>Hh(o,Lc,e))),t.forEach((e=>Hh(o,kc,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Uh.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Sc[t]||{},Lc.datasets[t]||{},{type:t},Lc,kc]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:s,subPrefixes:i}=Yh(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=ad(e);for(const a of t){const t=n(a),s=r(a),i=(s||t)&&e[a];if(t&&(Al(i)||Gh(i))||s&&cl(i))return!0}return!1}(s,t)){a.$shared=!1;o=rd(s,n=Al(n)?n():n,this.createResolver(e,n,i))}for(const l of t)a[l]=o[l];return a}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:a}=Yh(this._resolverCache,e,n);return dl(t)?rd(a,t,void 0,r):a}}function Yh(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const a=n.join();let s=r.get(a);if(!s){s={resolver:nd(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(a,s)}return s}const Gh=e=>dl(e)&&Object.getOwnPropertyNames(e).some((t=>Al(e[t])));const Xh=["top","bottom","left","right","chartArea"];function $h(e,t){return"top"===e||"bottom"===e||-1===Xh.indexOf(e)&&"x"===t}function Kh(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Jh(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),pl(n&&n.onComplete,[e],t)}function Qh(e){const t=e.chart,n=t.options.animation;pl(n&&n.onProgress,[e],t)}function Zh(e){return jd()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ef={},tf=e=>{const t=Zh(e);return Object.values(ef).filter((e=>e.canvas===t)).pop()};function nf(e,t,n){const r=Object.keys(e);for(const a of r){const r=+a;if(r>=t){const s=e[a];delete e[a],(n>0||r>t)&&(e[r+n]=s)}}}class rf{static register(){Lh.add(...arguments),af()}static unregister(){Lh.remove(...arguments),af()}constructor(e,t){const n=this.config=new Vh(t),r=Zh(e),a=tf(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!jd()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?th:gh}(r)),this.platform.updateConfig(n);const i=this.platform.acquireContext(r,s.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=ol(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Eh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],ef[this.id]=this,i&&o?(Jd.listen(this,"complete",Jh),Jd.listen(this,"progress",Qh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:a}=this;return ll(e)?t&&a?a:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Lh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Md(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Oc(this.canvas,this.ctx),this}stop(){return Jd.stop(this),this}resize(e,t){Jd.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,a),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Md(this,i,!0)&&(this.notifyPlugins("resize",{size:s}),pl(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){gl(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let a=[];t&&(a=a.concat(Object.keys(t).map((e=>{const n=t[e],r=Rh(e,n),a="r"===r,s="x"===r;return{options:n,dposition:a?"chartArea":s?"bottom":"left",dtype:a?"radialLinear":s?"category":"linear"}})))),gl(a,(t=>{const a=t.options,s=a.id,i=Rh(s,a),o=fl(a.type,t.dtype);void 0!==a.position&&$h(a.position,i)===$h(t.dposition)||(a.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(Lh.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(a,e)})),gl(r,((e,t)=>{e||delete n[t]})),gl(n,(e=>{Zu.configure(this,e,e.options),Zu.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Kh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let a=this.getDatasetMeta(n);const s=r.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=s,a.indexAxis=r.indexAxis||Oh(s,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const t=Lh.getController(s),{datasetElementType:r,dataElementType:i}=Lc.datasets[s];Object.assign(t,{dataElementType:Lh.getElement(i),datasetElementType:r&&Lh.getElement(r)}),a.controller=new t(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){gl(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===a.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||gl(a,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Kh("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){gl(this.scales,(e=>{Zu.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Pl(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:a}of t){nf(e,r,"_removeElements"===n?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let a=1;a<t;a++)if(!Pl(r,n(a)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Zu.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],gl(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Al(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Jd.has(this)?this.attached&&!Jd.running(this)&&Jd.start(this):(this.draw(),Jh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];e&&!a.visible||n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=$d(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Fc(t,r),e.controller.draw(),r&&zc(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ic(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const a=Bu.modes[t];return"function"===typeof a?a(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=td(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,r);Cl(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(a,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Jd.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Oc(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};gl(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const i=()=>{r("attach",i),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():s()}unbindEvents(){gl(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},gl(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let a,s,i,o;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){s=e[i];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!xl(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,a=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=a(t,e),i=n?e:a(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),i.length&&r.mode&&this.updateHoverStyle(i,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:a}=this,s=t,i=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,pl(a.onHover,[e,i,this],this),o&&pl(a.onClick,[e,i,this],this));const c=!xl(i,r);return(c||t)&&(this._active=i,this._updateHoverStyles(i,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}}function af(){return gl(rf.instances,(e=>e._plugins.invalidate()))}function sf(e,t,n,r){const a=function(e){return $c(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(n-t)/2,i=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return Ql(e,0,Math.min(s,t))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:Ql(a.innerStart,0,i),innerEnd:Ql(a.innerEnd,0,i)}}function of(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function lf(e,t,n,r,a,s){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let f=0;const m=a-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;f=(m-(0!==e?m*e/(e+r):m))/2}const p=(m-Math.max(.001,m*u-n/Ll)/u)/2,g=l+p+f,x=a-p-f,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=sf(t,h,u,x-g),N=u-b,j=u-v,_=g+b/N,S=x-v/j,k=h+y,C=h+w,A=g+y/k,P=x-w/C;if(e.beginPath(),s){const t=(_+S)/2;if(e.arc(i,o,u,_,t),e.arc(i,o,u,t,S),v>0){const t=of(j,S,i,o);e.arc(t.x,t.y,v,S,x+Tl)}const n=of(C,x,i,o);if(e.lineTo(n.x,n.y),w>0){const t=of(C,P,i,o);e.arc(t.x,t.y,w,x+Tl,P+Math.PI)}const r=(x-w/h+(g+y/h))/2;if(e.arc(i,o,h,x-w/h,r,!0),e.arc(i,o,h,r,g+y/h,!0),y>0){const t=of(k,A,i,o);e.arc(t.x,t.y,y,A+Math.PI,g-Tl)}const a=of(N,g,i,o);if(e.lineTo(a.x,a.y),b>0){const t=of(N,_,i,o);e.arc(t.x,t.y,b,g-Tl,_)}}else{e.moveTo(i,o);const t=Math.cos(_)*u+i,n=Math.sin(_)*u+o;e.lineTo(t,n);const r=Math.cos(S)*u+i,a=Math.sin(S)*u+o;e.lineTo(r,a)}e.closePath()}function cf(e,t,n,r,a){const{fullCircles:s,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,f?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(s){lf(e,t,n,r,m,a);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(m=i+(o%El||El))}f&&function(e,t,n){const{startAngle:r,pixelMargin:a,x:s,y:i,outerRadius:o,innerRadius:l}=t;let c=a/o;e.beginPath(),e.arc(s,i,o,r-c,n+c),l>a?(c=a/l,e.arc(s,i,l,n+c,r-c,!0)):e.arc(s,i,a,n+Tl,r-Tl),e.closePath(),e.clip()}(e,t,m),s||(lf(e,t,n,r,m,a),e.stroke())}(0,ko.A)(rf,"defaults",Lc),(0,ko.A)(rf,"instances",ef),(0,ko.A)(rf,"overrides",Sc),(0,ko.A)(rf,"registry",Lh),(0,ko.A)(rf,"version","4.4.9"),(0,ko.A)(rf,"getChart",tf);class df extends xh{constructor(e){super(),(0,ko.A)(this,"circumference",void 0),(0,ko.A)(this,"endAngle",void 0),(0,ko.A)(this,"fullCircles",void 0),(0,ko.A)(this,"innerRadius",void 0),(0,ko.A)(this,"outerRadius",void 0),(0,ko.A)(this,"pixelMargin",void 0),(0,ko.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:a,distance:s}=Gl(r,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=fl(d,o-i),f=Jl(a,i,o)&&i!==o,m=h>=El||f,p=Zl(s,l+u,c+u);return m&&p}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:a,innerRadius:s,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+a)/2,d=(s+i+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,a=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>El?Math.floor(n/El):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*r,Math.sin(i)*r);const o=r*(1-Math.sin(Math.min(Ll,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,a){const{fullCircles:s,startAngle:i,circumference:o}=t;let l=t.endAngle;if(s){lf(e,t,n,r,l,a);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=i+(o%El||El))}lf(e,t,n,r,l,a),e.fill()}(e,this,o,a,s),cf(e,this,o,a,s),e.restore()}}function uf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=fl(n.borderCapStyle,t.borderCapStyle),e.setLineDash(fl(n.borderDash,t.borderDash)),e.lineDashOffset=fl(n.borderDashOffset,t.borderDashOffset),e.lineJoin=fl(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=fl(n.borderWidth,t.borderWidth),e.strokeStyle=fl(n.borderColor,t.borderColor)}function hf(e,t,n){e.lineTo(n.x,n.y)}function ff(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:a=0,end:s=r-1}=n,{start:i,end:o}=t,l=Math.max(a,i),c=Math.min(s,o),d=a<i&&s<i||a>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function mf(e,t,n,r){const{points:a,options:s}=t,{count:i,start:o,loop:l,ilen:c}=ff(a,n,r),d=function(e){return e.stepped?Bc:e.tension||"monotone"===e.cubicInterpolationMode?qc:hf}(s);let u,h,f,{move:m=!0,reverse:p}=r||{};for(u=0;u<=c;++u)h=a[(o+(p?c-u:u))%i],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,f,h,p,s.stepped),f=h);return l&&(h=a[(o+(p?c:0))%i],d(e,f,h,p,s.stepped)),!!l}function pf(e,t,n,r){const a=t.points,{count:s,start:i,ilen:o}=ff(a,n,r),{move:l=!0,reverse:c}=r||{};let d,u,h,f,m,p,g=0,x=0;const b=e=>(i+(c?o-e:e))%s,v=()=>{f!==m&&(e.lineTo(g,m),e.lineTo(g,f),e.lineTo(g,p))};for(l&&(u=a[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=a[b(d)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===h?(n<f?f=n:n>m&&(m=n),g=(x*g+t)/++x):(v(),e.lineTo(t,n),h=r,x=0,f=m=n),p=n}v()}function gf(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?pf:mf}(0,ko.A)(df,"id","arc"),(0,ko.A)(df,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,ko.A)(df,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,ko.A)(df,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const xf="function"===typeof Path2D;function bf(e,t,n,r){xf&&!t.options.segment?function(e,t,n,r){let a=t._path;a||(a=t._path=new Path2D,t.path(a,n,r)&&a.closePath()),uf(e,t.options),e.stroke(a)}(e,t,n,r):function(e,t,n,r){const{segments:a,options:s}=t,i=gf(t);for(const o of a)uf(e,s,o.style),e.beginPath(),i(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class vf extends xh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Nd(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,a=n.length;if(!a)return[];const s=!!e._loop,{start:i,end:o}=function(e,t,n,r){let a=0,s=t-1;if(n&&!r)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,n&&(s+=a);s>a&&e[s%t].skip;)s--;return s%=t,{start:a,end:s}}(n,a,s,r);return Vd(e,!0===r?[{start:i,end:o,loop:s}]:function(e,t,n,r){const a=e.length,s=[];let i,o=t,l=e[t];for(i=t+1;i<=n;++i){const n=e[i%a];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%a,end:(i-1)%a,loop:r}),t=o=n.stop?i:null):(o=i,l.skip&&(t=i)),l=n}return null!==o&&s.push({start:t%a,end:o%a,loop:r}),s}(n,i,o<i?o+a:o,!!e._fullLoop&&0===i&&o===a-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],a=this.points,s=Hd(this,{property:t,start:r,end:r});if(!s.length)return;const i=[],o=function(e){return e.stepped?Rd:e.tension||"monotone"===e.cubicInterpolationMode?Id:Td}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],u=a[c],h=a[d];if(u===h){i.push(u);continue}const f=o(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);f[t]=e[t],i.push(f)}return 1===i.length?i[0]:i}pathSegment(e,t,n){return gf(this)(e,this,t,n)}path(e,t,n){const r=this.segments,a=gf(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const i of r)s&=a(e,this,i,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),bf(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function yf(e,t,n,r){const a=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<a.radius+a.hitRadius}(0,ko.A)(vf,"id","line"),(0,ko.A)(vf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,ko.A)(vf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,ko.A)(vf,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class wf extends xh{constructor(e){super(),(0,ko.A)(this,"parsed",void 0),(0,ko.A)(this,"skip",void 0),(0,ko.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:a,y:s}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return yf(this,e,"x",t)}inYRange(e,t){return yf(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Ic(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Tc(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Nf(e,t){const{x:n,y:r,base:a,width:s,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(n,a),l=Math.max(n,a),c=r-u,d=r+u):(u=s/2,o=n-u,l=n+u,c=Math.min(r,a),d=Math.max(r,a)),{left:o,top:c,right:l,bottom:d}}function jf(e,t,n,r){return e?0:Ql(t,n,r)}function _f(e){const t=Nf(e),n=t.right-t.left,r=t.bottom-t.top,a=function(e,t,n){const r=e.options.borderWidth,a=e.borderSkipped,s=Kc(r);return{t:jf(a.top,s.top,0,n),r:jf(a.right,s.right,0,t),b:jf(a.bottom,s.bottom,0,n),l:jf(a.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,s=Jc(a),i=Math.min(t,n),o=e.borderSkipped,l=r||dl(a);return{topLeft:jf(!l||o.top||o.left,s.topLeft,0,i),topRight:jf(!l||o.top||o.right,s.topRight,0,i),bottomLeft:jf(!l||o.bottom||o.left,s.bottomLeft,0,i),bottomRight:jf(!l||o.bottom||o.right,s.bottomRight,0,i)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function Sf(e,t,n,r){const a=null===t,s=null===n,i=e&&!(a&&s)&&Nf(e,r);return i&&(a||Zl(t,i.left,i.right))&&(s||Zl(n,i.top,i.bottom))}function kf(e,t){e.rect(t.x,t.y,t.w,t.h)}function Cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,i=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+r,y:e.y+a,w:e.w+s,h:e.h+i,radius:e.radius}}(0,ko.A)(wf,"id","point"),(0,ko.A)(wf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,ko.A)(wf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Af extends xh{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=_f(this),i=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Vc:kf;var o;e.save(),s.w===a.w&&s.h===a.h||(e.beginPath(),i(e,Cf(s,t,a)),e.clip(),i(e,Cf(a,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,Cf(a,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Sf(this,e,t,n)}inXRange(e,t){return Sf(this,e,null,t)}inYRange(e,t){return Sf(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+r)/2:t,y:a?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,ko.A)(Af,"id","bar"),(0,ko.A)(Af,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,ko.A)(Af,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Pf=Object.freeze({__proto__:null,ArcElement:df,BarElement:Af,LineElement:vf,PointElement:wf});const Lf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ef=Lf.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Mf(e){return Lf[e%Lf.length]}function Df(e){return Ef[e%Ef.length]}function Of(e){let t=0;return(n,r)=>{const a=e.getDatasetMeta(r).controller;a instanceof _u?t=function(e,t){return e.backgroundColor=e.data.map((()=>Mf(t++))),t}(n,t):a instanceof ku?t=function(e,t){return e.backgroundColor=e.data.map((()=>Df(t++))),t}(n,t):a&&(t=function(e,t){return e.borderColor=Mf(t),e.backgroundColor=Df(t),++t}(n,t))}}function Tf(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Rf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:a}=e.config,{elements:s}=a,i=Tf(r)||(o=a)&&(o.borderColor||o.backgroundColor)||s&&Tf(s)||"rgba(0,0,0,0.1)"!==Lc.borderColor||"rgba(0,0,0,0.1)"!==Lc.backgroundColor;var o;if(!n.forceOverride&&i)return;const l=Of(e);r.forEach(l)}};function If(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ff(e){e.data.datasets.forEach((e=>{If(e)}))}var zf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void Ff(e);const r=e.width;e.data.datasets.forEach(((t,a)=>{const{_data:s,indexAxis:i}=t,o=e.getDatasetMeta(a),l=s||t.data;if("y"===ed([i,e.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=e.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const n=t.length;let r,a=0;const{iScale:s}=e,{min:i,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(a=Ql(tc(t,s.axis,i).lo,0,n-1)),r=c?Ql(tc(t,s.axis,o).hi+1,a,n)-a:n-a,{start:a,count:r}}(o,l);if(u<=(n.threshold||4*r))return void If(t);let h;switch(ll(s)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":h=function(e,t,n,r,a){const s=a.samples||r;if(s>=n)return e.slice(t,t+n);const i=[],o=(n-2)/(s-2);let l=0;const c=t+n-1;let d,u,h,f,m,p=t;for(i[l++]=e[p],d=0;d<s-2;d++){let r,a=0,s=0;const c=Math.floor((d+1)*o)+1+t,g=Math.min(Math.floor((d+2)*o)+1,n)+t,x=g-c;for(r=c;r<g;r++)a+=e[r].x,s+=e[r].y;a/=x,s/=x;const b=Math.floor(d*o)+1+t,v=Math.min(Math.floor((d+1)*o)+1,n)+t,{x:y,y:w}=e[p];for(h=f=-1,r=b;r<v;r++)f=.5*Math.abs((y-a)*(e[r].y-w)-(y-e[r].x)*(s-w)),f>h&&(h=f,u=e[r],m=r);i[l++]=u,p=m}return i[l++]=e[c],i}(l,d,u,r,n);break;case"min-max":h=function(e,t,n,r){let a,s,i,o,l,c,d,u,h,f,m=0,p=0;const g=[],x=t+n-1,b=e[t].x,v=e[x].x-b;for(a=t;a<t+n;++a){s=e[a],i=(s.x-b)/v*r,o=s.y;const t=0|i;if(t===l)o<h?(h=o,c=a):o>f&&(f=o,d=a),m=(p*m+s.x)/++p;else{const n=a-1;if(!ll(c)&&!ll(d)){const t=Math.min(c,d),r=Math.max(c,d);t!==u&&t!==n&&g.push((0,Ie.A)((0,Ie.A)({},e[t]),{},{x:m})),r!==u&&r!==n&&g.push((0,Ie.A)((0,Ie.A)({},e[r]),{},{x:m}))}a>0&&n!==u&&g.push(e[n]),g.push(s),l=t,p=0,h=f=o,c=d=u=a}}return g}(l,d,u,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=h}))},destroy(e){Ff(e)}};function Bf(e,t,n,r){if(r)return;let a=t[e],s=n[e];return"angle"===e&&(a=Kl(a),s=Kl(s)),{property:e,start:a,end:s}}function qf(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Uf(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Wf(e,t){let n=[],r=!1;return cl(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},a=t.points,s=[];return t.segments.forEach((e=>{let{start:t,end:i}=e;i=qf(t,i,a);const o=a[t],l=a[i];null!==r?(s.push({x:o.x,y:r}),s.push({x:l.x,y:r})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:l.y}))})),s}(e,t),n.length?new vf({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Hf(e){return e&&!1!==e.fill}function Vf(e,t,n){let r=e[t].fill;const a=[t];let s;if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!ul(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1}function Yf(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=fl(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(dl(r))return!isNaN(r.value)&&r;let a=parseFloat(r);return ul(a)&&Math.floor(a)===a?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,a,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Gf(e,t,n){const r=[];for(let a=0;a<n.length;a++){const s=n[a],{first:i,last:o,point:l}=Xf(s,t,"x");if(!(!l||i&&o))if(i)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function Xf(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const a=r[n],s=e.segments,i=e.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=i[e.start][n],r=i[e.end][n];if(Zl(a,t,r)){o=a===t,l=a===r;break}}return{first:o,last:l,point:r}}class $f{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:a,radius:s}=this;return t=t||{start:0,end:El},e.arc(r,a,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,a=e.angle;return{x:t+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}}function Kf(e){const{chart:t,fill:n,line:r}=e;if(ul(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,a=[],s=r.segments,i=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let a=0;a<r.length;a++){const e=r[a];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(Wf({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)Gf(a,i[t],o)}return new vf({points:a,options:{}})}(e);if("shape"===n)return!0;const a=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,a=t.getLabels().length,s=r.reverse?t.max:t.min,i=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:dl(e)?e.value:t.getBaseValue(),r}(n,t,s),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new $f({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<a;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:dl(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(ul(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return a instanceof $f?a:Wf(a,r)}function Jf(e,t,n){const r=Kf(t),{chart:a,index:s,line:i,scale:o,axis:l}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:f=u}=d||{},m=a.getDatasetMeta(s),p=$d(a,m);r&&i.points.length&&(Fc(e,n),function(e,t){const{line:n,target:r,above:a,below:s,area:i,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save(),"x"===c&&s!==a&&(Qf(e,r,i.top),Zf(e,{line:n,target:r,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),Qf(e,r,i.bottom));Zf(e,{line:n,target:r,color:s,scale:o,property:c,clip:l}),e.restore()}(e,{line:i,target:r,above:h,below:f,area:n,scale:o,axis:l,clip:p}),zc(e))}function Qf(e,t,n){const{segments:r,points:a}=t;let s=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=a[r],d=a[qf(r,l,a)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Zf(e,t){const{line:n,target:r,property:a,color:s,scale:i,clip:o}=t,l=function(e,t,n){const r=e.segments,a=e.points,s=t.points,i=[];for(const o of r){let{start:e,end:r}=o;r=qf(e,r,a);const l=Bf(n,a[e],a[r],o.loop);if(!t.segments){i.push({source:o,target:l,start:a[e],end:a[r]});continue}const c=Hd(t,l);for(const t of c){const e=Bf(n,s[t.start],s[t.end],t.loop),r=Wd(o,a,e);for(const a of r)i.push({source:a,target:t,start:{[n]:Uf(l,e,"start",Math.max)},end:{[n]:Uf(l,e,"end",Math.min)}})}}return i}(n,r,a);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=s}={}}=c,l=!0!==r;e.save(),e.fillStyle=t,em(e,i,o,l&&Bf(a,u,h)),e.beginPath();const f=!!n.pathSegment(e,c);let m;if(l){f?e.closePath():tm(e,r,h,a);const t=!!r.pathSegment(e,d,{move:f,reverse:!0});m=f&&t,m||tm(e,r,u,a)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function em(e,t,n,r){const a=t.chart.chartArea,{property:s,start:i,end:o}=r||{};if("x"===s||"y"===s){let t,r,l,c;"x"===s?(t=i,r=a.top,l=o,c=a.bottom):(t=a.left,r=i,l=a.right,c=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),c=Math.min(c,n.bottom)),e.rect(t,r,l-t,c-r),e.clip()}}function tm(e,t,n,r){const a=t.interpolate(n,r);a&&e.lineTo(a.x,a.y)}var nm={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,a=[];let s,i,o,l;for(i=0;i<r;++i)s=e.getDatasetMeta(i),o=s.dataset,l=null,o&&o.options&&o instanceof vf&&(l={visible:e.isDatasetVisible(i),index:i,fill:Yf(o,i,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,a.push(l);for(i=0;i<r;++i)l=a[i],l&&!1!==l.fill&&(l.fill=Vf(a,i,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,a=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let i=a.length-1;i>=0;--i){const t=a[i].$filler;t&&(t.line.updateControlPoints(s,t.axis),r&&t.fill&&Jf(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let a=r.length-1;a>=0;--a){const t=r[a].$filler;Hf(t)&&Jf(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;Hf(r)&&"beforeDatasetDraw"===n.drawTime&&Jf(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rm=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class am extends xh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pl(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Zc(n.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=rm(n,a);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,a,i,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:a,maxWidth:s,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+i;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const m=n+t/2+a.measureText(e.text).width;(0===f||l[l.length-1]+m+2*i>s)&&(d+=c,l[l.length-(f>0?0:1)]=0,h+=c,u++),o[f]={left:0,top:h,row:u,width:m,height:r},l[l.length-1]+=m+i})),d}_fitCols(e,t,n,r){const{ctx:a,maxHeight:s,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=i,u=0,h=0,f=0,m=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:p,itemHeight:g}=function(e,t,n,r,a){const s=function(e,t,n,r){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(a).width}(r,e,t,n),i=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=sm(t,n));return r}(a,r,t.lineHeight);return{itemWidth:s,itemHeight:i}}(n,t,a,e,r);s>0&&h+g+2*i>c&&(d+=u+i,l.push({width:u,height:h}),f+=u+i,m++,u=h=0),o[s]={left:f,top:h,col:m,width:p,height:g},u=Math.max(u,p),h+=g+i})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:a}}=this,s=Fd(a,this.left,this.width);if(this.isHorizontal()){let a=0,i=cc(n,this.left+r,this.right-this.lineWidths[a]);for(const o of t)a!==o.row&&(a=o.row,i=cc(n,this.left+r,this.right-this.lineWidths[a])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(i),o.width),i+=o.width+r}else{let a=0,i=cc(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const o of t)o.col!==a&&(a=o.col,i=cc(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),o.top=i,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),i+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Fc(e,this),this._draw(),zc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:a,labels:s}=e,i=Lc.color,o=Fd(e.rtl,this.left,this.width),l=Zc(s.font),{padding:c}=s,d=l.size,u=d/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:p}=rm(s,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:cc(a,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:cc(a,this.top+x+c,this.bottom-t[0].height),line:0},zd(this.ctx,e.textDirection);const b=p+c;this.legendItems.forEach(((v,y)=>{r.strokeStyle=v.fontColor,r.fillStyle=v.fontColor;const w=r.measureText(v.text).width,N=o.textAlign(v.textAlign||(v.textAlign=s.textAlign)),j=f+u+w;let _=h.x,S=h.y;o.setWidth(this.width),g?y>0&&_+j+c>this.right&&(S=h.y+=b,h.line++,_=h.x=cc(a,this.left+c,this.right-n[h.line])):y>0&&S+b>this.bottom&&(_=h.x=_+t[h.line].width+c,h.line++,S=h.y=cc(a,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;r.save();const a=fl(n.lineWidth,1);if(r.fillStyle=fl(n.fillStyle,i),r.lineCap=fl(n.lineCap,"butt"),r.lineDashOffset=fl(n.lineDashOffset,0),r.lineJoin=fl(n.lineJoin,"miter"),r.lineWidth=a,r.strokeStyle=fl(n.strokeStyle,i),r.setLineDash(fl(n.lineDash,[])),s.usePointStyle){const i={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:a},l=o.xPlus(e,f/2);Rc(r,i,l,t+u,s.pointStyleWidth&&f)}else{const s=t+Math.max((d-m)/2,0),i=o.leftForLtr(e,f),l=Jc(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Vc(r,{x:i,y:s,w:f,h:m,radius:l}):r.rect(i,s,f,m),r.fill(),0!==a&&r.stroke()}r.restore()}(o.x(_),S,v),_=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(N,_+f+u,g?_+j:this.right,e.rtl),function(e,t,n){Hc(r,n.text,e,t+p/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(_),S,v),g)h.x+=j+c;else if("string"!==typeof v.text){const e=l.lineHeight;h.y+=sm(v,e)+c}else h.y+=b})),Bd(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Zc(t.font),r=Qc(t.padding);if(!t.display)return;const a=Fd(e.rtl,this.left,this.width),s=this.ctx,i=t.position,o=n.size/2,l=r.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=cc(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+cc(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=cc(i,d,d+u);s.textAlign=a.textAlign(lc(i)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Hc(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Zc(e.font),n=Qc(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,a;if(Zl(e,this.left,this.right)&&Zl(t,this.top,this.bottom))for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],Zl(e,r.left,r.left+r.width)&&Zl(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,i=(a=n,null!==(r=s)&&null!==a&&r.datasetIndex===a.datasetIndex&&r.index===a.index);s&&!i&&pl(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&pl(t.onHover,[e,n,this],this)}else n&&pl(t.onClick,[e,n,this],this);var r,a}}function sm(e,t){return t*(e.text?e.text.length:0)}var im={id:"legend",_element:am,start(e,t,n){const r=e.legend=new am({ctx:e.ctx,options:n,chart:e});Zu.configure(e,r,n),Zu.addBox(e,r)},stop(e){Zu.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Zu.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),t.hidden=!0):(a.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:a,color:s,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Qc(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class om extends xh{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=cl(n.text)?n.text.length:1;this._padding=Qc(n.padding);const a=r*Zc(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:a,options:s}=this,i=s.align;let o,l,c,d=0;return this.isHorizontal()?(l=cc(i,n,a),c=t+e,o=a-n):("left"===s.position?(l=n+e,c=cc(i,r,t),d=-.5*Ll):(l=a-e,c=cc(i,t,r),d=.5*Ll),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Zc(t.font),r=n.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:i,rotation:o}=this._drawArgs(r);Hc(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:o,textAlign:lc(t.align),textBaseline:"middle",translation:[a,s]})}}var lm={id:"title",_element:om,start(e,t,n){!function(e,t){const n=new om({ctx:e.ctx,options:t,chart:e});Zu.configure(e,n,t),Zu.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Zu.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Zu.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cm=new WeakMap;var dm={id:"subtitle",start(e,t,n){const r=new om({ctx:e.ctx,options:n,chart:e});Zu.configure(e,r,n),Zu.addBox(e,r),cm.set(e,r)},stop(e){Zu.removeBox(e,cm.get(e)),cm.delete(e)},beforeUpdate(e,t,n){const r=cm.get(e);Zu.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const um={average(e){if(!e.length)return!1;let t,n,r=new Set,a=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),a+=e.y,++s}}if(0===s||0===r.size)return!1;return{x:[...r].reduce(((e,t)=>e+t))/r.size,y:a/s}},nearest(e,t){if(!e.length)return!1;let n,r,a,s=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Xl(t,r.getCenterPoint());e<o&&(o=e,a=r)}}if(a){const e=a.tooltipPosition();s=e.x,i=e.y}return{x:s,y:i}}};function hm(e,t){return t&&(cl(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fm(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function mm(e,t){const{element:n,datasetIndex:r,index:a}=t,s=e.getDatasetMeta(r).controller,{label:i,value:o}=s.getLabelAndValue(a);return{chart:e,label:i,parsed:s.getParsed(a),raw:e.data.datasets[r].data[a],formattedValue:o,dataset:s.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function pm(e,t){const n=e.chart.ctx,{body:r,footer:a,title:s}=e,{boxWidth:i,boxHeight:o}=t,l=Zc(t.bodyFont),c=Zc(t.titleFont),d=Zc(t.footerFont),u=s.length,h=a.length,f=r.length,m=Qc(t.padding);let p=m.height,g=0,x=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){p+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){g=Math.max(g,n.measureText(e).width+b)};return n.save(),n.font=c.string,gl(e.title,v),n.font=l.string,gl(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?i+2+t.boxPadding:0,gl(r,(e=>{gl(e.before,v),gl(e.lines,v),gl(e.after,v)})),b=0,n.font=d.string,gl(e.footer,v),n.restore(),g+=m.width,{width:g,height:p}}function gm(e,t,n,r){const{x:a,width:s}=n,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=a<=(o+l)/2?"left":"right":a<=s/2?c="left":a>=i-s/2&&(c="right"),function(e,t,n,r){const{x:a,width:s}=r,i=n.caretSize+n.caretPadding;return"left"===e&&a+s+i>t.width||"right"===e&&a-s-i<0||void 0}(c,e,t,n)&&(c="center"),c}function xm(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||gm(e,t,n,r),yAlign:r}}function bm(e,t,n,r){const{caretSize:a,caretPadding:s,cornerRadius:i}=e,{xAlign:o,yAlign:l}=n,c=a+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Jc(i);let m=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const p=function(e,t,n){let{y:r,height:a}=e;return"top"===t?r+=n:r-="bottom"===t?a+n:a/2,r}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+a:"right"===o&&(m+=Math.max(u,f)+a),{x:Ql(m,0,r.width-t.width),y:Ql(p,0,r.height-t.height)}}function vm(e,t,n){const r=Qc(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function ym(e){return hm([],fm(e))}function wm(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Nm={beforeTitle:il,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:il,beforeBody:il,beforeLabel:il,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ll(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:il,afterBody:il,beforeFooter:il,footer:il,afterFooter:il};function jm(e,t,n,r){const a=e[t].call(n,r);return"undefined"===typeof a?Nm[t].call(n,r):a}class _m extends xh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,a=new tu(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,td(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=jm(n,"beforeTitle",this,e),a=jm(n,"title",this,e),s=jm(n,"afterTitle",this,e);let i=[];return i=hm(i,fm(r)),i=hm(i,fm(a)),i=hm(i,fm(s)),i}getBeforeBody(e,t){return ym(jm(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return gl(e,(e=>{const t={before:[],lines:[],after:[]},a=wm(n,e);hm(t.before,fm(jm(a,"beforeLabel",this,e))),hm(t.lines,jm(a,"label",this,e)),hm(t.after,fm(jm(a,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return ym(jm(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=jm(n,"beforeFooter",this,e),a=jm(n,"footer",this,e),s=jm(n,"afterFooter",this,e);let i=[];return i=hm(i,fm(r)),i=hm(i,fm(a)),i=hm(i,fm(s)),i}_createItems(e){const t=this._active,n=this.chart.data,r=[],a=[],s=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(mm(this.chart,t[i]));return e.filter&&(l=l.filter(((t,r,a)=>e.filter(t,r,a,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),gl(l,(t=>{const n=wm(e.callbacks,t);r.push(jm(n,"labelColor",this,t)),a.push(jm(n,"labelPointStyle",this,t)),s.push(jm(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let a,s=[];if(r.length){const e=um[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=pm(this,n),i=Object.assign({},e,t),o=xm(this.chart,n,i),l=bm(n,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const a=this.getCaretPosition(e,n,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:i}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Jc(i),{x:u,y:h}=e,{width:f,height:m}=t;let p,g,x,b,v,y;return"center"===a?(v=h+m/2,"left"===r?(p=u,g=p-s,b=v+s,y=v-s):(p=u+f,g=p+s,b=v-s,y=v+s),x=p):(g="left"===r?u+Math.max(o,c)+s:"right"===r?u+f-Math.max(l,d)-s:this.caretX,"top"===a?(b=h,v=b-s,p=g-s,x=g+s):(b=h+m,v=b+s,p=g+s,x=g-s),y=b),{x1:p,x2:g,x3:x,y1:b,y2:v,y3:y}}drawTitle(e,t,n){const r=this.title,a=r.length;let s,i,o;if(a){const l=Fd(n.rtl,this.x,this.width);for(e.x=vm(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Zc(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<a;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+i,o+1===a&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,r,a){const s=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=a,c=Zc(a.bodyFont),d=vm(this,"left",a),u=r.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(a.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,c=f+o/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Tc(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Tc(e,t,n,c)}else{e.lineWidth=dl(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),i=Jc(s.borderRadius);Object.values(i).some((e=>0!==e))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Vc(e,{x:t,y:f,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Vc(e,{x:n,y:f+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=Zc(n.bodyFont);let u=d.lineHeight,h=0;const f=Fd(n.rtl,this.x,this.width),m=function(n){t.fillText(n,f.x(e.x+h),e.y+u/2),e.y+=u+a},p=f.textAlign(s);let g,x,b,v,y,w,N;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=vm(this,p,n),t.fillStyle=n.bodyColor,gl(this.beforeBody,m),h=i&&"right"!==p?"center"===s?l/2+c:l+2+c:0,v=0,w=r.length;v<w;++v){for(g=r[v],x=this.labelTextColors[v],t.fillStyle=x,gl(g.before,m),b=g.lines,i&&b.length&&(this._drawColorBox(t,e,v,f,n),u=Math.max(d.lineHeight,o)),y=0,N=b.length;y<N;++y)m(b[y]),u=d.lineHeight;gl(g.after,m)}h=0,u=d.lineHeight,gl(this.afterBody,m),e.y-=a}drawFooter(e,t,n){const r=this.footer,a=r.length;let s,i;if(a){const o=Fd(n.rtl,this.x,this.width);for(e.x=vm(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=Zc(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,i=0;i<a;++i)t.fillText(r[i],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:a,yAlign:s}=this,{x:i,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Jc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===s&&"right"===a&&this.drawCaret(e,t,n,r),t.lineTo(i+l,o+c-f),t.quadraticCurveTo(i+l,o+c,i+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===s&&"left"===a&&this.drawCaret(e,t,n,r),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){const n=um[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=pm(this,e),i=Object.assign({},n,this._size),o=xm(t,e,i),l=bm(e,i,o,t);r._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Qc(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,r,t),zd(e,t.textDirection),a.y+=s.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Bd(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),a=!xl(n,r),s=this._positionChanged(r,t);(a||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],s=this._getActiveElements(e,a,t,n),i=this._positionChanged(s,e),o=t||!xl(s,a)||i;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const a=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:a}=this,s=um[a.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}(0,ko.A)(_m,"positioners",um);var Sm={id:"tooltip",_element:_m,positioners:um,afterInit(e,t,n){n&&(e.tooltip=new _m({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,Ie.A)((0,Ie.A)({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},km=Object.freeze({__proto__:null,Colors:Rf,Decimation:zf,Filler:nm,Legend:im,SubTitle:dm,Title:lm,Tooltip:Sm});function Cm(e,t,n,r){const a=e.indexOf(t);if(-1===a)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return a!==e.lastIndexOf(t)?n:a}function Am(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Pm extends Ch{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ll(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Ql(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Cm(n,e,fl(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return Am.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Lm(e,t){const n=[],{bounds:r,step:a,min:s,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,f=c-1,{min:m,max:p}=t,g=!ll(s),x=!ll(i),b=!ll(l),v=(p-m)/(d+1);let y,w,N,j,_=ql((p-m)/f/h)*h;if(_<1e-14&&!g&&!x)return[{value:m},{value:p}];j=Math.ceil(p/_)-Math.floor(m/_),j>f&&(_=ql(j*_/f/h)*h),ll(o)||(y=Math.pow(10,o),_=Math.ceil(_*y)/y),"ticks"===r?(w=Math.floor(m/_)*_,N=Math.ceil(p/_)*_):(w=m,N=p),g&&x&&a&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-s)/a,_/1e3)?(j=Math.round(Math.min((i-s)/_,c)),_=(i-s)/j,w=s,N=i):b?(w=g?s:w,N=x?i:N,j=l-1,_=(N-w)/j):(j=(N-w)/_,j=Bl(j,Math.round(j),_/1e3)?Math.round(j):Math.ceil(j));const S=Math.max(Yl(_),Yl(w));y=Math.pow(10,ll(o)?S:o),w=Math.round(w*y)/y,N=Math.round(N*y)/y;let k=0;for(g&&(u&&w!==s?(n.push({value:s}),w<s&&k++,Bl(Math.round((w+k*_)*y)/y,s,Em(s,v,e))&&k++):w<s&&k++);k<j;++k){const e=Math.round((w+k*_)*y)/y;if(x&&e>i)break;n.push({value:e})}return x&&u&&N!==i?n.length&&Bl(n[n.length-1].value,i,Em(i,v,e))?n[n.length-1].value=i:n.push({value:i}):x&&N!==i||n.push({value:N}),n}function Em(e,t,n){let{horizontal:r,minRotation:a}=n;const s=Hl(a),i=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}(0,ko.A)(Pm,"id","category"),(0,ko.A)(Pm,"defaults",{ticks:{callback:Am}});class Mm extends Ch{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ll(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this;const s=e=>r=t?r:e,i=e=>a=n?a:e;if(e){const e=zl(r),t=zl(a);e<0&&t<0?i(0):e>0&&t>0&&s(0)}if(r===a){let t=0===a?1:Math.abs(.05*a);i(a+t),e||s(r-t)}this.min=r,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Lm({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Wl(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Nc(e,this.chart.options.locale,this.options.ticks.format)}}class Dm extends Mm{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ul(e)?e:0,this.max=ul(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Hl(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,ko.A)(Dm,"id","linear"),(0,ko.A)(Dm,"defaults",{ticks:{callback:_c.formatters.numeric}});const Om=e=>Math.floor(Fl(e)),Tm=(e,t)=>Math.pow(10,Om(e)+t);function Rm(e){return 1===e/Math.pow(10,Om(e))}function Im(e,t,n){const r=Math.pow(10,n),a=Math.floor(e/r);return Math.ceil(t/r)-a}function Fm(e,t){let{min:n,max:r}=t;n=hl(e.min,n);const a=[],s=Om(n);let i=function(e,t){let n=Om(t-e);for(;Im(e,t,n)>10;)n++;for(;Im(e,t,n)<10;)n--;return Math.min(n,Om(e))}(n,r),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,d=Math.round((n-c)*o)/o,u=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),f=hl(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;f<r;)a.push({value:f,major:Rm(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((c+u+h*Math.pow(10,i))*o)/o;const m=hl(e.max,f);return a.push({value:m,major:Rm(m),significand:h}),a}class zm extends Ch{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Mm.prototype.parse.apply(this,[e,t]);if(0!==n)return ul(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ul(e)?Math.max(0,e):null,this.max=ul(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ul(this._userMin)&&(this.min=e===Tm(this.min,0)?Tm(this.min,-1):Tm(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const a=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(a(1),s(10)):(a(Tm(n,-1)),s(Tm(r,1)))),n<=0&&a(Tm(r,-1)),r<=0&&s(Tm(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=Fm({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Wl(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Nc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Fl(e),this._valueRange=Fl(this.max)-Fl(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Bm(e){const t=e.ticks;if(t.display&&e.display){const e=Qc(t.backdropPadding);return fl(t.font&&t.font.size,Lc.font.size)+e.height}return 0}function qm(e,t,n,r,a){return e===r||e===a?{start:t-n/2,end:t+n/2}:e<r||e>a?{start:t-n,end:t}:{start:t,end:t+n}}function Um(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],a=[],s=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?Ll/s:0;for(let u=0;u<s;u++){const s=i.setContext(e.getPointLabelContext(u));a[u]=s.padding;const h=e.getPointPosition(u,e.drawingArea+a[u],o),f=Zc(s.font),m=(l=e.ctx,c=f,d=cl(d=e._pointLabels[u])?d:[d],{w:Mc(l,c.string,d),h:d.length*c.lineHeight});r[u]=m;const p=Kl(e.getIndexAngle(u)+o),g=Math.round(Vl(p));Wm(n,t,p,qm(g,h.x,m.w,0,180),qm(g,h.y,m.h,90,270))}var l,c,d;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],a=e._pointLabels.length,s=e.options,{centerPointLabels:i,display:o}=s.pointLabels,l={extra:Bm(s)/2,additionalAngle:i?Ll/a:0};let c;for(let d=0;d<a;d++){l.padding=n[d],l.size=t[d];const a=Hm(e,d,l);r.push(a),"auto"===o&&(a.visible=Vm(a,c),a.visible&&(c=a))}return r}(e,r,a)}function Wm(e,t,n,r,a){const s=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),a.start<t.t?(l=(t.t-a.start)/i,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function Hm(e,t,n){const r=e.drawingArea,{extra:a,additionalAngle:s,padding:i,size:o}=n,l=e.getPointPosition(t,r+a+i,s),c=Math.round(Vl(Kl(l.angle+Tl))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function Vm(e,t){if(!t)return!0;const{left:n,top:r,right:a,bottom:s}=e;return!(Ic({x:n,y:r},t)||Ic({x:n,y:s},t)||Ic({x:a,y:r},t)||Ic({x:a,y:s},t))}function Ym(e,t,n){const{left:r,top:a,right:s,bottom:i}=n,{backdropColor:o}=t;if(!ll(o)){const n=Jc(t.borderRadius),l=Qc(t.backdropPadding);e.fillStyle=o;const c=r-l.left,d=a-l.top,u=s-r+l.width,h=i-a+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),Vc(e,{x:c,y:d,w:u,h:h,radius:n}),e.fill()):e.fillRect(c,d,u,h)}}function Gm(e,t,n,r){const{ctx:a}=e;if(n)a.arc(e.xCenter,e.yCenter,t,0,El);else{let n=e.getPointPosition(0,t);a.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),a.lineTo(n.x,n.y)}}(0,ko.A)(zm,"id","logarithmic"),(0,ko.A)(zm,"defaults",{ticks:{callback:_c.formatters.logarithmic,major:{enabled:!0}}});class Xm extends Mm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Qc(Bm(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ul(e)&&!isNaN(e)?e:0,this.max=ul(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Bm(this.options))}generateTickLabels(e){Mm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=pl(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Um(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Kl(e*(El/(this._pointLabels.length||1))+Hl(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ll(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ll(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return td(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-Tl+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Gm(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:a}=t,s=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let a=t-1;a>=0;a--){const t=e._pointLabelItems[a];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(a));Ym(n,s,t);const i=Zc(s.font),{x:o,y:l,textAlign:c}=t;Hc(n,e._pointLabels[a],o,l+i.lineHeight/2,i,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),i=r.setContext(n),l=a.setContext(n);!function(e,t,n,r,a){const s=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),Gm(e,n,i,r),s.closePath(),s.stroke(),s.restore())}(this,i,o,s,l)}})),n.display){for(e.save(),i=s-1;i>=0;i--){const r=n.setContext(this.getPointLabelContext(i)),{color:a,lineWidth:s}=r;s&&a&&(e.lineWidth=s,e.strokeStyle=a,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let a,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(i)),l=Zc(o.font);if(a=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=Qc(o.backdropPadding);e.fillRect(-s/2-t.left,-a-l.size/2-t.top,s+t.width,l.size+t.height)}Hc(e,r.label,0,-a,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}(0,ko.A)(Xm,"id","radialLinear"),(0,ko.A)(Xm,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_c.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,ko.A)(Xm,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,ko.A)(Xm,"descriptors",{angleLines:{_fallback:"grid"}});const $m={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Km=Object.keys($m);function Jm(e,t){return e-t}function Qm(e,t){if(ll(t))return null;const n=e._adapter,{parser:r,round:a,isoWeekday:s}=e._parseOpts;let i=t;return"function"===typeof r&&(i=r(i)),ul(i)||(i="string"===typeof r?n.parse(i,r):n.parse(i)),null===i?null:(a&&(i="week"!==a||!Ul(s)&&!0!==s?n.startOf(i,a):n.startOf(i,"isoWeek",s)),+i)}function Zm(e,t,n,r){const a=Km.length;for(let s=Km.indexOf(e);s<a-1;++s){const e=$m[Km[s]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(a*e.size))<=r)return Km[s]}return Km[a-1]}function ep(e,t,n){if(n){if(n.length){const{lo:r,hi:a}=ec(n,t);e[n[r]>=t?n[r]:n[a]]=!0}}else e[t]=!0}function tp(e,t,n){const r=[],a={},s=t.length;let i,o;for(i=0;i<s;++i)o=t[i],a[o]=i,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const a=e._adapter,s=+a.startOf(t[0].value,r),i=t[t.length-1].value;let o,l;for(o=s;o<=i;o=+a.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,a,n):r}class np extends Ch{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new Du(e.adapters.date);r.init(t),Nl(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Qm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:a,minDefined:s,maxDefined:i}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),i||isNaN(e.max)||(a=Math.max(a,e.max))}s&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=ul(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),a=ul(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,s=function(e,t,n){let r=0,a=e.length;for(;r<a&&e[r]<t;)r++;for(;a>r&&e[a-1]>n;)a--;return r>0||a<e.length?e.slice(r,a):e}(r,a,this.max);return this._unit=t.unit||(n.autoSkip?Zm(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,n,r,a){for(let s=Km.length-1;s>=Km.indexOf(n);s--){const n=Km[s];if($m[n].common&&e._adapter.diff(a,r,n)>=t-1)return n}return Km[n?Km.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Km.indexOf(e)+1,n=Km.length;t<n;++t)if($m[Km[t]].common)return Km[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),tp(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,a=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),a=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Ql(r,0,s),a=Ql(a,0,s),this._offsets={start:r,end:a,factor:1/(r+1+a)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,a=r.time,s=a.unit||Zm(a.minUnit,t,n,this._getLabelCapacity(t)),i=fl(r.ticks.stepSize,1),o="week"===s&&a.isoWeekday,l=Ul(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*i)throw new Error(t+" and "+n+" are too far apart with stepSize of "+i+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,i,s),u++)ep(c,d,f);return d!==n&&"ticks"!==r.bounds&&1!==u||ep(c,d,f),Object.keys(c).sort(Jm).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,a=t||n[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,r){const a=this.options,s=a.ticks.callback;if(s)return pl(s,[e,t,n],this);const i=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,r||(h?d:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Hl(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),s=Math.sin(r),i=this._resolveTickFontOptions(0).size;return{w:n*a+i*s,h:n*s+i*a}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,tp(this,[e],this._majorUnit),r),s=this._getLabelSize(a),i=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(Qm(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sc(e.sort(Jm))}}function rp(e,t,n){let r,a,s,i,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=tc(e,"pos",t)),({pos:r,time:s}=e[o]),({pos:a,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=tc(e,"time",t)),({time:r,pos:s}=e[o]),({time:a,pos:i}=e[l]));const c=a-r;return c?s+(i-s)*(t-r)/c:s}(0,ko.A)(np,"id","time"),(0,ko.A)(np,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class ap extends np{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=rp(t,this.min),this._tableRange=rp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],a=[];let s,i,o,l,c;for(s=0,i=e.length;s<i;++s)l=e[s],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,i=r.length;s<i;++s)c=r[s+1],o=r[s-1],l=r[s],Math.round((c+o)/2)!==l&&a.push({time:l,pos:s/(i-1)});return a}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(rp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return rp(this._table,n*this._tableRange+this._minPos,!0)}}(0,ko.A)(ap,"id","timeseries"),(0,ko.A)(ap,"defaults",np.defaults);const sp=[Lu,Pf,km,Object.freeze({__proto__:null,CategoryScale:Pm,LinearScale:Dm,LogarithmicScale:zm,RadialLinearScale:Xm,TimeScale:np,TimeSeriesScale:ap})];rf.register(...sp);const ip=rf,op={5:{name:"Independente",hex:"#10b981",rgb:[16,185,129]},4:{name:"Dica Verbal",hex:"#8b5cf6",rgb:[139,92,246]},3:{name:"Dica Gestual",hex:"#3b82f6",rgb:[59,130,246]},2:{name:"Ajuda F\xedsica Parcial",hex:"#eab308",rgb:[234,179,8]},1:{name:"Ajuda F\xedsica Total",hex:"#f97316",rgb:[249,115,22]},0:{name:"N\xe3o realizou",hex:"#ef4444",rgb:[239,68,68]}},lp=()=>[5,4,3,2,1].map((e=>({id:e,name:op[e].name,hex:op[e].hex,rgb:op[e].rgb}))),cp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";if(!e)return"N\xe3o informado";try{const n=new Date(e),r=6e4*n.getTimezoneOffset(),a=new Date(n.getTime()+r);return"short"===t?a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(n){return e.split("T")[0]||"Data inv\xe1lida"}},dp=Object.create(null);dp.open="0",dp.close="1",dp.ping="2",dp.pong="3",dp.message="4",dp.upgrade="5",dp.noop="6";const up=Object.create(null);Object.keys(dp).forEach((e=>{up[dp[e]]=e}));const hp={type:"error",data:"parser error"},fp="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),mp="function"===typeof ArrayBuffer,pp=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gp=(e,t,n)=>{let{type:r,data:a}=e;return fp&&a instanceof Blob?t?n(a):xp(a,n):mp&&(a instanceof ArrayBuffer||pp(a))?t?n(a):xp(new Blob([a]),n):n(dp[r]+(a||""))},xp=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function bp(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let vp;const yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wp="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)wp[yp.charCodeAt(n)]=n;const Np="function"===typeof ArrayBuffer,jp=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Sp(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:_p(e.substring(1),t)};return up[n]?e.length>1?{type:up[n],data:e.substring(1)}:{type:up[n]}:hp},_p=(e,t)=>{if(Np){const n=(e=>{let t,n,r,a,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)n=wp[e.charCodeAt(t)],r=wp[e.charCodeAt(t+1)],a=wp[e.charCodeAt(t+2)],s=wp[e.charCodeAt(t+3)],d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|a>>2,d[l++]=(3&a)<<6|63&s;return c})(e);return Sp(n,t)}return{base64:!0,data:e}},Sp=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,kp=String.fromCharCode(30);function Cp(){return new TransformStream({transform(e,t){!function(e,t){fp&&e.data instanceof Blob?e.data.arrayBuffer().then(bp).then(t):mp&&(e.data instanceof ArrayBuffer||pp(e.data))?t(bp(e.data)):gp(e,!1,(e=>{vp||(vp=new TextEncoder),t(vp.encode(e))}))}(e,(n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)}))}})}let Ap;function Pp(e){return e.reduce(((e,t)=>e+t.length),0)}function Lp(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Ep(e){if(e)return function(e){for(var t in Ep.prototype)e[t]=Ep.prototype[t];return e}(e)}Ep.prototype.on=Ep.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Ep.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Ep.prototype.off=Ep.prototype.removeListener=Ep.prototype.removeAllListeners=Ep.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Ep.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},Ep.prototype.emitReserved=Ep.prototype.emit,Ep.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Ep.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Mp="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Dp="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Tp=Dp.setTimeout,Rp=Dp.clearTimeout;function Ip(e,t){t.useNativeTimers?(e.setTimeoutFn=Tp.bind(Dp),e.clearTimeoutFn=Rp.bind(Dp)):(e.setTimeoutFn=Dp.setTimeout.bind(Dp),e.clearTimeoutFn=Dp.clearTimeout.bind(Dp))}function Fp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class zp extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Bp extends Ep{constructor(e){super(),this.writable=!1,Ip(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new zp(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=jp(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class qp extends Bp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(kp),r=[];for(let a=0;a<n.length;a++){const e=jp(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach(((e,s)=>{gp(e,!1,(e=>{r[s]=e,++a===n&&t(r.join(kp))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fp()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Up=!1;try{Up="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ew){}const Wp=Up;function Hp(){}class Vp extends qp{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Yp extends Ep{constructor(e,t,n){super(),this.createRequest=e,Ip(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Op(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Zy){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Zy){}try{n.setRequestHeader("Accept","*/*")}catch(Zy){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(Zy){return void this.setTimeoutFn((()=>{this._onError(Zy)}),0)}"undefined"!==typeof document&&(this._index=Yp.requestsCount++,Yp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Hp,e)try{this._xhr.abort()}catch(Zy){}"undefined"!==typeof document&&delete Yp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Yp.requestsCount=0,Yp.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Gp);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Dp?"pagehide":"unload",Gp,!1)}function Gp(){for(let e in Yp.requests)Yp.requests.hasOwnProperty(e)&&Yp.requests[e].abort()}const Xp=function(){const e=$p({xdomain:!1});return e&&null!==e.responseType}();function $p(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Wp))return new XMLHttpRequest}catch(Zy){}if(!t)try{return new(Dp[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Zy){}}const Kp="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Jp extends Bp{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Kp?{}:Op(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(ew){return this.emitReserved("error",ew)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;gp(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(Zy){}r&&Mp((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fp()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Qp=Dp.WebSocket||Dp.MozWebSocket;const Zp={websocket:class extends Jp{createSocket(e,t,n){return Kp?new Qp(e,t,n):t?new Qp(e,t):new Qp(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Bp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(ew){return this.emitReserved("error",ew)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){Ap||(Ap=new TextDecoder);const n=[];let r=0,a=-1,s=!1;return new TransformStream({transform(i,o){for(n.push(i);;){if(0===r){if(Pp(n)<1)break;const e=Lp(n,1);s=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(Pp(n)<2)break;const e=Lp(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Pp(n)<8)break;const e=Lp(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(hp);break}a=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Pp(n)<a)break;const e=Lp(n,a);o.enqueue(jp(s?e:Ap.decode(e),t)),r=0}if(0===a||a>e){o.enqueue(hp);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Cp();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())})).catch((e=>{}))};a();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&Mp((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Vp{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Xp&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Yp($p,this.uri(),e)}}},eg=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tg=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ng(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=eg.exec(e||""),s={},i=14;for(;i--;)s[tg[i]]=a[i]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}const rg="function"===typeof addEventListener&&"function"===typeof removeEventListener,ag=[];rg&&addEventListener("offline",(()=>{ag.forEach((e=>e()))}),!1);class sg extends Ep{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=ng(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=ng(t.host).host);Ip(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),rg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ag.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&sg.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",sg.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Mp((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(sg.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),rg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ag.indexOf(this._offlineEventListener);-1!==e&&ag.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}sg.protocol=4;class ig extends sg{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;sg.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;sg.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class og extends ig{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Zp[e])).filter((e=>!!e))),super(e,t)}}const lg="function"===typeof ArrayBuffer,cg=Object.prototype.toString,dg="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===cg.call(Blob),ug="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===cg.call(File);function hg(e){return lg&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||dg&&e instanceof Blob||ug&&e instanceof File}function fg(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(fg(e[t]))return!0;return!1}if(hg(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return fg(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fg(e[n]))return!0;return!1}function mg(e){const t=[],n=e.data,r=e;return r.data=pg(n,t),r.attachments=t.length,{packet:r,buffers:t}}function pg(e,t){if(!e)return e;if(hg(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=pg(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=pg(e[r],t));return n}return e}function gg(e,t){return e.data=xg(e.data,t),delete e.attachments,e}function xg(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=xg(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=xg(e[n],t));return e}const bg=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vg=5;var yg;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(yg||(yg={}));class wg{constructor(e){this.replacer=e}encode(e){return e.type!==yg.EVENT&&e.type!==yg.ACK||!fg(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===yg.EVENT?yg.BINARY_EVENT:yg.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==yg.BINARY_EVENT&&e.type!==yg.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=mg(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Ng(e){return"[object Object]"===Object.prototype.toString.call(e)}class jg extends Ep{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===yg.BINARY_EVENT;n||t.type===yg.BINARY_ACK?(t.type=n?yg.EVENT:yg.ACK,this.reconstructor=new _g(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!hg(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===yg[n.type])throw new Error("unknown packet type "+n.type);if(n.type===yg.BINARY_EVENT||n.type===yg.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!jg.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Zy){return!1}}static isPayloadValid(e,t){switch(e){case yg.CONNECT:return Ng(t);case yg.DISCONNECT:return void 0===t;case yg.CONNECT_ERROR:return"string"===typeof t||Ng(t);case yg.EVENT:case yg.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===bg.indexOf(t[0]));case yg.ACK:case yg.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _g{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=gg(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Sg(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const kg=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cg extends Ep{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Sg(e,"open",this.onopen.bind(this)),Sg(e,"packet",this.onpacket.bind(this)),Sg(e,"error",this.onerror.bind(this)),Sg(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(kg.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:yg.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a),i=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const a=(e,n)=>e?r(e):t(n);a.withError=!0,n.push(a),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];n(null,...s)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:yg.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case yg.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yg.EVENT:case yg.BINARY_EVENT:this.onevent(e);break;case yg.ACK:case yg.BINARY_ACK:this.onack(e);break;case yg.DISCONNECT:this.ondisconnect();break;case yg.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t.packet({type:yg.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yg.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Ag(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ag.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ag.prototype.reset=function(){this.attempts=0},Ag.prototype.setMin=function(e){this.ms=e},Ag.prototype.setMax=function(e){this.max=e},Ag.prototype.setJitter=function(e){this.jitter=e};class Pg extends Ep{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Ip(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Ag({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||e;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new og(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Sg(t,"open",(function(){n.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Sg(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Sg(e,"ping",this.onping.bind(this)),Sg(e,"data",this.ondata.bind(this)),Sg(e,"error",this.onerror.bind(this)),Sg(e,"close",this.onclose.bind(this)),Sg(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Zy){this.onclose("parse error",Zy)}}ondecoded(e){Mp((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Cg(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Lg={};function Eg(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=ng(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,s=n.path,i=Lg[a]&&s in Lg[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new Pg(r,t):(Lg[a]||(Lg[a]=new Pg(r,t)),o=Lg[a]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Eg,{Manager:Pg,Socket:Cg,io:Eg,connect:Eg});const Mg="".concat(ot.H,"/parent-chat"),Dg="".concat(ot.H,"/contacts"),Og=async e=>{try{var t;console.log("[CONTACT-API] getTherapistContacts: Buscando para patientId:",e);const n=localStorage.getItem("token"),r=await Ve.A.get("".concat(Dg,"/therapists/").concat(e),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});return console.log("[CONTACT-API] getTherapistContacts: Sucesso - terapeutas encontrados:",(null===(t=r.data.therapists)||void 0===t?void 0:t.length)||0),r.data}catch(r){var n;throw console.error("[CONTACT-API] getTherapistContacts: Erro -",(null===(n=r.response)||void 0===n?void 0:n.data)||r.message),r}},Tg=async e=>{try{var t;console.log("[CONTACT-API] getColleagueContacts: Buscando para patientId:",e);const n=localStorage.getItem("token"),r=await Ve.A.get("".concat(Dg,"/colleagues/").concat(e),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});return console.log("[CONTACT-API] getColleagueContacts: Sucesso - colegas encontrados:",(null===(t=r.data.colleagues)||void 0===t?void 0:t.length)||0),r.data}catch(r){var n;throw console.error("[CONTACT-API] getColleagueContacts: Erro -",(null===(n=r.response)||void 0===n?void 0:n.data)||r.message),r}},Rg=()=>(0,qe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:(0,qe.jsx)("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})}),Ig=e=>{let{double:t=!1,read:n=!1,onDarkBackground:r=!1}=e;const a=()=>r?n?"#00ff88":"#ffffff":n?"#00c851":"#666666";return(0,qe.jsxs)("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",style:{display:"inline-block",filter:r&&n?"drop-shadow(0 0 2px rgba(0, 255, 136, 0.5))":"none"},children:[(0,qe.jsx)("path",{d:"M3.5 6L6 8.5L14.5 0",stroke:a(),strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),t&&(0,qe.jsx)("path",{d:"M6.5 6L9 8.5L17.5 0",stroke:a(),strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})},Fg=(e,t)=>{const n={fono:{badge:"\ud83d\udde3\ufe0f Fono",color:"#3498db",avatar:"FO"},fonoaudiologia:{badge:"\ud83d\udde3\ufe0f Fono",color:"#3498db",avatar:"FO"},psico:{badge:"\ud83e\udde0 Psico",color:"#e74c3c",avatar:"PS"},psicologia:{badge:"\ud83e\udde0 Psico",color:"#e74c3c",avatar:"PS"},music:{badge:"\ud83c\udfb5 Music",color:"#9b59b6",avatar:"MU"},musicoterapia:{badge:"\ud83c\udfb5 Music",color:"#9b59b6",avatar:"MU"},to:{badge:"\ud83c\udfe5 TO",color:"#f39c12",avatar:"TO"},terapiaocupacional:{badge:"\ud83c\udfe5 TO",color:"#f39c12",avatar:"TO"},fisio:{badge:"\ud83e\udd38 Fisio",color:"#27ae60",avatar:"FI"},fisioterapia:{badge:"\ud83e\udd38 Fisio",color:"#27ae60",avatar:"FI"},psicomotricidade:{badge:"\ud83e\udd38 Psico",color:"#27ae60",avatar:"PM"},psicopedagogia:{badge:"\ud83d\udcda Psicoped",color:"#e67e22",avatar:"PP"}};if("pai"===t||"parent"===t)return{badge:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Fam\xedlia",color:"#2ecc71",avatar:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66"};if("admin"===t||"administrador"===t)return{badge:"\u2699\ufe0f Admin",color:"#34495e",avatar:"AD"};if(e){const t=e.toLowerCase();for(const[e,r]of Object.entries(n))if(t.includes(e))return r}return{badge:"\ud83d\udc68\u200d\u2695\ufe0f Terapeuta",color:"#3498db",avatar:e?e.split(" ").map((e=>e[0])).join("").substring(0,2).toUpperCase():"TR"}},zg=(e,t,n)=>{if(e===t)return"current";const r=(n||"").toLowerCase();return r.includes("fono")?"fono":r.includes("psico")&&!r.includes("psicomotricidade")?"psico":r.includes("music")?"music":r.includes("to")||r.includes("terapiaocupacional")?"to":r.includes("fisio")||r.includes("psicomotricidade")?"fisio":r.includes("psicopedagogia")?"psicoped":r.includes("pai")||r.includes("m\xe3e")||r.includes("mae")||r.includes("familia")||r.includes("responsavel")?"parent":r.includes("admin")?"admin":"therapist"},Bg=e=>{let{patientId:t,patientName:n}=e;const[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(null),[h,f]=(0,r.useState)([]),[m,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[b,v]=(0,r.useState)(0),{user:y}=He(),w=(0,r.useRef)(null),N=(0,r.useRef)(null),[,j]=(0,r.useState)(0);(0,r.useEffect)((()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),a.length>0&&window.dispatchEvent(new CustomEvent("notificationUpdate"))}),[a]),(0,r.useEffect)((()=>{const e=setInterval((()=>{j((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>{t?(console.log("[PARENT-CHAT] Iniciando carregamento de terapeutas"),(async()=>{try{console.log("[PARENT-CHAT] Carregando terapeutas para men\xe7\xf5es:",{patientId:t,userRole:null===y||void 0===y?void 0:y.role});const e=await Og(t);console.log("[PARENT-CHAT] Terapeutas carregados:",e.therapists),f(e.therapists||[])}catch(d){console.error("[PARENT-CHAT] Erro ao carregar terapeutas:",d),f([])}})()):console.log("[PARENT-CHAT] N\xe3o carregando terapeutas - patientId:",t)}),[t,y]),(0,r.useEffect)((()=>{if(!t)return;const e=Eg(ot.G),n="patient-".concat(t);e.emit("joinRoom",n),e.on("newMessage",(e=>{console.log("Mensagem recebida via Socket.IO:",e),s((t=>e.clientId?t.map((t=>t.id===e.clientId?(0,Ie.A)((0,Ie.A)({},e),{},{isOptimistic:!1}):t)):t.some((t=>t.id===e.id))?t:[...t,e]))}));return(async()=>{try{c(!0);const e=await(async e=>{try{console.log("[PARENT-CHAT-LOG] getChatMessages: Buscando mensagens para paciente ".concat(e));const t=localStorage.getItem("token"),n=await Ve.A.get("".concat(Mg,"/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return console.log("[PARENT-CHAT-LOG] getChatMessages: ".concat(n.data.length," mensagens carregadas")),n.data}catch(d){var t;throw console.error("[PARENT-CHAT-LOG] getChatMessages: Erro -",(null===(t=d.response)||void 0===t?void 0:t.data)||d.message),d}})(t);s(e),u(null)}catch(ew){u("N\xe3o foi poss\xedvel carregar as mensagens."),console.error(ew)}finally{c(!1)}})(),()=>{e.disconnect()}}),[t]);const _=e=>{var t;const n=i.lastIndexOf("@");if(-1!==n){const t=i.substring(0,n),r="@".concat(e.full_name," ");o(t+r)}p(!1),null===(t=N.current)||void 0===t||t.focus()},S=h.filter((e=>{if(!g)return!0;const t=g.toLowerCase(),n=e.full_name.toLowerCase(),r=n.split(" "),a=r.map((e=>e[0])).join("");return n.includes(t)||a.includes(t)||r.some((e=>e.startsWith(t)))}));return(0,qe.jsxs)("div",{className:"chat-container",children:[(0,qe.jsx)("header",{className:"chat-header",children:(0,qe.jsxs)("h3",{children:["Conversa sobre ",n]})}),(0,qe.jsxs)("main",{className:"chat-messages",children:[l&&(0,qe.jsx)("p",{className:"chat-info",children:"Carregando mensagens..."}),d&&(0,qe.jsx)("p",{className:"chat-info error",children:d}),!l&&0===a.length&&(0,qe.jsx)("p",{className:"chat-info",children:"Nenhuma mensagem ainda. Seja o primeiro a come\xe7ar!"}),y&&a.map((e=>{const t=e.sender_id===y.id,n=zg(e.sender_id,y.id,e.sender_name),r=Fg(e.sender_name,n),a=((e,t)=>{if(!t)return null;if(e.isOptimistic)return{type:"sending",icon:(0,qe.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"2px",fontSize:"0.7rem",opacity:.8},children:(0,qe.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,qe.jsx)("circle",{cx:"6",cy:"6",r:"1.5",fill:"#ffffff",opacity:"0.7",children:(0,qe.jsx)("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"1.5s",repeatCount:"indefinite"})})})}),text:"Enviando..."};if(e.id&&!e.isOptimistic)return Date.now()-new Date(e.created_at).getTime()>5e3?{type:"read",icon:(0,qe.jsx)(Ig,{double:!0,read:!0,onDarkBackground:!0}),text:"Lido"}:{type:"delivered",icon:(0,qe.jsx)(Ig,{double:!0,read:!1,onDarkBackground:!0}),text:"Entregue"};return{type:"sent",icon:(0,qe.jsx)(Ig,{double:!1,read:!1,onDarkBackground:!0}),text:"Enviado"}})(e,t);return(0,qe.jsxs)("div",{className:"message-wrapper ".concat(t?"sent":"received"),children:[!t&&(0,qe.jsx)("div",{className:"message-avatar received",style:{backgroundColor:r.color},children:r.avatar}),(0,qe.jsxs)("div",{className:"message-bubble ".concat(t?"sent":"received"," ").concat(n),children:[(0,qe.jsx)("div",{className:"message-sender",children:t?"Voc\xea":(0,qe.jsxs)("span",{children:[e.sender_name,(0,qe.jsx)("span",{className:"specialty-badge",style:{backgroundColor:r.color,color:"white",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"10px",marginLeft:"8px",fontWeight:"500"},children:r.badge})]})}),(0,qe.jsx)("div",{className:"message-content",children:(i=e.message,i.split(/@(\w+(?:\s+\w+)*)/g).map(((e,t)=>{if(t%2===1){var n;const r=y&&e.toLowerCase().includes(null===(n=y.full_name)||void 0===n?void 0:n.toLowerCase());return(0,qe.jsxs)("span",{className:"px-2 py-1 rounded-md font-semibold ".concat(r?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-800 border border-gray-200"),children:["@",e]},t)}return e})))}),(0,qe.jsxs)("div",{className:"message-timestamp",children:[(s=e.created_at,new Date(s).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})),a&&(0,qe.jsx)("span",{className:"message-status",style:{marginLeft:"8px",opacity:.7},children:a.icon})]})]}),t&&(0,qe.jsx)("div",{className:"message-avatar sent",style:{backgroundColor:"#007bff"},children:"EU"})]},e.id);var s,i})),(0,qe.jsx)("div",{ref:w})]}),(0,qe.jsxs)("footer",{className:"chat-input-area",children:[(0,qe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),""===i.trim()||!y)return;let n;try{n=Date.now().toString();const e={id:n,sender_id:y.id,sender_name:y.full_name,message:i,created_at:(new Date).toISOString(),patient_id:t,isOptimistic:!0};s((t=>[...t,e])),o("");await(async e=>{try{console.log("[PARENT-CHAT-LOG] postChatMessage: Enviando mensagem para paciente ".concat(e.patient_id));const t=localStorage.getItem("token"),n=await Ve.A.post("".concat(Mg,"/").concat(e.patient_id),e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return console.log("[PARENT-CHAT-LOG] postChatMessage: Mensagem enviada com sucesso"),n.data}catch(d){var t;throw console.error("[PARENT-CHAT-LOG] postChatMessage: Erro -",(null===(t=d.response)||void 0===t?void 0:t.data)||d.message),d}})({patient_id:t,message:i,sender_id:y.id,clientId:n});window.dispatchEvent(new CustomEvent("messageSentOrReceived"))}catch(ew){u("Falha ao enviar mensagem."),n&&s((e=>e.filter((e=>e.id!==n))))}},className:"chat-form",children:[(0,qe.jsxs)("div",{className:"relative flex-grow",children:[(0,qe.jsx)("input",{ref:N,type:"text",value:i,onChange:e=>{const t=e.target.value;o(t),console.log("[PARENT-CHAT] Input mudou:",t),console.log("[PARENT-CHAT] Terapeutas dispon\xedveis:",h.length);const n=t.lastIndexOf("@");if(-1!==n){const e=t.substring(n+1),r=e.indexOf(" ");console.log("[PARENT-CHAT] Detectou @:",{lastAtIndex:n,textAfterAt:e,spaceIndex:r}),-1===r?(x(e.toLowerCase()),p(!0),v(0),console.log("[PARENT-CHAT] Mostrando dropdown - busca:",e.toLowerCase())):(p(!1),console.log("[PARENT-CHAT] Escondendo dropdown - espa\xe7o encontrado"))}else p(!1),console.log("[PARENT-CHAT] Escondendo dropdown - sem @")},onKeyDown:e=>{if(m&&0!==S.length)switch(e.key){case"ArrowDown":e.preventDefault(),v((e=>e<S.length-1?e+1:0));break;case"ArrowUp":e.preventDefault(),v((e=>e>0?e-1:S.length-1));break;case"Enter":m&&S[b]&&(e.preventDefault(),_(S[b]));break;case"Escape":p(!1)}},placeholder:"Digite sua mensagem... (use @nome para mencionar um terapeuta)",className:"chat-input",disabled:l}),m&&S.length>0&&(0,qe.jsxs)("div",{className:"absolute bottom-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10 mb-2",children:[(0,qe.jsxs)("div",{className:"p-2 bg-gray-50 border-b border-gray-200 text-xs font-medium text-gray-600",children:["\ud83d\udcac Mencionar terapeuta (",S.length," ",1===S.length?"encontrado":"encontrados",")"]}),S.map(((e,t)=>{const n=Fg(e.full_name,zg(e.id,y.id,e.full_name)),r=t===b;return(0,qe.jsxs)("div",{onClick:()=>_(e),className:"flex items-center p-3 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors ".concat(r?"bg-blue-50 border-blue-200":"hover:bg-gray-50"),children:[(0,qe.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-xs mr-3 shadow-sm",style:{backgroundColor:n.color},children:n.avatar}),(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsx)("p",{className:"text-sm font-medium truncate ".concat(r?"text-blue-900":"text-gray-900"),children:e.full_name}),(0,qe.jsxs)("div",{className:"flex items-center mt-1",children:[(0,qe.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full text-white mr-2",style:{backgroundColor:n.color},children:n.badge}),r&&(0,qe.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"\u21b5 Enter para mencionar"})]})]})]},e.id)})),(0,qe.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:"\ud83d\udca1 Use \u2191\u2193 para navegar, Enter para selecionar, Esc para fechar"})]})]}),(0,qe.jsx)("button",{type:"submit",className:"send-button",disabled:!i.trim(),children:(0,qe.jsx)(Rg,{})})]}),h.length>0&&(0,qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1 px-3 flex items-center justify-between",children:[(0,qe.jsxs)("span",{children:["\ud83d\udca1 Digite @",h.length>3?"nome":h.map((e=>e.full_name.split(" ")[0].toLowerCase())).join(", @")," para mencionar um terapeuta espec\xedfico"]}),(0,qe.jsxs)("span",{className:"text-gray-400",children:[h.length," terapeuta",1!==h.length?"s":""," dispon\xedvel",1!==h.length?"is":""]})]})]})]})},qg="".concat(ot.H,"/discussions"),Ug=()=>(0,qe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:(0,qe.jsx)("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})}),Wg=e=>{let{double:t=!1,read:n=!1,onDarkBackground:r=!1}=e;const a=()=>r?n?"#00ff88":"#ffffff":n?"#00c851":"#666666";return(0,qe.jsxs)("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",style:{display:"inline-block",filter:r&&n?"drop-shadow(0 0 2px rgba(0, 255, 136, 0.5))":"none"},children:[(0,qe.jsx)("path",{d:"M3.5 6L6 8.5L14.5 0",stroke:a(),strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),t&&(0,qe.jsx)("path",{d:"M6.5 6L9 8.5L17.5 0",stroke:a(),strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})},Hg=(e,t)=>{const n={fono:{badge:"\ud83d\udde3\ufe0f Fono",color:"#3498db",avatar:"FO"},fonoaudiologia:{badge:"\ud83d\udde3\ufe0f Fono",color:"#3498db",avatar:"FO"},psico:{badge:"\ud83e\udde0 Psico",color:"#e74c3c",avatar:"PS"},psicologia:{badge:"\ud83e\udde0 Psico",color:"#e74c3c",avatar:"PS"},music:{badge:"\ud83c\udfb5 Music",color:"#9b59b6",avatar:"MU"},musicoterapia:{badge:"\ud83c\udfb5 Music",color:"#9b59b6",avatar:"MU"},to:{badge:"\ud83c\udfe5 TO",color:"#f39c12",avatar:"TO"},terapiaocupacional:{badge:"\ud83c\udfe5 TO",color:"#f39c12",avatar:"TO"},fisio:{badge:"\ud83e\udd38 Fisio",color:"#27ae60",avatar:"FI"},fisioterapia:{badge:"\ud83e\udd38 Fisio",color:"#27ae60",avatar:"FI"},psicomotricidade:{badge:"\ud83e\udd38 Psico",color:"#27ae60",avatar:"PM"},psicopedagogia:{badge:"\ud83d\udcda Psicoped",color:"#e67e22",avatar:"PP"}};if("pai"===t||"parent"===t)return{badge:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Fam\xedlia",color:"#2ecc71",avatar:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66"};if("admin"===t||"administrador"===t)return{badge:"\u2699\ufe0f Admin",color:"#34495e",avatar:"AD"};if(e){const t=e.toLowerCase();for(const[e,r]of Object.entries(n))if(t.includes(e))return r}return{badge:"\ud83d\udc68\u200d\u2695\ufe0f Terapeuta",color:"#3498db",avatar:e?e.split(" ").map((e=>e[0])).join("").substring(0,2).toUpperCase():"TR"}},Vg=(e,t,n)=>{if(e===t)return"current";const r=(n||"").toLowerCase();return r.includes("fono")?"fono":r.includes("psico")&&!r.includes("psicomotricidade")?"psico":r.includes("music")?"music":r.includes("to")||r.includes("terapiaocupacional")?"to":r.includes("fisio")||r.includes("psicomotricidade")?"fisio":r.includes("psicopedagogia")?"psicoped":r.includes("pai")||r.includes("m\xe3e")||r.includes("mae")||r.includes("familia")||r.includes("responsavel")?"parent":r.includes("admin")?"admin":"therapist"},Yg=e=>{let{patientId:t,patientName:n}=e;const[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(null),[h,f]=(0,r.useState)([]),[m,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[b,v]=(0,r.useState)(0),{user:y}=He(),w=(0,r.useRef)(null),N=(0,r.useRef)(null),[,j]=(0,r.useState)(0);(0,r.useEffect)((()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),a.length>0&&window.dispatchEvent(new CustomEvent("notificationUpdate"))}),[a]),(0,r.useEffect)((()=>{const e=setInterval((()=>{j((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>{!t||"therapist"!==(null===y||void 0===y?void 0:y.role)&&"terapeuta"!==(null===y||void 0===y?void 0:y.role)?console.log("[CASE-DISCUSSION] N\xe3o carregando colegas - patientId:",t,"userRole:",null===y||void 0===y?void 0:y.role):(console.log("[CASE-DISCUSSION] Iniciando carregamento de colegas para terapeuta"),(async()=>{try{console.log("[CASE-DISCUSSION] Carregando colegas para men\xe7\xf5es:",{patientId:t,userRole:null===y||void 0===y?void 0:y.role});const e=await Tg(t);console.log("[CASE-DISCUSSION] Colegas carregados:",e.colleagues),f(e.colleagues||[])}catch(d){console.error("[CASE-DISCUSSION] Erro ao carregar colegas:",d),f([])}})())}),[t,y]),(0,r.useEffect)((()=>{if(!t)return;const e=Eg(ot.G),n="discussion-".concat(t);e.emit("joinRoom",n),e.on("newDiscussionMessage",(e=>{s((t=>[...t,e]))}));return(async()=>{try{c(!0);const e=await(async e=>{try{console.log("[CASE-DISCUSSION-LOG] getCaseDiscussionMessages: Buscando mensagens para paciente ".concat(e));const t=localStorage.getItem("token"),n=await Ve.A.get("".concat(qg,"/patient/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return console.log("[CASE-DISCUSSION-LOG] getCaseDiscussionMessages: ".concat(n.data.length," mensagens carregadas")),n.data}catch(d){var t;throw console.error("[CASE-DISCUSSION-LOG] getCaseDiscussionMessages: Erro -",(null===(t=d.response)||void 0===t?void 0:t.data)||d.message),d}})(t);s(e),u(null)}catch(ew){u("N\xe3o foi poss\xedvel carregar as mensagens da discuss\xe3o."),console.error(ew)}finally{c(!1)}})(),()=>{e.disconnect()}}),[t]);const _=e=>{var t;const n=i.lastIndexOf("@");if(-1!==n){const t=i.substring(0,n),r="@".concat(e.full_name," ");o(t+r)}p(!1),null===(t=N.current)||void 0===t||t.focus()},S=h.filter((e=>{if(!g)return!0;const t=g.toLowerCase(),n=e.full_name.toLowerCase(),r=n.split(" "),a=r.map((e=>e[0])).join("");return n.includes(t)||a.includes(t)||r.some((e=>e.startsWith(t)))}));return(0,qe.jsxs)("div",{className:"chat-container",children:[(0,qe.jsx)("header",{className:"chat-header",children:(0,qe.jsxs)("h3",{children:["Discuss\xe3o de Caso sobre ",n]})}),(0,qe.jsxs)("main",{className:"chat-messages",children:[l&&(0,qe.jsx)("p",{className:"chat-info",children:"Carregando mensagens..."}),d&&(0,qe.jsx)("p",{className:"chat-info error",children:d}),!l&&0===a.length&&(0,qe.jsx)("p",{className:"chat-info",children:"Nenhuma mensagem ainda. Seja o primeiro a come\xe7ar!"}),y&&a.map((e=>{const t=e.user_id===y.id,n=Vg(e.user_id,y.id,e.user_name),r=Hg(e.user_name,n),a=((e,t)=>{if(!t)return null;const n=Date.now()-new Date(e.created_at).getTime();return n>5e3?{type:"read",icon:(0,qe.jsx)(Wg,{double:!0,read:!0,onDarkBackground:!0}),text:"Lido"}:n>1e3?{type:"delivered",icon:(0,qe.jsx)(Wg,{double:!0,read:!1,onDarkBackground:!0}),text:"Entregue"}:{type:"sent",icon:(0,qe.jsx)(Wg,{double:!1,read:!1,onDarkBackground:!0}),text:"Enviado"}})(e,t);return(0,qe.jsxs)("div",{className:"message-wrapper ".concat(t?"sent":"received"),children:[!t&&(0,qe.jsx)("div",{className:"message-avatar received",style:{backgroundColor:r.color},children:r.avatar}),(0,qe.jsxs)("div",{className:"message-bubble ".concat(t?"sent":"received"," ").concat(n),children:[(0,qe.jsx)("div",{className:"message-sender",children:t?"Voc\xea":(0,qe.jsxs)("span",{children:[e.user_name,(0,qe.jsx)("span",{className:"specialty-badge",style:{backgroundColor:r.color,color:"white",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"10px",marginLeft:"8px",fontWeight:"500"},children:r.badge})]})}),(0,qe.jsx)("div",{className:"message-content",children:(i=e.content,i.split(/@(\w+(?:\s+\w+)*)/g).map(((e,t)=>{if(t%2===1){var n;const r=y&&e.toLowerCase().includes(null===(n=y.full_name)||void 0===n?void 0:n.toLowerCase());return(0,qe.jsxs)("span",{className:"px-2 py-1 rounded-md font-semibold ".concat(r?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-800 border border-gray-200"),children:["@",e]},t)}return e})))}),(0,qe.jsxs)("div",{className:"message-timestamp",children:[(s=e.created_at,new Date(s).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})),a&&(0,qe.jsx)("span",{className:"message-status",style:{marginLeft:"8px",opacity:.7},children:a.icon})]})]}),t&&(0,qe.jsx)("div",{className:"message-avatar sent",style:{backgroundColor:"#007bff"},children:"EU"})]},e.id);var s,i})),(0,qe.jsx)("div",{ref:w})]}),(0,qe.jsxs)("footer",{className:"chat-input-area",children:[(0,qe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),""!==i.trim()&&y)try{await(async(e,t)=>{try{console.log("[CASE-DISCUSSION-LOG] postCaseDiscussionMessage: Enviando mensagem para paciente ".concat(e));const n=localStorage.getItem("token"),r=await Ve.A.post("".concat(qg,"/patient/").concat(e),{content:t},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});return console.log("[CASE-DISCUSSION-LOG] postCaseDiscussionMessage: Mensagem enviada com sucesso"),r.data}catch(d){var n;throw console.error("[CASE-DISCUSSION-LOG] postCaseDiscussionMessage: Erro -",(null===(n=d.response)||void 0===n?void 0:n.data)||d.message),d}})(t,i),o("")}catch(ew){u("Falha ao enviar mensagem.")}},className:"chat-form",children:[(0,qe.jsxs)("div",{className:"relative flex-grow",children:[(0,qe.jsx)("input",{ref:N,type:"text",value:i,onChange:e=>{const t=e.target.value;o(t),console.log("[CASE-DISCUSSION] Input mudou:",t),console.log("[CASE-DISCUSSION] Colegas dispon\xedveis:",h.length);const n=t.lastIndexOf("@");if(-1!==n){const e=t.substring(n+1),r=e.indexOf(" ");console.log("[CASE-DISCUSSION] Detectou @:",{lastAtIndex:n,textAfterAt:e,spaceIndex:r}),-1===r?(x(e.toLowerCase()),p(!0),v(0),console.log("[CASE-DISCUSSION] Mostrando dropdown - busca:",e.toLowerCase())):(p(!1),console.log("[CASE-DISCUSSION] Escondendo dropdown - espa\xe7o encontrado"))}else p(!1),console.log("[CASE-DISCUSSION] Escondendo dropdown - sem @")},onKeyDown:e=>{if(m&&0!==S.length)switch(e.key){case"ArrowDown":e.preventDefault(),v((e=>e<S.length-1?e+1:0));break;case"ArrowUp":e.preventDefault(),v((e=>e>0?e-1:S.length-1));break;case"Enter":m&&S[b]&&(e.preventDefault(),_(S[b]));break;case"Escape":p(!1)}},placeholder:"Digite sua mensagem... (use @nome para mencionar um colega)",className:"chat-input",disabled:l}),m&&S.length>0&&(0,qe.jsxs)("div",{className:"absolute bottom-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10 mb-2",children:[(0,qe.jsxs)("div",{className:"p-2 bg-gray-50 border-b border-gray-200 text-xs font-medium text-gray-600",children:["\ud83d\udcac Mencionar colega (",S.length," ",1===S.length?"encontrado":"encontrados",")"]}),S.map(((e,t)=>{const n=Hg(e.full_name,Vg(e.id,y.id,e.full_name)),r=t===b;return(0,qe.jsxs)("div",{onClick:()=>_(e),className:"flex items-center p-3 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors ".concat(r?"bg-blue-50 border-blue-200":"hover:bg-gray-50"),children:[(0,qe.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-xs mr-3 shadow-sm",style:{backgroundColor:n.color},children:n.avatar}),(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsx)("p",{className:"text-sm font-medium truncate ".concat(r?"text-blue-900":"text-gray-900"),children:e.full_name}),(0,qe.jsxs)("div",{className:"flex items-center mt-1",children:[(0,qe.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full text-white mr-2",style:{backgroundColor:n.color},children:n.badge}),r&&(0,qe.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"\u21b5 Enter para mencionar"})]})]})]},e.id)})),(0,qe.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:"\ud83d\udca1 Use \u2191\u2193 para navegar, Enter para selecionar, Esc para fechar"})]})]}),(0,qe.jsx)("button",{type:"submit",className:"send-button",disabled:!i.trim(),children:(0,qe.jsx)(Ug,{})})]}),h.length>0&&(0,qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1 px-3 flex items-center justify-between",children:[(0,qe.jsxs)("span",{children:["\ud83d\udca1 Digite @",h.length>3?"nome":h.map((e=>e.full_name.split(" ")[0].toLowerCase())).join(", @")," para mencionar um colega espec\xedfico"]}),(0,qe.jsxs)("span",{className:"text-gray-400",children:[h.length," colega",1!==h.length?"s":""," dispon\xedvel",1!==h.length?"is":""]})]})]})]})},Gg=e=>{let{isOpen:t,onClose:n,onContinue:a,patient:s,currentUser:i,initialData:o=null}=e;const[l,c]=(0,r.useState)({professional_id:"",qualifications:"",professional_signature:""}),[d,u]=(0,r.useState)({guardian_name:"",guardian_relationship:"",patient_occupation:"",main_complaint:"",treatment_objectives:""}),[h,f]=(0,r.useState)(!1),[m,p]=(0,r.useState)(1),[g,x]=(0,r.useState)(!0),[b,v]=(0,r.useState)({}),[y,w]=(0,r.useState)({period_type:"last_30_days",start_date:"",end_date:"",program_filter:"all"});(0,r.useEffect)((()=>{t&&i&&(x(!i.professional_id||!i.qualifications),i.professional_id&&i.qualifications&&(c({professional_id:i.professional_id,qualifications:i.qualifications,professional_signature:i.professional_signature||""}),p(2)),s&&u({guardian_name:s.guardian_name||"",guardian_relationship:s.guardian_relationship||"",patient_occupation:s.patient_occupation||"",main_complaint:s.main_complaint||"",treatment_objectives:s.treatment_objectives||""}),o&&(o.professionalData&&c(o.professionalData),o.patientData&&u(o.patientData)))}),[t,i,s,o]);return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 rounded-t-2xl",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Relat\xf3rio de Evolu\xe7\xe3o Terap\xeautica"}),(0,qe.jsx)("p",{className:"text-indigo-100 text-sm",children:1===m?"Configura\xe7\xe3o Profissional":"Dados Complementares - ".concat(null===s||void 0===s?void 0:s.name)})]}),(0,qe.jsx)("button",{onClick:n,className:"text-white hover:text-indigo-200 transition-colors",children:(0,qe.jsx)(za,{icon:Ei,className:"text-xl"})})]})}),(0,qe.jsx)("div",{className:"px-6 py-3 border-b border-gray-200",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 ".concat(m>=1?"text-indigo-600":"text-gray-400"),children:[(0,qe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(m>=1?"bg-indigo-600 text-white":"bg-gray-200"),children:g?(0,qe.jsx)(za,{icon:ai,className:"text-sm"}):(0,qe.jsx)(za,{icon:Qi,className:"text-sm"})}),(0,qe.jsx)("span",{className:"font-medium",children:"Dados Profissionais"})]}),(0,qe.jsx)("div",{className:"flex-1 h-1 ".concat(m>=2?"bg-indigo-600":"bg-gray-200"," rounded")}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2 ".concat(m>=2?"text-indigo-600":"text-gray-400"),children:[(0,qe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(m>=2?"bg-indigo-600 text-white":"bg-gray-200"),children:(0,qe.jsx)(za,{icon:xs,className:"text-sm"})}),(0,qe.jsx)("span",{className:"font-medium",children:"Dados do Paciente"})]})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[1===m&&g&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"text-center mb-6",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,qe.jsx)(za,{icon:ai,className:"text-2xl text-indigo-600"})}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Configura\xe7\xe3o Profissional"}),(0,qe.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:"Para gerar relat\xf3rios profissionais completos, precisamos dos seus dados profissionais. Estes dados ser\xe3o reutilizados automaticamente."}),(0,qe.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 text-center",children:(0,qe.jsxs)("div",{className:"text-xs text-amber-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"\u26a0\ufe0f Sobre os Relat\xf3rios de Evolu\xe7\xe3o"}),(0,qe.jsxs)("p",{children:["Este sistema gera ",(0,qe.jsx)("strong",{children:"an\xe1lises autom\xe1ticas baseadas em dados quantitativos"})," como suporte ao seu trabalho. \xc9 ",(0,qe.jsx)("strong",{children:"imprescind\xedvel"})," que voc\xea revise, adapte e complemente com sua expertise cl\xednica profissional."]})]})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:ui,className:"mr-2 text-indigo-500"}),"Registro Profissional *"]}),(0,qe.jsx)("input",{type:"text",value:l.professional_id,onChange:e=>c((t=>(0,Ie.A)((0,Ie.A)({},t),{},{professional_id:e.target.value}))),placeholder:"Ex: CRP 06/12345-6",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(b.professional_id?"border-red-500":"border-gray-300")}),b.professional_id&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.professional_id})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:so,className:"mr-2 text-indigo-500"}),"Qualifica\xe7\xf5es e Forma\xe7\xe3o *"]}),(0,qe.jsx)("textarea",{value:l.qualifications,onChange:e=>c((t=>(0,Ie.A)((0,Ie.A)({},t),{},{qualifications:e.target.value}))),placeholder:"Ex: Psic\xf3logo, Especialista em ABA (BACB-BCaBA), Mestre em An\xe1lise do Comportamento",rows:"3",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none ".concat(b.qualifications?"border-red-500":"border-gray-300")}),b.qualifications&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.qualifications})]})]}),(0,qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)(za,{icon:Qi,className:"text-blue-600 mt-1"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-blue-800",children:"Configura\xe7\xe3o \xdanica"}),(0,qe.jsx)("p",{className:"text-blue-700 text-sm",children:"Estes dados ser\xe3o salvos no seu perfil e reutilizados automaticamente em todos os futuros relat\xf3rios, sem necessidade de reconfigura\xe7\xe3o."})]})]})})]}),2===m&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"text-center mb-6",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-cyan-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,qe.jsx)(za,{icon:xs,className:"text-2xl text-blue-600"})}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados Complementares do Paciente"}),(0,qe.jsx)("p",{className:"text-gray-600 text-sm",children:"Informa\xe7\xf5es complementares necess\xe1rias para relat\xf3rio profissional completo"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:hs,className:"mr-2 text-blue-500"}),"Nome do Respons\xe1vel *"]}),(0,qe.jsx)("input",{type:"text",value:d.guardian_name,onChange:e=>u((t=>(0,Ie.A)((0,Ie.A)({},t),{},{guardian_name:e.target.value}))),placeholder:"Nome completo",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(b.guardian_name?"border-red-500":"border-gray-300")}),b.guardian_name&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.guardian_name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rela\xe7\xe3o com o Paciente *"}),(0,qe.jsxs)("select",{value:d.guardian_relationship,onChange:e=>u((t=>(0,Ie.A)((0,Ie.A)({},t),{},{guardian_relationship:e.target.value}))),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(b.guardian_relationship?"border-red-500":"border-gray-300"),children:[(0,qe.jsx)("option",{value:"",children:"Selecionar rela\xe7\xe3o"}),(0,qe.jsx)("option",{value:"m\xe3e",children:"M\xe3e"}),(0,qe.jsx)("option",{value:"pai",children:"Pai"}),(0,qe.jsx)("option",{value:"av\xf3",children:"Av\xf3"}),(0,qe.jsx)("option",{value:"av\xf4",children:"Av\xf4"}),(0,qe.jsx)("option",{value:"tia",children:"Tia"}),(0,qe.jsx)("option",{value:"tio",children:"Tio"}),(0,qe.jsx)("option",{value:"respons\xe1vel legal",children:"Respons\xe1vel Legal"}),(0,qe.jsx)("option",{value:"outro",children:"Outro"})]}),b.guardian_relationship&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.guardian_relationship})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ocupa\xe7\xe3o do Paciente"}),(0,qe.jsx)("input",{type:"text",value:d.patient_occupation,onChange:e=>u((t=>(0,Ie.A)((0,Ie.A)({},t),{},{patient_occupation:e.target.value}))),placeholder:"Ex: Estudante, Pr\xe9-escolar, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:ps,className:"mr-2 text-blue-500"}),"Queixa Principal *"]}),(0,qe.jsx)("textarea",{value:d.main_complaint,onChange:e=>u((t=>(0,Ie.A)((0,Ie.A)({},t),{},{main_complaint:e.target.value}))),placeholder:"Descreva a queixa principal que motivou o atendimento",rows:"3",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ".concat(b.main_complaint?"border-red-500":"border-gray-300")}),b.main_complaint&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.main_complaint})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Objetivos Gerais do Tratamento"}),(0,qe.jsx)("textarea",{value:d.treatment_objectives,onChange:e=>u((t=>(0,Ie.A)((0,Ie.A)({},t),{},{treatment_objectives:e.target.value}))),placeholder:"Descreva os objetivos gerais e metas do tratamento",rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),(0,qe.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-2 text-blue-500"}),"Per\xedodo para An\xe1lise"]}),(0,qe.jsxs)("select",{value:y.period_type,onChange:e=>w((t=>(0,Ie.A)((0,Ie.A)({},t),{},{period_type:e.target.value,start_date:"",end_date:""}))),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"last_30_days",children:"\xdaltimos 30 dias"}),(0,qe.jsx)("option",{value:"last_60_days",children:"\xdaltimos 60 dias"}),(0,qe.jsx)("option",{value:"last_90_days",children:"\xdaltimos 90 dias"}),(0,qe.jsx)("option",{value:"custom",children:"Per\xedodo personalizado"})]})]}),"custom"===y.period_type&&(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de In\xedcio"}),(0,qe.jsx)("input",{type:"date",value:y.start_date,onChange:e=>w((t=>(0,Ie.A)((0,Ie.A)({},t),{},{start_date:e.target.value}))),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Fim"}),(0,qe.jsx)("input",{type:"date",value:y.end_date,onChange:e=>w((t=>(0,Ie.A)((0,Ie.A)({},t),{},{end_date:e.target.value}))),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)(za,{icon:Xa,className:"text-blue-600 mt-1"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-blue-800",children:"An\xe1lise Baseada em Per\xedodo"}),(0,qe.jsx)("p",{className:"text-blue-700 text-sm",children:"O relat\xf3rio incluir\xe1 apenas sess\xf5es realizadas no per\xedodo selecionado. Per\xedodos maiores fornecem an\xe1lises mais abrangentes."})]})]})})]}),(0,qe.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)(za,{icon:Qi,className:"text-green-600 mt-1"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-green-800",children:"Dados Reutiliz\xe1veis"}),(0,qe.jsx)("p",{className:"text-green-700 text-sm",children:"Essas informa\xe7\xf5es ser\xe3o salvas e reutilizadas automaticamente nos pr\xf3ximos relat\xf3rios deste paciente."})]})]})})]})]}),(0,qe.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between",children:[(0,qe.jsx)("div",{children:2===m&&g&&(0,qe.jsx)("button",{onClick:()=>{2===m&&g&&p(1)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Voltar"})}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:n,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,qe.jsx)("button",{onClick:async()=>{if(1===m)(()=>{const e={};return l.professional_id.trim()||(e.professional_id="Registro profissional \xe9 obrigat\xf3rio"),l.qualifications.trim()||(e.qualifications="Qualifica\xe7\xf5es s\xe3o obrigat\xf3rias"),v(e),0===Object.keys(e).length})()&&p(2);else if((()=>{const e={};return d.guardian_name.trim()||(e.guardian_name="Nome do respons\xe1vel \xe9 obrigat\xf3rio"),d.guardian_relationship.trim()||(e.guardian_relationship="Rela\xe7\xe3o \xe9 obrigat\xf3ria"),d.main_complaint.trim()||(e.main_complaint="Queixa principal \xe9 obrigat\xf3ria"),v(e),0===Object.keys(e).length})()){f(!0);try{await a({professionalData:l,patientData:d,needsProfessionalData:g,periodOptions:y})}catch(e){console.error("Erro ao processar dados:",e)}finally{f(!1)}}},disabled:h,className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 flex items-center space-x-2",children:h?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}),(0,qe.jsx)("span",{children:"Processando..."})]}):(0,qe.jsx)("span",{children:2===m?"Gerar Relat\xf3rio":"Continuar"})})]})]})]})}):null},Xg=e=>{if(!e)return"N\xe3o informado";try{return new Date(e).toLocaleDateString("pt-BR")}catch(t){return"Data inv\xe1lida"}},$g=e=>{var t,n,a,s,i,o,l,c,d,u,h;let{isOpen:f,onClose:m,reportData:p,analysisData:g,patientData:x,professionalData:b,onEditSection:v,customizations:y={},onUpdateCustomizations:w}=e;const[N,j]=(0,r.useState)(null),[_,S]=(0,r.useState)({}),[k,C]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{S(y)}),[y]),!f)return null;const A=e=>{j(e)},P=e=>{w((0,Ie.A)((0,Ie.A)({},y),{},{[e]:_[e]})),j(null)},L=()=>{S(y),j(null)},E=async()=>{C(!0);try{await(async e=>{const{reportData:t,analysisData:n,patientData:r,professionalData:a,customizations:s={}}=e;if(t&&n)try{var i,o,l,c,d;const e=new jo.default({orientation:"portrait",unit:"mm",format:"a4"}),y=15,w=e.internal.pageSize.getWidth(),N=w-2*y;let j=y+10,_=1;const S=t=>{e.setFontSize(8),e.setTextColor(100);const n="P\xe1gina ".concat(t);e.text(n,w/2,e.internal.pageSize.getHeight()-y/2,{align:"center"}),e.text("Gerado em: ".concat(cp((new Date).toISOString())),y,e.internal.pageSize.getHeight()-y/2),e.text("Relat\xf3rio Profissional Detalhado",w-y,e.internal.pageSize.getHeight()-y/2,{align:"right"}),e.setTextColor(0)},k=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t>e.internal.pageSize.getHeight()-y-n-10){const t=e.internal.getFontSize(),n=e.internal.getFont(),a=e.internal.getTextColor();return S(_),e.addPage(),_++,r&&(e.setFontSize(t),e.setFont(n.fontName,n.fontStyle),e.setTextColor(a)),y+10}return t},C=function(t,n,r,a){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;if(!t)return r;const i=e.splitTextToSize(t,a);let o=r;for(let l=0;l<i.length;l++)o=k(o,s+5,!0),e.text(i[l],n,o),o+=s;return o};e.setFontSize(18),e.setFont("helvetica","bold"),e.text("RELAT\xd3RIO DE EVOLU\xc7\xc3O TERAP\xcaUTICA",w/2,j,{align:"center"}),j+=6,e.setFontSize(14),e.text("AN\xc1LISE COMPORTAMENTAL",w/2,j,{align:"center"}),j+=10,(t.clinic_name||a.professional_name)&&(e.setFontSize(10),e.setFont("helvetica","normal"),t.clinic_name&&(e.text("Cl\xednica: ".concat(t.clinic_name),w/2,j,{align:"center"}),j+=5),a.professional_name&&(e.text("Profissional: ".concat(a.professional_name),w/2,j,{align:"center"}),j+=5,a.professional_id&&(e.text("".concat(a.professional_id),w/2,j,{align:"center"}),j+=6))),j+=5,e.setLineWidth(.5),e.line(y,j,w-y,j),j+=10,j=k(j,25),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("1. IDENTIFICA\xc7\xc3O DO USU\xc1RIO",y,j),j+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Nome: ".concat(t.name),y,j),j+=5,e.text("Data de Nascimento: ".concat(cp(t.dob)),y,j),e.text("Idade: ".concat(t.dob?Math.floor((new Date-new Date(t.dob))/315576e5):"N/A"," anos"),w-y-40,j),j+=5,e.text("Diagn\xf3stico: ".concat(t.diagnosis||"N\xe3o informado"),y,j),j+=5,r.guardian_name&&(e.text("Respons\xe1vel: ".concat(r.guardian_name," (").concat(r.guardian_relationship,")"),y,j),j+=5),r.patient_occupation&&(e.text("Ocupa\xe7\xe3o: ".concat(r.patient_occupation),y,j),j+=5),j+=5,j=k(j,20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("2. DESCRI\xc7\xc3O DA DEMANDA",y,j),j+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setFont("helvetica","bold"),e.text("Queixa Principal:",y,j),j+=5,e.setFont("helvetica","normal");const A=(null===(i=s.demand)||void 0===i?void 0:i.main_complaint)||r.main_complaint||"N\xe3o informado";j=C(A,y,j,N),j+=5,e.setFont("helvetica","bold"),e.text("Objetivos do Tratamento:",y,j),j+=5,e.setFont("helvetica","normal");const P=(null===(o=s.demand)||void 0===o?void 0:o.treatment_objectives)||r.treatment_objectives||"A serem definidos com base na avalia\xe7\xe3o inicial";if(j=C(P,y,j,N),j+=8,j=k(j,20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("3. OBJETIVOS ESPEC\xcdFICOS DOS PROGRAMAS",y,j),j+=8,t.active_programs&&t.active_programs.length>0){e.setFontSize(10),e.setFont("helvetica","normal");const n=t.active_programs.reduce(((e,t)=>(e[t.discipline_name]||(e[t.discipline_name]=[]),e[t.discipline_name].push(t),e)),{});Object.keys(n).sort().forEach((t=>{j=k(j,15),e.setFont("helvetica","bold"),e.text("".concat(t,":"),y,j),j+=5,n[t].forEach((t=>{j=k(j,10),e.setFont("helvetica","normal"),e.text("\u2022 ".concat(t.program_name),y+5,j),j+=4,t.objective&&(e.setFont("helvetica","italic"),j=C("Objetivo: ".concat(t.objective),y+10,j,N-10,4),j+=2)})),j+=3}))}else e.setFont("helvetica","italic"),e.text("Nenhum programa ativo no per\xedodo analisado.",y,j),j+=5;if(j+=5,j=k(j,20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("4. REGISTRO DA EVOLU\xc7\xc3O DAS SESS\xd5ES",y,j),j+=8,e.setFontSize(10),e.setFont("helvetica","normal"),n.period&&(e.text("Per\xedodo analisado: ".concat(cp(n.period.start_date)," a ").concat(cp(n.period.end_date)),y,j),j+=5),n.statistics){const t=n.statistics;e.setFont("helvetica","normal"),e.text("\u2022 Total de sess\xf5es realizadas: ".concat(t.total_sessions),y+3,j),j+=5,e.text("\u2022 Programas trabalhados: ".concat(t.programs_worked),y+3,j),j+=5,e.text("\u2022 M\xe9dia geral de acertos: ".concat(t.avg_score.toFixed(1),"%"),y+3,j),j+=5,e.text("\u2022 N\xedvel de independ\xeancia: ".concat(t.independence_percentage.toFixed(1),"%"),y+3,j),j+=5;let r="\u2022 Tend\xeancia: ";switch(t.improvement_trend){case"significant_improvement":r+="Melhoria significativa observada";break;case"moderate_improvement":r+="Melhoria gradual observada";break;case"stable":r+="Desempenho est\xe1vel mantido";break;case"moderate_decline":r+="Decl\xednio moderado observado";break;case"significant_decline":r+="Decl\xednio significativo observado";break;default:r+="Dados insuficientes para an\xe1lise de tend\xeancia"}e.text(r,y+3,j),j+=7}if(n.frequent_observations&&n.frequent_observations.length>0&&(j=k(j,15),e.setFont("helvetica","bold"),e.text("Observa\xe7\xf5es Registradas nas Sess\xf5es:",y,j),j+=5,e.setFont("helvetica","normal"),n.frequent_observations.slice(0,8).forEach((t=>{j=k(j,8),e.text('\u2022 "'.concat(t.note,'" (observado em ').concat(t.frequency," sess\xe3o").concat(t.frequency>1?"\xf5es":"",")"),y+3,j),j+=5})),j+=3),n.area_performance&&n.area_performance.length>0&&(j=k(j,15),e.setFont("helvetica","bold"),e.text("Desempenho por \xc1rea de Interven\xe7\xe3o:",y,j),j+=5,e.setFont("helvetica","normal"),n.area_performance.forEach((t=>{j=k(j,8),e.text("\u2022 ".concat(t.area_name,": ").concat(t.avg_score.toFixed(1),"% (").concat(t.session_count," sess\xf5es)"),y+3,j),j+=5})),j+=6),j=k(j,20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("5. AN\xc1LISE E INTERPRETA\xc7\xc3O",y,j),j+=8,e.setFontSize(10),e.setFont("helvetica","normal"),null!==(l=s.analysis)&&void 0!==l&&l.clinical_interpretation?j=C(s.analysis.clinical_interpretation,y,j,N):n.insights&&n.insights.length>0?(e.text("Com base nos dados coletados e na an\xe1lise comportamental, observa-se:",y,j),j+=6,n.insights.forEach((t=>{j=k(j,8),e.text("\u2022 ".concat(t.text),y+3,j),j+=6}))):(e.text("An\xe1lise em desenvolvimento com base nos dados coletados.",y,j),j+=5),j+=8,j=k(j,20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("6. CONCLUS\xc3O E ENCAMINHAMENTOS",y,j),j+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setFont("helvetica","bold"),e.text("S\xedntese do Per\xedodo:",y,j),j+=5,e.setFont("helvetica","normal"),null!==(c=s.conclusions)&&void 0!==c&&c.summary)j=C(s.conclusions.summary,y,j,N);else{var u,h,f,m,p,g;const e="Durante o per\xedodo analisado, foram realizadas ".concat((null===(u=n.statistics)||void 0===u?void 0:u.total_sessions)||0," sess\xf5es terap\xeauticas abrangendo ").concat((null===(h=n.statistics)||void 0===h?void 0:h.programs_worked)||0," programa(s) de interven\xe7\xe3o. O desempenho m\xe9dio apresentado foi de ").concat((null===(f=n.statistics)||void 0===f||null===(m=f.avg_score)||void 0===m?void 0:m.toFixed(1))||0,"% de acertos, com ").concat((null===(p=n.statistics)||void 0===p||null===(g=p.independence_percentage)||void 0===g?void 0:g.toFixed(1))||0,"% das respostas em n\xedvel independente.");j=C(e,y,j,N)}if(j+=6,e.setFont("helvetica","bold"),e.text("Recomenda\xe7\xf5es:",y,j),j+=5,e.setFont("helvetica","normal"),null!==(d=s.conclusions)&&void 0!==d&&d.recommendations)j=C(s.conclusions.recommendations,y,j,N);else{var x,b,v;let e="Recomenda-se continuidade do programa de interven\xe7\xe3o com ";"significant_improvement"===(null===(x=n.statistics)||void 0===x?void 0:x.improvement_trend)||"moderate_improvement"===(null===(b=n.statistics)||void 0===b?void 0:b.improvement_trend)?e+="manuten\xe7\xe3o das estrat\xe9gias atuais e considera\xe7\xe3o de aumento da complexidade dos objetivos trabalhados.":"stable"===(null===(v=n.statistics)||void 0===v?void 0:v.improvement_trend)?e+="revis\xe3o das estrat\xe9gias para promover maior avan\xe7o no desenvolvimento das habilidades.":e+="revis\xe3o criteriosa dos procedimentos e estrat\xe9gias utilizadas, bem como investiga\xe7\xe3o de poss\xedveis vari\xe1veis interferentes.",j=C(e,y,j,N)}j+=10,j=k(j,25),e.setLineWidth(.3),e.line(w-y-60,j,w-y,j),j+=5,e.setFontSize(9),e.setFont("helvetica","normal"),e.text(a.professional_name||"Profissional Respons\xe1vel",w-y-30,j,{align:"center"}),j+=3,e.text(a.professional_id||"Registro Profissional",w-y-30,j,{align:"center"}),a.qualifications&&(j+=3,e.splitTextToSize(a.qualifications,60).forEach((t=>{e.text(t,w-y-30,j,{align:"center"}),j+=3}))),S(_);const L="Relatorio_Evolucao_Terapeutica_".concat(t.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".pdf");e.save(L)}catch(y){console.error("Erro ao gerar Relat\xf3rio de Evolu\xe7\xe3o Terap\xeautica:",y),alert("Erro ao gerar o Relat\xf3rio de Evolu\xe7\xe3o Terap\xeautica. Tente novamente.")}else alert("Dados insuficientes para gerar o relat\xf3rio.")})({reportData:p,analysisData:g,patientData:x,professionalData:b,customizations:y})}catch(e){console.error("Erro ao gerar PDF:",e),alert("Erro ao gerar PDF. Tente novamente.")}finally{C(!1)}},M=e=>{switch(e){case"positive":return{icon:Es,color:"text-green-600"};case"attention":return{icon:eo,color:"text-yellow-600"};default:return{icon:ii,color:"text-blue-600"}}};return(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 flex justify-between items-center",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Preview - Relat\xf3rio de Evolu\xe7\xe3o Terap\xeautica"}),(0,qe.jsxs)("p",{className:"text-indigo-100 text-sm",children:[null===p||void 0===p?void 0:p.name," \u2022 Revise e personalize antes de gerar o PDF"]})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:E,disabled:k,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-all disabled:opacity-50 flex items-center space-x-2",children:k?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}),(0,qe.jsx)("span",{children:"Gerando..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:ei}),(0,qe.jsx)("span",{children:"Gerar PDF"})]})}),(0,qe.jsx)("button",{onClick:m,className:"text-white hover:text-indigo-200 transition-colors text-xl",children:(0,qe.jsx)(za,{icon:Ei})})]})]}),(0,qe.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:xs,className:"text-indigo-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"1. Identifica\xe7\xe3o do Usu\xe1rio"})]}),(0,qe.jsx)("button",{onClick:()=>A("identification"),className:"text-indigo-600 hover:text-indigo-800 transition-colors",children:(0,qe.jsx)(za,{icon:us})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Nome:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:null===p||void 0===p?void 0:p.name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Data de Nascimento:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:Xg(null===p||void 0===p?void 0:p.dob)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Diagn\xf3stico:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:(null===p||void 0===p?void 0:p.diagnosis)||"N\xe3o informado"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Ocupa\xe7\xe3o:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:(null===x||void 0===x?void 0:x.patient_occupation)||"N\xe3o informado"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Respons\xe1vel:"}),(0,qe.jsxs)("p",{className:"text-gray-800",children:[null===x||void 0===x?void 0:x.guardian_name," (",null===x||void 0===x?void 0:x.guardian_relationship,")"]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:ps,className:"text-blue-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"2. Descri\xe7\xe3o da Demanda"})]}),(0,qe.jsx)("button",{onClick:()=>A("demand"),className:"text-blue-600 hover:text-blue-800 transition-colors",children:(0,qe.jsx)(za,{icon:us})})]}),"demand"===N?(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Queixa Principal:"}),(0,qe.jsx)("textarea",{value:(null===(t=_.demand)||void 0===t?void 0:t.main_complaint)||(null===x||void 0===x?void 0:x.main_complaint)||"",onChange:e=>S((t=>(0,Ie.A)((0,Ie.A)({},t),{},{demand:(0,Ie.A)((0,Ie.A)({},t.demand),{},{main_complaint:e.target.value})}))),className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:"3"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objetivos do Tratamento:"}),(0,qe.jsx)("textarea",{value:(null===(n=_.demand)||void 0===n?void 0:n.treatment_objectives)||(null===x||void 0===x?void 0:x.treatment_objectives)||"",onChange:e=>S((t=>(0,Ie.A)((0,Ie.A)({},t),{},{demand:(0,Ie.A)((0,Ie.A)({},t.demand),{},{treatment_objectives:e.target.value})}))),className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:"3"})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>P("demand"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Qi}),(0,qe.jsx)("span",{children:"Salvar"})]}),(0,qe.jsx)("button",{onClick:L,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}):(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Queixa Principal:"}),(0,qe.jsx)("p",{className:"text-gray-800 mt-1",children:(null===(a=y.demand)||void 0===a?void 0:a.main_complaint)||(null===x||void 0===x?void 0:x.main_complaint)||"N\xe3o informado"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Objetivos do Tratamento:"}),(0,qe.jsx)("p",{className:"text-gray-800 mt-1",children:(null===(s=y.demand)||void 0===s?void 0:s.treatment_objectives)||(null===x||void 0===x?void 0:x.treatment_objectives)||"N\xe3o informado"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:Us,className:"text-purple-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"3. Registro da Evolu\xe7\xe3o das Sess\xf5es"})]}),(0,qe.jsx)("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:"Dados objetivos - N\xe3o edit\xe1vel"})]}),(null===g||void 0===g?void 0:g.statistics)&&(0,qe.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:g.statistics.total_sessions}),(0,qe.jsx)("div",{className:"text-gray-600",children:"Sess\xf5es Realizadas"})]}),(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[g.statistics.avg_score.toFixed(1),"%"]}),(0,qe.jsx)("div",{className:"text-gray-600",children:"M\xe9dia de Acertos"})]}),(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[g.statistics.independence_percentage.toFixed(1),"%"]}),(0,qe.jsx)("div",{className:"text-gray-600",children:"Independ\xeancia"})]})]}),(null===g||void 0===g?void 0:g.frequent_observations)&&g.frequent_observations.length>0&&(0,qe.jsxs)("div",{className:"mt-4",children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Observa\xe7\xf5es Mais Frequentes:"}),(0,qe.jsx)("ul",{className:"space-y-1 text-sm",children:g.frequent_observations.slice(0,5).map(((e,t)=>(0,qe.jsxs)("li",{className:"flex justify-between",children:[(0,qe.jsxs)("span",{className:"text-gray-800",children:['"',e.note,'"']}),(0,qe.jsxs)("span",{className:"text-gray-500",children:["(",e.frequency,"x)"]})]},t)))})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:is,className:"text-yellow-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"4. An\xe1lise"})]}),(0,qe.jsx)("button",{onClick:()=>A("analysis"),className:"text-yellow-600 hover:text-yellow-800 transition-colors",children:(0,qe.jsx)(za,{icon:us})})]}),"analysis"===N?(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"An\xe1lise Comportamental:"}),(0,qe.jsx)("textarea",{value:(null===(i=_.analysis)||void 0===i?void 0:i.clinical_interpretation)||"",onChange:e=>S((t=>(0,Ie.A)((0,Ie.A)({},t),{},{analysis:(0,Ie.A)((0,Ie.A)({},t.analysis),{},{clinical_interpretation:e.target.value})}))),placeholder:"Interpreta\xe7\xe3o dos dados baseada nos princ\xedpios da An\xe1lise do Comportamento...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:"5"})]}),(null===g||void 0===g?void 0:g.insights)&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 mb-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)("span",{className:"text-amber-600 mt-0.5 flex-shrink-0",children:"\u26a0\ufe0f"}),(0,qe.jsxs)("div",{className:"text-xs text-amber-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Responsabilidade Profissional:"}),(0,qe.jsxs)("p",{children:["Os insights abaixo s\xe3o ",(0,qe.jsx)("strong",{children:"sugest\xf5es autom\xe1ticas baseadas apenas em dados quantitativos"}),". \xc9 ",(0,qe.jsx)("strong",{children:"imprescind\xedvel"})," que voc\xea analise, adapte e complemente com sua expertise cl\xednica, considerando aspectos comportamentais e contextuais espec\xedficos do caso."]})]})]})}),(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insights Sugeridos (clique para adicionar):"}),(0,qe.jsx)("div",{className:"space-y-2",children:g.insights.map(((e,t)=>{const{icon:n,color:r}=M(e.type);return(0,qe.jsx)("button",{onClick:()=>{var t;const n=(null===(t=_.analysis)||void 0===t?void 0:t.clinical_interpretation)||"",r=n?"".concat(n,"\n\n\u2022 ").concat(e.text):"\u2022 ".concat(e.text);S((e=>(0,Ie.A)((0,Ie.A)({},e),{},{analysis:(0,Ie.A)((0,Ie.A)({},e.analysis),{},{clinical_interpretation:r})})))},className:"w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)(za,{icon:n,className:"".concat(r," mt-1")}),(0,qe.jsx)("span",{className:"text-sm text-gray-800",children:e.text})]})},t)}))})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>P("analysis"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Qi}),(0,qe.jsx)("span",{children:"Salvar"})]}),(0,qe.jsx)("button",{onClick:L,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}):(0,qe.jsxs)("div",{className:"space-y-4",children:[null!==(o=y.analysis)&&void 0!==o&&o.clinical_interpretation?(0,qe.jsx)("div",{children:(0,qe.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:y.analysis.clinical_interpretation})}):(0,qe.jsx)("div",{className:"text-gray-500 italic",children:'Clique em "Editar" para adicionar sua interpreta\xe7\xe3o cl\xednica baseada nos dados apresentados.'}),(null===g||void 0===g?void 0:g.insights)&&!(null!==(l=y.analysis)&&void 0!==l&&l.clinical_interpretation)&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 mb-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)("span",{className:"text-amber-600 mt-0.5 flex-shrink-0",children:"\u26a0\ufe0f"}),(0,qe.jsxs)("div",{className:"text-xs text-amber-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Insights Autom\xe1ticos Dispon\xedveis:"}),(0,qe.jsxs)("p",{children:["Estes insights s\xe3o baseados ",(0,qe.jsx)("strong",{children:"apenas em m\xe9tricas quantitativas"}),'. Clique em "Editar" para adicionar sua interpreta\xe7\xe3o cl\xednica profissional.']})]})]})}),(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Sugest\xf5es Baseadas em Dados:"}),(0,qe.jsx)("div",{className:"space-y-2",children:g.insights.map(((e,t)=>{const{icon:n,color:r}=M(e.type);return(0,qe.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200",children:[(0,qe.jsx)(za,{icon:n,className:"".concat(r," mt-1")}),(0,qe.jsx)("span",{className:"text-sm text-gray-800",children:e.text})]},t)}))})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:es,className:"text-green-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"5. Conclus\xe3o e Encaminhamentos"})]}),(0,qe.jsx)("button",{onClick:()=>A("conclusions"),className:"text-green-600 hover:text-green-800 transition-colors",children:(0,qe.jsx)(za,{icon:us})})]}),"conclusions"===N?(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S\xedntese e Conclus\xf5es:"}),(0,qe.jsx)("textarea",{value:(null===(c=_.conclusions)||void 0===c?void 0:c.summary)||"",onChange:e=>S((t=>(0,Ie.A)((0,Ie.A)({},t),{},{conclusions:(0,Ie.A)((0,Ie.A)({},t.conclusions),{},{summary:e.target.value})}))),placeholder:"S\xedntese do trabalho realizado e resultados alcan\xe7ados...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:"4"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recomenda\xe7\xf5es e Encaminhamentos:"}),(0,qe.jsx)("textarea",{value:(null===(d=_.conclusions)||void 0===d?void 0:d.recommendations)||"",onChange:e=>S((t=>(0,Ie.A)((0,Ie.A)({},t),{},{conclusions:(0,Ie.A)((0,Ie.A)({},t.conclusions),{},{recommendations:e.target.value})}))),placeholder:"Recomenda\xe7\xf5es para continuidade do tratamento e pr\xf3ximos passos...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:"4"})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>P("conclusions"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Qi}),(0,qe.jsx)("span",{children:"Salvar"})]}),(0,qe.jsx)("button",{onClick:L,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}):(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"S\xedntese:"}),(0,qe.jsx)("p",{className:"text-gray-800 mt-1",children:(null===(u=y.conclusions)||void 0===u?void 0:u.summary)||'Clique em "Editar" para adicionar s\xedntese do per\xedodo.'})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Recomenda\xe7\xf5es:"}),(0,qe.jsx)("p",{className:"text-gray-800 mt-1",children:(null===(h=y.conclusions)||void 0===h?void 0:h.recommendations)||'Clique em "Editar" para adicionar recomenda\xe7\xf5es.'})]})]})]}),(0,qe.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,qe.jsx)(za,{icon:ai,className:"text-indigo-600"}),(0,qe.jsx)("h4",{className:"font-medium text-indigo-800",children:"Dados Profissionais"})]}),(0,qe.jsxs)("div",{className:"text-sm text-indigo-700",children:[(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Profissional:"})," ",null===b||void 0===b?void 0:b.professional_name]}),(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Registro:"})," ",null===b||void 0===b?void 0:b.professional_id]}),(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Qualifica\xe7\xf5es:"})," ",null===b||void 0===b?void 0:b.qualifications]})]})]})]}),(0,qe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,qe.jsx)("div",{className:"text-sm text-gray-600",children:"Preview do relat\xf3rio \u2022 Todas as edi\xe7\xf5es ser\xe3o inclu\xeddas no PDF final"}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:m,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar Preview"}),(0,qe.jsx)("button",{onClick:E,disabled:k,className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 flex items-center space-x-2",children:k?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}),(0,qe.jsx)("span",{children:"Gerando PDF..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:ei}),(0,qe.jsx)("span",{children:"Gerar PDF Final"})]})})]})]})]})})},Kg=async e=>{const t=localStorage.getItem("token"),n=await fetch("".concat(ot.H,"/reports/professional-data"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json().catch((()=>({})));throw new Error(e.error||"Erro ao atualizar dados profissionais")}return n.json()},Jg=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=localStorage.getItem("token"),r=new URLSearchParams;t.startDate&&r.append("startDate",t.startDate),t.endDate&&r.append("endDate",t.endDate),t.programIds&&t.programIds.length>0&&r.append("programIds",t.programIds.join(","));const a=await fetch("".concat(ot.H,"/reports/automatic-analysis/").concat(e,"?").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(!a.ok){const e=await a.json().catch((()=>({})));throw new Error(e.error||"Erro ao gerar an\xe1lise autom\xe1tica")}return a.json()},Qg=e=>{let{patient:t,isOpen:n,onClose:a}=e;const{user:s}=He(),[i,o]=(0,r.useState)("config"),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),[b,v]=(0,r.useState)({});return n?(0,qe.jsxs)(qe.Fragment,{children:["config"===i&&(0,qe.jsx)(Gg,{isOpen:!0,onClose:a,onContinue:async e=>{c(!0);try{const{professionalData:n,patientData:r,needsProfessionalData:a,periodOptions:i}=e;a&&n?(await Kg(n),x({professional_name:(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.full_name),professional_id:n.professional_id,qualifications:n.qualifications,professional_signature:n.professional_signature})):x({professional_name:(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.full_name),professional_id:null===s||void 0===s?void 0:s.professional_id,qualifications:null===s||void 0===s?void 0:s.qualifications,professional_signature:null===s||void 0===s?void 0:s.professional_signature}),await(async(e,t)=>{const n=localStorage.getItem("token"),r=await fetch("".concat(ot.H,"/reports/patient-data/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.error||"Erro ao atualizar dados do paciente")}return r.json()})(t.id,r),p(r);const l=await(async e=>{const t=localStorage.getItem("token"),n=await fetch("".concat(ot.H,"/reports/evolution-data/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!n.ok){const e=await n.json().catch((()=>({})));throw new Error(e.error||"Erro ao buscar dados do relat\xf3rio")}return n.json()})(t.id);u(l);const c=(e=>{const t=new Date;let n,r;switch(e.period_type){case"last_30_days":default:n=new Date(t),n.setDate(t.getDate()-30),r=t;break;case"last_60_days":n=new Date(t),n.setDate(t.getDate()-60),r=t;break;case"last_90_days":n=new Date(t),n.setDate(t.getDate()-90),r=t;break;case"custom":n=e.start_date?new Date(e.start_date):null,r=e.end_date?new Date(e.end_date):null}return{startDate:n?n.toISOString().split("T")[0]:null,endDate:r?r.toISOString().split("T")[0]:null}})(i),d=await Jg(t.id,c);f(d),o("preview")}catch(n){console.error("Erro ao processar configura\xe7\xe3o:",n),alert("Erro ao processar dados. Tente novamente.")}finally{c(!1)}},patient:t,currentUser:s,isLoading:l}),"preview"===i&&(0,qe.jsx)($g,{isOpen:!0,onClose:()=>{o("config"),u(null),f(null),a()},reportData:d,analysisData:h,patientData:m,professionalData:g,customizations:b,onUpdateCustomizations:e=>{v(e)}})]}):null},Zg=e=>{if(!e)return"N\xe3o informado";try{const t=new Date(e),n=6e4*t.getTimezoneOffset();return new Date(t.getTime()+n).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return e.split("T")[0]||"Data inv\xe1lida"}},ex=e=>{let{icon:t,label:n,value:r,colorClass:a="indigo"}=e;const s={indigo:{bg:"bg-indigo-100",border:"border-indigo-200",icon:"text-indigo-600",text:"text-indigo-800"},purple:{bg:"bg-purple-100",border:"border-purple-200",icon:"text-purple-600",text:"text-purple-800"},blue:{bg:"bg-blue-100",border:"border-blue-200",icon:"text-blue-600",text:"text-blue-800"}},i=s[a]||s.indigo;return(0,qe.jsxs)("div",{className:"".concat(i.bg," ").concat(i.border," border-l-4 p-4 rounded-r-lg"),children:[(0,qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,qe.jsx)(za,{icon:t,className:"mr-3 ".concat(i.icon)}),(0,qe.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:n})]}),(0,qe.jsx)("p",{className:"text-sm ".concat(i.text," font-medium"),children:r||"N\xe3o informado"})]})},tx=e=>{let{icon:t,title:n,description:r,onClick:a,disabled:s,colorClass:i="gray"}=e;const o={red:{bg:"bg-gradient-to-br from-red-50 to-red-100",hover:"hover:from-red-100 hover:to-red-200",border:"border-red-200",icon:"text-red-600"},blue:{bg:"bg-gradient-to-br from-blue-50 to-blue-100",hover:"hover:from-blue-100 hover:to-blue-200",border:"border-blue-200",icon:"text-blue-600"},green:{bg:"bg-gradient-to-br from-green-50 to-green-100",hover:"hover:from-green-100 hover:to-green-200",border:"border-green-200",icon:"text-green-600"},purple:{bg:"bg-gradient-to-br from-purple-50 to-purple-100",hover:"hover:from-purple-100 hover:to-purple-200",border:"border-purple-200",icon:"text-purple-600"},gray:{bg:"bg-gradient-to-br from-gray-50 to-gray-100",hover:"hover:from-gray-100 hover:to-gray-200",border:"border-gray-200",icon:"text-gray-600"}},l=o[i]||o.gray;return(0,qe.jsxs)("button",{onClick:a,disabled:s,className:"text-left p-4 flex items-start space-x-4 ".concat(l.bg," ").concat(l.hover," rounded-lg border-2 ").concat(l.border," w-full transition-all duration-200 disabled:opacity-50 disabled:cursor-wait transform hover:scale-105 shadow-sm hover:shadow-md"),children:[(0,qe.jsx)("div",{className:"bg-white p-3 rounded-full shadow-sm",children:(0,qe.jsx)(za,{icon:t,className:"text-lg ".concat(l.icon)})}),(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("h5",{className:"font-semibold text-sm text-gray-800 mb-1",children:n}),(0,qe.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:r})]})]})},nx=()=>{const{selectedPatient:e,openPatientForm:t,removePatient:a,openReportModal:s}=rt(),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1);if(!e)return(0,qe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Nenhum Cliente Selecionado"}),(0,qe.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Por favor, selecione um cliente na lista \xe0 esquerda para ver os detalhes."})]});return(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex flex-col",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-6",children:(0,qe.jsxs)("div",{className:"flex justify-between items-start",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:e.name}),(0,qe.jsx)("div",{className:"flex items-center space-x-4",children:(0,qe.jsxs)("span",{className:"text-indigo-100 text-sm font-mono bg-white bg-opacity-20 px-3 py-1 rounded-full",children:["ID: ",e.id]})})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:()=>t(e),className:"p-3 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition-all text-white transform hover:scale-105",title:"Editar Cliente",children:(0,qe.jsx)(za,{icon:us})}),(0,qe.jsx)("button",{onClick:()=>a(e.id),className:"p-3 rounded-full bg-red-500 bg-opacity-80 hover:bg-opacity-100 transition-all text-white transform hover:scale-105",title:"Excluir Cliente",children:(0,qe.jsx)(za,{icon:Ua})})]})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4 pb-2 border-b border-gray-200",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\ud83d\udccb Informa\xe7\xf5es B\xe1sicas"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsx)(ex,{icon:Xa,label:"Data de Nascimento",value:Zg(e.dob),colorClass:"indigo"}),(0,qe.jsx)(ex,{icon:ps,label:"Diagn\xf3stico",value:e.diagnosis,colorClass:"purple"})]})]}),e.general_notes&&(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4 pb-2 border-b border-gray-200",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\ud83d\udcdd Anota\xe7\xf5es Gerais"})]}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:(0,qe.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.general_notes})})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4 pb-2 border-b border-gray-200",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\ud83d\udcac Comunica\xe7\xe3o"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 p-4 rounded-lg",children:[(0,qe.jsxs)("button",{onClick:()=>{o(!1),c((e=>!e))},className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg shadow-sm hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105",children:[(0,qe.jsx)(za,{icon:hs,className:"mr-2"}),(0,qe.jsx)("span",{className:"font-medium text-sm",children:"Discuss\xe3o de Caso"})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-600 mt-2 text-center leading-relaxed",children:l?"\u2705 Chat da equipe aberto":"Chat interno entre terapeutas"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 p-4 rounded-lg",children:[(0,qe.jsxs)("button",{onClick:()=>{c(!1),o((e=>!e))},className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg shadow-sm hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-105",children:[(0,qe.jsx)(za,{icon:Za,className:"mr-2"}),(0,qe.jsx)("span",{className:"font-medium text-sm",children:"Comunica\xe7\xe3o com os Pais"})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-600 mt-2 text-center leading-relaxed",children:i?"\u2705 Chat com pais aberto":"Comunica\xe7\xe3o com respons\xe1veis"})]})]})]}),l&&(0,qe.jsx)("div",{className:"my-5 animate-fade-in max-w-4xl mx-auto w-full",children:(0,qe.jsx)(Yg,{patientId:e.id,patientName:e.name})}),i&&(0,qe.jsx)("div",{className:"my-5 animate-fade-in max-w-4xl mx-auto w-full",children:(0,qe.jsx)(Bg,{patientId:e.id,patientName:e.name})}),(0,qe.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4 pb-2 border-b border-gray-200",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\ud83d\udcc4 Documentos e Relat\xf3rios"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,qe.jsx)(tx,{icon:ei,title:"Grade de Programas",description:"Gera um PDF detalhado com a lista dos programas atribu\xeddos ao cliente.",onClick:()=>(async e=>{if(e)try{const{getPatientProgramsGrade:t}=await Promise.resolve().then(n.bind(n,1487)),r=await t(e.id);if(0===Object.keys(r).length)return void alert("Nenhum programa ativo para gerar a Grade.");const a=new jo.default({orientation:"portrait",unit:"mm",format:"a4"}),s=15,i=a.internal.pageSize.getWidth(),o=i-2*s;let l=s+10,c=1;const d=e=>{a.setFontSize(8),a.setTextColor(100);const t="P\xe1gina ".concat(e);a.text(t,i/2,a.internal.pageSize.getHeight()-s/2,{align:"center"}),a.text("Gerado em: ".concat(cp((new Date).toISOString())),s,a.internal.pageSize.getHeight()-s/2),a.setTextColor(0)},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e>a.internal.pageSize.getHeight()-s-t?(d(c),a.addPage(),c++,s+10):e};a.setFontSize(16),a.setFont("helvetica","bold"),a.text("Grade de Programas Ativos - ".concat(e.name),i/2,l,{align:"center"}),l+=8,a.setFontSize(10),a.setFont("helvetica","normal"),a.text("ID: ".concat(e.id),s,l),a.text("Nasc: ".concat(cp(e.dob)),i-s,l,{align:"right"}),l+=6,a.text("Diagn\xf3stico: ".concat(e.diagnosis||"N\xe3o informado"),s,l),l+=10,a.setLineWidth(.2),a.line(s,l,i-s,l),l+=8;const h=Object.keys(r).sort();for(const e of h){l=u(l,15),a.setFontSize(12),a.setFont("helvetica","bold"),a.setFillColor(240,240,240),a.rect(s,l-4,o,7,"F"),a.text(e,s+2,l),l+=8;for(const t of r[e]){l=u(l),a.setFontSize(10),a.setFont("helvetica","bold"),a.text("\u2022 ".concat(t.title," (Tag: ").concat(t.tag||"N/A",")"),s+4,l),l+=5,l=u(l),a.setFontSize(9),a.setFont("helvetica","normal");let e=a.splitTextToSize("Objetivo: ".concat(t.objective||"N\xe3o definido"),o-8);if(a.text(e,s+8,l),l+=4*e.length+2,t.criteria_for_advancement){l=u(l),a.setFont("helvetica","italic");let e=a.splitTextToSize("Crit\xe9rio de Avan\xe7o: ".concat(t.criteria_for_advancement),o-8);a.text(e,s+8,l),l+=4*e.length+2,a.setFont("helvetica","normal")}l+=5}}d(c);const f="Grade_Programas_Ativos_".concat(e.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".pdf");a.save(f)}catch(t){console.error("Erro ao gerar PDF da grade de programas:",t),alert("Erro ao gerar o PDF da grade de programas. Tente novamente.")}else alert("Nenhum cliente selecionado.")})(e),colorClass:"red"}),(0,qe.jsx)(tx,{icon:es,title:"Folha de Registro",description:"Cria uma folha de registro em branco para anota\xe7\xf5es manuais durante as sess\xf5es.",onClick:()=>(async e=>{if(e)try{const{getPatientProgramsGrade:t}=await Promise.resolve().then(n.bind(n,1487)),r=await t(e.id);if(0===Object.keys(r).length)return void alert("Nenhum programa ativo para gerar a Folha de Registro.");const a=new jo.default({orientation:"landscape",unit:"mm",format:"a4"}),s=10,i=a.internal.pageSize.getWidth();let o=s;a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Folha de Registro Semanal - ".concat(e.name),i/2,o+5,{align:"center"}),a.setFontSize(10),a.setFont("helvetica","normal"),a.text("ID: ".concat(e.id),s,o+12),a.text("Semana de: ______ / ______ / ________",i-s,o+12,{align:"right"}),o+=20;const l=Object.keys(r).sort(),c=[];l.forEach((e=>{r[e].length>0&&(c.push([{content:e,colSpan:8,styles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0],halign:"left"}}]),r[e].forEach((e=>{const t="(".concat(e.trials||"N/A"," tent.)"),n="".concat(e.title,"\n").concat(t);c.push([n,"","","","","","",""])})))})),So()(a,{startY:o,head:[["Programa","Seg","Ter","Qua","Qui","Sex","S\xe1b","Dom"]],body:c,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:[255,255,255],fontStyle:"bold",halign:"center"},columnStyles:{0:{cellWidth:80,fontStyle:"bold"},1:{cellWidth:"auto",halign:"center"},2:{cellWidth:"auto",halign:"center"},3:{cellWidth:"auto",halign:"center"},4:{cellWidth:"auto",halign:"center"},5:{cellWidth:"auto",halign:"center"},6:{cellWidth:"auto",halign:"center"},7:{cellWidth:"auto",halign:"center"}},didParseCell:function(e){8===e.cell.raw.colSpan?(e.cell.styles.fontSize=9,e.cell.styles.cellPadding=2):(e.cell.styles.fontSize=8,e.cell.styles.valign="middle")}});const d="Folha_Registro_".concat(e.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".pdf");a.save(d)}catch(t){console.error("Erro ao gerar Folha de Registro:",t),alert("Erro ao gerar a Folha de Registro. Tente novamente.")}else alert("Nenhum cliente selecionado.")})(e),colorClass:"blue"}),(0,qe.jsx)(tx,{icon:Wa,title:"Evolu\xe7\xe3o Terap\xeautica",description:"Gera relat\xf3rio de evolu\xe7\xe3o profissional detalhado com an\xe1lise do progresso do paciente.",onClick:()=>u(!0),colorClass:"green"}),(0,qe.jsx)(tx,{icon:Bs,title:"Relat\xf3rio Consolidado",description:"Gera um relat\xf3rio completo com an\xe1lise do progresso e gr\xe1ficos.",onClick:s,colorClass:"purple"})]})]})]})]}),(0,qe.jsx)(Qg,{patient:e,isOpen:d,onClose:()=>u(!1)})]})},rx=document.createElement("style");rx.textContent="\n  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n  .fade-in { animation: fadeIn 0.3s ease-out forwards; }\n  @keyframes fadeInUp { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }\n  .animate-fade-in-up { animation: fadeInUp 0.3s ease-out forwards; }\n",document.head.appendChild(rx);const ax=e=>{let{isOpen:t,onClose:n,onSave:a,patientToEdit:s}=e;const[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),b=Boolean(s);(0,r.useEffect)((()=>{b&&s?(o(s.name||""),c((e=>{if(!e)return"";try{const t=new Date(e),n=t.getUTCFullYear(),r=(t.getUTCMonth()+1).toString().padStart(2,"0"),a=t.getUTCDate().toString().padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(a)}catch(t){return""}})(s.dob)),u(s.diagnosis||""),f(s.general_notes||"")):(o(""),c(""),u(""),f(""))}),[s,b,t]);const v=async e=>{e.preventDefault(),p(!0),x("");const t={name:i,dob:l,diagnosis:d,general_notes:h};l||(t.dob=null);try{await a(t),n()}catch(ew){x(ew.message||"Ocorreu um erro ao salvar.")}finally{p(!1)}};return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 fade-in",children:(0,qe.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-up",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[(0,qe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:b?"Editar Cliente":"Adicionar Novo Cliente"}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,qe.jsx)(za,{icon:Ei,className:"text-lg"})})]}),(0,qe.jsxs)("form",{onSubmit:v,className:"p-6 space-y-6 overflow-y-auto",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{htmlFor:"patient-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Nome Completo ",(0,qe.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qe.jsx)("input",{type:"text",id:"patient-name",required:!0,value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow text-sm"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"patient-dob",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Data de Nascimento"}),(0,qe.jsx)("input",{type:"date",id:"patient-dob",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow text-sm"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"patient-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Diagn\xf3stico"}),(0,qe.jsx)("input",{type:"text",id:"patient-diagnosis",placeholder:"Ex: TEA N\xedvel 1",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow text-sm"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"patient-notes",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Anota\xe7\xf5es Gerais"}),(0,qe.jsx)("textarea",{id:"patient-notes",rows:"4",placeholder:"Informa\xe7\xf5es relevantes sobre o cliente...",value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow text-sm resize-vertical"})]}),g&&(0,qe.jsx)("p",{className:"text-red-600 text-sm text-center",children:g})]}),(0,qe.jsx)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 mt-auto text-right",children:(0,qe.jsxs)("button",{type:"submit",onClick:v,disabled:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2.5 px-6 rounded-lg text-sm transition-all duration-200 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-60 active:scale-95",children:[(0,qe.jsx)(za,{icon:m?zi:Xs,className:"mr-2 ".concat(m&&"fa-spin")}),m?"A Guardar...":b?"Guardar Altera\xe7\xf5es":"Criar Cliente"]})})]})}):null},sx=e=>{let{onProgramSelect:t,selectedProgramId:n}=e;const{selectedPatient:a,toggleProgramStatus:s,removeProgram:i,isLoading:o}=rt(),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),m=(0,r.useMemo)((()=>(null===a||void 0===a?void 0:a.assigned_programs)||[]),[a]),p=(0,r.useMemo)((()=>h?m:m.filter((e=>"archived"!==e.status))),[m,h]),g=(0,r.useMemo)((()=>p.reduce(((e,t)=>{const n=t.discipline_name||"Geral";return e[n]||(e[n]=[]),e[n].push(t),e}),{})),[p]),x=Object.keys(g).sort(),b=p.length,v=(0,r.useMemo)((()=>b<=3?"max-h-[50vh]":b<=6?"max-h-[65vh]":"max-h-[80vh]"),[b]);return o?(0,qe.jsx)("div",{className:"text-center py-4",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-indigo-500"})}):(0,qe.jsxs)("div",{className:"md:col-span-1 lg:col-span-1 bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex flex-col ".concat(v),children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 px-6 py-4",children:(0,qe.jsx)("div",{className:"flex justify-between items-center",children:(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,qe.jsx)(za,{icon:ns,className:"mr-3"}),"Programas Atribu\xeddos",(0,qe.jsxs)("span",{className:"ml-auto bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[b," programa",1!==b?"s":""]})]}),(0,qe.jsxs)("p",{className:"text-emerald-100 text-sm mt-1",children:["Lista de programas de interven\xe7\xe3o do cliente",b>6&&(0,qe.jsx)("span",{className:"ml-2 text-emerald-200",children:"\u2022 Painel expandido automaticamente"})]})]})})}),(0,qe.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-50 to-teal-50 border-b border-emerald-200",children:(0,qe.jsx)("div",{className:"flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"bg-white border-2 border-emerald-200 rounded-lg p-3 flex items-center space-x-3",children:[(0,qe.jsx)("input",{type:"checkbox",id:"show-archived",checked:h,onChange:()=>f(!h),className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),(0,qe.jsxs)("label",{htmlFor:"show-archived",className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,qe.jsx)(za,{icon:fs,className:"mr-2 text-gray-500"}),"Mostrar Programas Arquivados"]})]})})}),(0,qe.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:p.length>0?(0,qe.jsx)("div",{className:"space-y-6",children:x.map((e=>{const r={Fonoaudiologia:{bg:"from-blue-500 to-indigo-600",light:"from-blue-50 to-indigo-50",border:"border-blue-200"},Psicologia:{bg:"from-red-500 to-pink-600",light:"from-red-50 to-pink-50",border:"border-red-200"},Musicoterapia:{bg:"from-purple-500 to-violet-600",light:"from-purple-50 to-violet-50",border:"border-purple-200"},TerapiaOcupacional:{bg:"from-orange-500 to-amber-600",light:"from-orange-50 to-amber-50",border:"border-orange-200"},Psicomotricidade:{bg:"from-green-500 to-emerald-600",light:"from-green-50 to-emerald-50",border:"border-green-200"},Psicopedagogia:{bg:"from-yellow-500 to-orange-600",light:"from-yellow-50 to-orange-50",border:"border-yellow-200"}}[e]||{bg:"from-gray-500 to-slate-600",light:"from-gray-50 to-slate-50",border:"border-gray-200"};return(0,qe.jsxs)("div",{className:"bg-gradient-to-r ".concat(r.light," border-2 ").concat(r.border," rounded-lg overflow-hidden"),children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r ".concat(r.bg," px-4 py-3"),children:(0,qe.jsxs)("h4",{className:"text-white font-bold flex items-center",children:[(0,qe.jsx)(za,{icon:Rs,className:"mr-2"}),e,(0,qe.jsxs)("span",{className:"ml-auto bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs",children:[g[e].length," programa",1!==g[e].length?"s":""]})]})}),(0,qe.jsx)("div",{className:"p-4 space-y-3",children:g[e].map((e=>{const r="archived"===e.status,a=e.assignment_id===n;return(0,qe.jsx)("div",{onClick:()=>!r&&t(e),className:"\n                              p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer transform\n                              ".concat(a?"bg-white border-emerald-400 shadow-lg scale-105":"bg-white border-gray-200 hover:border-emerald-300 hover:shadow-md hover:scale-102"," \n                              ").concat(r?"opacity-60 cursor-not-allowed bg-gray-50":"","\n                            "),children:(0,qe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qe.jsxs)("div",{className:"flex-1 mr-4 ".concat(r?"italic text-gray-500":""),children:[(0,qe.jsx)("p",{className:"text-sm font-semibold text-gray-800 mb-1",title:e.program_name,children:e.program_name}),a&&(0,qe.jsxs)("div",{className:"flex items-center text-xs text-emerald-600 mt-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2 animate-pulse"}),"Programa selecionado"]})]}),(0,qe.jsxs)("div",{className:"flex space-x-2 flex-shrink-0",children:[(0,qe.jsx)(Me,{to:"/session/".concat(e.assignment_id),title:"Iniciar Sess\xe3o",onClick:e=>e.stopPropagation(),className:"\n                                  p-2 rounded-full w-10 h-10 flex items-center justify-center transition-all transform hover:scale-110\n                                  ".concat(r?"text-gray-400 bg-gray-100 cursor-not-allowed pointer-events-none":"text-indigo-600 bg-indigo-100 hover:bg-indigo-200","\n                                "),children:(0,qe.jsx)(za,{icon:Us,className:"fa-fw"})}),(0,qe.jsx)("button",{title:r?"Reativar Programa":"Arquivar Programa",onClick:t=>{t.stopPropagation(),(async(e,t)=>{c(e);try{await s(e,t)}catch(n){console.error("Falha ao mudar status do programa:",n)}finally{c(null)}})(e.assignment_id,e.status)},disabled:l===e.assignment_id,className:"p-2 rounded-full w-10 h-10 flex items-center justify-center transition-all text-yellow-600 bg-yellow-100 hover:bg-yellow-200 disabled:opacity-50 transform hover:scale-110",children:l===e.assignment_id?(0,qe.jsx)(za,{icon:zi,className:"fa-spin fa-fw"}):(0,qe.jsx)(za,{icon:r?Ys:fs,className:"fa-fw"})}),(0,qe.jsx)("button",{title:"Remover Programa Permanentemente",onClick:t=>{t.stopPropagation(),(async e=>{u(e);try{await i(e)}catch(t){console.error("Falha ao remover programa:",t)}finally{u(null)}})(e.program_id)},disabled:d===e.program_id,className:"p-2 rounded-full w-10 h-10 flex items-center justify-center transition-all text-red-500 bg-red-100 hover:bg-red-200 disabled:opacity-50 transform hover:scale-110",children:d===e.program_id?(0,qe.jsx)(za,{icon:zi,className:"fa-spin fa-fw"}):(0,qe.jsx)(za,{icon:Ua,className:"fa-fw"})})]})]})},e.assignment_id)}))})]},e)}))}):(0,qe.jsx)("div",{className:"text-center py-8",children:(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-6",children:[(0,qe.jsx)(za,{icon:ns,className:"text-4xl text-gray-300 mb-3"}),(0,qe.jsx)("p",{className:"text-gray-500 font-medium",children:0===m.length?"Nenhum programa atribu\xeddo":"Nenhum programa ativo para exibir"}),(0,qe.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:0===m.length?"Adicione programas na p\xe1gina de Programas":'Ative a op\xe7\xe3o "Mostrar Arquivados" para ver todos'})]})})})]})};const ix=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],ox="label";function lx(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function cx(e,t){e.labels=t}function dx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ox;const r=[];e.datasets=t.map((t=>{const a=e.datasets.find((e=>e[n]===t[n]));return a&&t.data&&!r.includes(a)?(r.push(a),Object.assign(a,t),a):(0,Ie.A)({},t)}))}function ux(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ox;const n={labels:[],datasets:[]};return cx(n,e.labels),dx(n,e.datasets,t),n}function hx(e,t){const{height:n=150,width:a=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h}=e,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ix),m=(0,r.useRef)(null),p=(0,r.useRef)(null),g=()=>{m.current&&(p.current=new rf(m.current,{type:o,data:ux(l,i),options:c&&(0,Ie.A)({},c),plugins:d}),lx(t,p.current))},x=()=>{lx(t,null),p.current&&(p.current.destroy(),p.current=null)};return(0,r.useEffect)((()=>{!s&&p.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(p.current,c)}),[s,c]),(0,r.useEffect)((()=>{!s&&p.current&&cx(p.current.config.data,l.labels)}),[s,l.labels]),(0,r.useEffect)((()=>{!s&&p.current&&l.datasets&&dx(p.current.config.data,l.datasets,i)}),[s,l.datasets]),(0,r.useEffect)((()=>{p.current&&(s?(x(),setTimeout(g)):p.current.update(h))}),[s,c,l.labels,l.datasets,h]),(0,r.useEffect)((()=>{p.current&&(x(),setTimeout(g))}),[o]),(0,r.useEffect)((()=>(g(),()=>x())),[]),r.createElement("canvas",(0,Ie.A)({ref:m,role:"img",height:n,width:a},f),u)}const fx=(0,r.forwardRef)(hx);function mx(e,t){return rf.register(t),(0,r.forwardRef)(((t,n)=>r.createElement(fx,(0,Ie.A)((0,Ie.A)({},t),{},{ref:n,type:e}))))}const px=mx("line",Su),gx=mx("bar",Nu),xx=mx("doughnut",_u),bx={modes:{point:(e,t)=>yx(e,t,{intersect:!0}),nearest:(e,t,n)=>function(e,t,n){let r=Number.POSITIVE_INFINITY;return yx(e,t,n).reduce(((e,a)=>{const s=a.getCenterPoint(),i=function(e,t,n){if("x"===n)return{x:e.x,y:t.y};if("y"===n)return{x:t.x,y:e.y};return t}(t,s,n.axis),o=Xl(t,i);return o<r?(e=[a],r=o):o===r&&e.push(a),e}),[]).sort(((e,t)=>e._index-t._index)).slice(0,1)}(e,t,n),x:(e,t,n)=>yx(e,t,{intersect:n.intersect,axis:"x"}),y:(e,t,n)=>yx(e,t,{intersect:n.intersect,axis:"y"})}};function vx(e,t,n){return(bx.modes[n.mode]||bx.modes.nearest)(e,t,n)}function yx(e,t,n){return e.filter((e=>n.intersect?e.inRange(t.x,t.y):function(e,t,n){return"x"!==n&&"y"!==n?e.inRange(t.x,t.y,"x",!0)||e.inRange(t.x,t.y,"y",!0):e.inRange(t.x,t.y,n,!0)}(e,t,n.axis)))}function wx(e,t,n){const r=Math.cos(n),a=Math.sin(n),s=t.x,i=t.y;return{x:s+r*(e.x-s)-a*(e.y-i),y:i+a*(e.x-s)+r*(e.y-i)}}const Nx=(e,t)=>t>e||e.length>t.length&&e.slice(0,t.length)===t,jx=.001,_x=(e,t,n)=>Math.min(n,Math.max(t,e)),Sx=(e,t)=>e.value>=e.start-t&&e.value<=e.end+t;function kx(e,t,n){for(const r of Object.keys(e))e[r]=_x(e[r],t,n);return e}function Cx(e,t,n,r){let{x:a,y:s,x2:i,y2:o}=t,{borderWidth:l,hitTolerance:c}=r;const d=(l+c)/2,u=e.x>=a-d-jx&&e.x<=i+d+jx,h=e.y>=s-d-jx&&e.y<=o+d+jx;return"x"===n?u:("y"===n||u)&&h}function Ax(e,t,n,r){let{rect:a,center:s}=t,{rotation:i,borderWidth:o,hitTolerance:l}=r;return Cx(wx(e,s,Hl(-i)),a,n,{borderWidth:o,hitTolerance:l})}function Px(e,t){const{centerX:n,centerY:r}=e.getProps(["centerX","centerY"],t);return{x:n,y:r}}const Lx=e=>"string"===typeof e&&e.endsWith("%"),Ex=e=>parseFloat(e)/100,Mx=e=>_x(Ex(e),0,1),Dx=(e,t)=>({x:e,y:t,x2:e,y2:t,width:0,height:0}),Ox={box:e=>Dx(e.centerX,e.centerY),doughnutLabel:e=>Dx(e.centerX,e.centerY),ellipse:e=>({centerX:e.centerX,centerY:e.centerX,radius:0,width:0,height:0}),label:e=>Dx(e.centerX,e.centerY),line:e=>Dx(e.x,e.y),point:e=>({centerX:e.centerX,centerY:e.centerY,radius:0,width:0,height:0}),polygon:e=>Dx(e.centerX,e.centerY)};function Tx(e,t){return"start"===t?0:"end"===t?e:Lx(t)?Mx(t)*e:e/2}function Rx(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"number"===typeof t?t:Lx(t)?(n?Mx(t):Ex(t))*e:e}function Ix(e,t,n,r){let{borderWidth:a,position:s,xAdjust:i,yAdjust:o}=n;const l=dl(r),c=t.width+(l?r.width:0)+a,d=t.height+(l?r.height:0)+a,u=Fx(s),h=Ux(e.x,c,i,u.x),f=Ux(e.y,d,o,u.y);return{x:h,y:f,x2:h+c,y2:f+d,width:c,height:d,centerX:h+c/2,centerY:f+d/2}}function Fx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";return dl(e)?{x:fl(e.x,t),y:fl(e.y,t)}:{x:e=fl(e,t),y:e}}const zx=(e,t)=>e&&e.autoFit&&t<1;function Bx(e,t){const n=e.font,r=cl(n)?n:[n];return zx(e,t)?r.map((function(e){const n=Zc(e);return n.size=Math.floor(e.size*t),n.lineHeight=e.lineHeight,Zc(n)})):r.map((e=>Zc(e)))}function qx(e){return e&&(Cl(e.xValue)||Cl(e.yValue))}function Ux(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-Tx(t,arguments.length>3?arguments[3]:void 0)+n}function Wx(e,t,n){const r=n.init;if(r)return!0===r?Vx(t,n):function(e,t,n){const r=pl(n.init,[{chart:e,properties:t,options:n}]);if(!0===r)return Vx(t,n);if(dl(r))return r}(e,t,n)}function Hx(e,t,n){let r=!1;return t.forEach((t=>{Al(e[t])?(r=!0,n[t]=e[t]):Cl(n[t])&&delete n[t]})),r}function Vx(e,t){const n=t.type||"line";return Ox[n](e)}const Yx=new Map;function Gx(e){if(e&&"object"===typeof e){const t=e.toString();return"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t}}function Xx(e,t,n){let{x:r,y:a}=t;n&&(e.translate(r,a),e.rotate(Hl(n)),e.translate(-r,-a))}function $x(e,t){if(t&&t.borderWidth)return e.lineCap=t.borderCapStyle||"butt",e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.lineJoin=t.borderJoinStyle||"miter",e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,!0}function Kx(e,t){e.shadowColor=t.backgroundShadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY}function Jx(e,t){const n=t.content;if(Gx(n)){return{width:Rx(n.width,t.width),height:Rx(n.height,t.height)}}const r=Bx(t),a=t.textStrokeWidth,s=cl(n)?n:[n],i=s.join()+(e=>e.reduce((function(e,t){return e+t.string}),""))(r)+a+(e._measureText?"-spriting":"");return Yx.has(i)||Yx.set(i,function(e,t,n,r){e.save();const a=t.length;let s=0,i=r;for(let o=0;o<a;o++){const a=n[Math.min(o,n.length-1)];e.font=a.string;const l=t[o];s=Math.max(s,e.measureText(l).width+r),i+=a.lineHeight}return e.restore(),{width:s,height:i}}(e,s,r,a)),Yx.get(i)}function Qx(e,t,n){const{x:r,y:a,width:s,height:i}=t;e.save(),Kx(e,n);const o=$x(e,n);e.fillStyle=n.backgroundColor,e.beginPath(),Vc(e,{x:r,y:a,w:s,h:i,radius:kx(Jc(n.borderRadius),0,Math.min(s,i)/2)}),e.closePath(),e.fill(),o&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}function Zx(e,t,n,r){const a=n.content;if(Gx(a))return e.save(),e.globalAlpha=function(e,t){const n=Ul(e)?e:t;return Ul(n)?_x(n,0,1):1}(n.opacity,a.style.opacity),e.drawImage(a,t.x,t.y,t.width,t.height),void e.restore();const s=cl(a)?a:[a],i=Bx(n,r),o=n.color,l=cl(o)?o:[o],c=function(e,t){const{x:n,width:r}=e,a=t.textAlign;return"center"===a?n+r/2:"end"===a||"right"===a?n+r:n}(t,n),d=t.y+n.textStrokeWidth/2;e.save(),e.textBaseline="middle",e.textAlign=n.textAlign,function(e,t){if(t.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=t.textStrokeWidth,e.strokeStyle=t.textStrokeColor,!0}(e,n)&&function(e,t,n,r){let{x:a,y:s}=t;e.beginPath();let i=0;n.forEach((function(t,n){const o=r[Math.min(n,r.length-1)],l=o.lineHeight;e.font=o.string,e.strokeText(t,a,s+l/2+i),i+=l})),e.stroke()}(e,{x:c,y:d},s,i),function(e,t,n,r){let{x:a,y:s}=t,{fonts:i,colors:o}=r,l=0;n.forEach((function(t,n){const r=o[Math.min(n,o.length-1)],c=i[Math.min(n,i.length-1)],d=c.lineHeight;e.beginPath(),e.font=c.string,e.fillStyle=r,e.fillText(t,a,s+d/2+l),l+=d,e.fill()}))}(e,{x:c,y:d},s,{fonts:i,colors:l}),e.restore()}function eb(e,t,n,r){const{radius:a,options:s}=t,i=s.pointStyle,o=s.rotation;let l=(o||0)*Ol;if(Gx(i))return e.save(),e.translate(n,r),e.rotate(l),e.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),void e.restore();(e=>isNaN(e)||e<=0)(a)||function(e,t){let n,r,a,s,{x:i,y:o,radius:l,rotation:c,style:d,rad:u}=t;switch(e.beginPath(),d){default:e.arc(i,o,l,0,El),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(u)*l,o-Math.cos(u)*l),u+=Il,e.lineTo(i+Math.sin(u)*l,o-Math.cos(u)*l),u+=Il,e.lineTo(i+Math.sin(u)*l,o-Math.cos(u)*l),e.closePath();break;case"rectRounded":s=.516*l,a=l-s,n=Math.cos(u+Rl)*a,r=Math.sin(u+Rl)*a,e.arc(i-n,o-r,s,u-Ll,u-Tl),e.arc(i+r,o-n,s,u-Tl,u),e.arc(i+n,o+r,s,u,u+Tl),e.arc(i-r,o+n,s,u+Tl,u+Ll),e.closePath();break;case"rect":if(!c){a=Math.SQRT1_2*l,e.rect(i-a,o-a,2*a,2*a);break}u+=Rl;case"rectRot":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(i-n,o-r),e.lineTo(i+r,o-n),e.lineTo(i+n,o+r),e.lineTo(i-r,o+n),e.closePath();break;case"crossRot":u+=Rl;case"cross":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(i-n,o-r),e.lineTo(i+n,o+r),e.moveTo(i+r,o-n),e.lineTo(i-r,o+n);break;case"star":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(i-n,o-r),e.lineTo(i+n,o+r),e.moveTo(i+r,o-n),e.lineTo(i-r,o+n),u+=Rl,n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(i-n,o-r),e.lineTo(i+n,o+r),e.moveTo(i+r,o-n),e.lineTo(i-r,o+n);break;case"line":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(i-n,o-r),e.lineTo(i+n,o+r);break;case"dash":e.moveTo(i,o),e.lineTo(i+Math.cos(u)*l,o+Math.sin(u)*l)}e.fill()}(e,{x:n,y:r,radius:a,rotation:o,style:i,rad:l})}const tb=["left","bottom","top","right"];function nb(e,t){const{pointX:n,pointY:r,options:a}=t,s=a.callout,i=s&&s.display&&function(e,t){const n=t.position;if(tb.includes(n))return n;return function(e,t){const{x:n,y:r,x2:a,y2:s,width:i,height:o,pointX:l,pointY:c,centerX:d,centerY:u,rotation:h}=e,f={x:d,y:u},m=t.start,p=Rx(i,m),g=Rx(o,m),x=[n,n+p,n+p,a],b=[r+g,s,r,s],v=[];for(let y=0;y<4;y++){const e=wx({x:x[y],y:b[y]},f,Hl(h));v.push({position:tb[y],distance:Xl(e,{x:l,y:c})})}return v.sort(((e,t)=>e.distance-t.distance))[0].position}(e,t)}(t,s);if(!i||function(e,t,n){const{pointX:r,pointY:a}=e,s=t.margin;let i=r,o=a;"left"===n?i+=s:"right"===n?i-=s:"top"===n?o+=s:"bottom"===n&&(o-=s);return e.inRange(i,o)}(t,s,i))return;e.save(),e.beginPath();if(!$x(e,s))return e.restore();const{separatorStart:o,separatorEnd:l}=function(e,t){const{x:n,y:r,x2:a,y2:s}=e,i=function(e,t){const{width:n,height:r,options:a}=e,s=a.callout.margin+a.borderWidth/2;if("right"===t)return n+s;if("bottom"===t)return r+s;return-s}(e,t);let o,l;"left"===t||"right"===t?(o={x:n+i,y:r},l={x:o.x,y:s}):(o={x:n,y:r+i},l={x:a,y:o.y});return{separatorStart:o,separatorEnd:l}}(t,i),{sideStart:c,sideEnd:d}=function(e,t,n){const{y:r,width:a,height:s,options:i}=e,o=i.callout.start,l=function(e,t){const n=t.side;if("left"===e||"top"===e)return-n;return n}(t,i.callout);let c,d;"left"===t||"right"===t?(c={x:n.x,y:r+Rx(s,o)},d={x:c.x+l,y:c.y}):(c={x:n.x+Rx(a,o),y:n.y},d={x:c.x,y:c.y+l});return{sideStart:c,sideEnd:d}}(t,i,o);(s.margin>0||0===a.borderWidth)&&(e.moveTo(o.x,o.y),e.lineTo(l.x,l.y)),e.moveTo(c.x,c.y),e.lineTo(d.x,d.y);const u=wx({x:n,y:r},t.getCenterPoint(),Hl(-t.rotation));e.lineTo(u.x,u.y),e.stroke(),e.restore()}const rb={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function ab(e,t,n){return ul(t="number"===typeof t?t:e.parse(t))?e.getPixelForValue(t):n}function sb(e,t,n){const r=t[n];if(r||"scaleID"===n)return r;const a=n.charAt(0),s=Object.values(e).filter((e=>e.axis&&e.axis===a));return s.length?s[0].id:a}function ib(e,t){if(e){const n=e.options.reverse;return{start:ab(e,t.min,n?t.end:t.start),end:ab(e,t.max,n?t.start:t.end)}}}function ob(e,t){const{chartArea:n,scales:r}=e,a=r[sb(r,t,"xScaleID")],s=r[sb(r,t,"yScaleID")];let i=n.width/2,o=n.height/2;return a&&(i=ab(a,t.xValue,a.left+a.width/2)),s&&(o=ab(s,t.yValue,s.top+s.height/2)),{x:i,y:o}}function lb(e,t){const n=e.scales,r=n[sb(n,t,"xScaleID")],a=n[sb(n,t,"yScaleID")];if(!r&&!a)return{};let{left:s,right:i}=r||e.chartArea,{top:o,bottom:l}=a||e.chartArea;const c=hb(r,{min:t.xMin,max:t.xMax,start:s,end:i});s=c.start,i=c.end;const d=hb(a,{min:t.yMin,max:t.yMax,start:l,end:o});return o=d.start,l=d.end,{x:s,y:o,x2:i,y2:l,width:i-s,height:l-o,centerX:s+(i-s)/2,centerY:o+(l-o)/2}}function cb(e,t){if(!qx(t)){const n=lb(e,t);let r=t.radius;r&&!isNaN(r)||(r=Math.min(n.width,n.height)/2,t.radius=r);const a=2*r,s=n.centerX+t.xAdjust,i=n.centerY+t.yAdjust;return{x:s-r,y:i-r,x2:s+r,y2:i+r,centerX:s,centerY:i,width:a,height:a,radius:r}}return function(e,t){const n=ob(e,t),r=2*t.radius;return{x:n.x-t.radius+t.xAdjust,y:n.y-t.radius+t.yAdjust,x2:n.x+t.radius+t.xAdjust,y2:n.y+t.radius+t.yAdjust,centerX:n.x+t.xAdjust,centerY:n.y+t.yAdjust,radius:t.radius,width:r,height:r}}(e,t)}function db(e,t){const{scales:n,chartArea:r}=e,a=n[t.scaleID],s={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return a?function(e,t,n){const r=ab(e,n.value,NaN),a=ab(e,n.endValue,r);e.isHorizontal()?(t.x=r,t.x2=a):(t.y=r,t.y2=a)}(a,s,t):function(e,t,n){for(const r of Object.keys(rb)){const a=e[sb(e,n,r)];if(a){const{min:e,max:s,start:i,end:o,startProp:l,endProp:c}=rb[r],d=ib(a,{min:n[e],max:n[s],start:a[i],end:a[o]});t[l]=d.start,t[c]=d.end}}}(n,s,t),s}function ub(e,t){const n=lb(e,t);return n.initProperties=Wx(e,n,t),n.elements=[{type:"label",optionScope:"label",properties:mb(e,n,t),initProperties:n.initProperties}],n}function hb(e,t){const n=ib(e,t)||t;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function fb(e,t){const{start:n,end:r,borderWidth:a}=e,{position:s,padding:{start:i,end:o},adjust:l}=t;return n+a/2+l+Tx(r-a-n-i-o-t.size,s)}function mb(e,t,n){const r=n.label;r.backgroundColor="transparent",r.callout.display=!1;const a=Fx(r.position),s=Qc(r.padding),i=Jx(e.ctx,r),o=function(e,t,n,r){let{properties:a,options:s}=e;const{x:i,x2:o,width:l}=a;return fb({start:i,end:o,size:l,borderWidth:s.borderWidth},{position:n.x,padding:{start:r.left,end:r.right},adjust:s.label.xAdjust,size:t.width})}({properties:t,options:n},i,a,s),l=function(e,t,n,r){let{properties:a,options:s}=e;const{y:i,y2:o,height:l}=a;return fb({start:i,end:o,size:l,borderWidth:s.borderWidth},{position:n.y,padding:{start:r.top,end:r.bottom},adjust:s.label.yAdjust,size:t.height})}({properties:t,options:n},i,a,s),c=i.width+s.width,d=i.height+s.height;return{x:o,y:l,x2:o+c,y2:l+d,width:c,height:d,centerX:o+c/2,centerY:l+d/2,rotation:r.rotation}}const pb=["enter","leave"],gb=pb.concat("click");function xb(e,t,n){if(e.listened)switch(t.type){case"mousemove":case"mouseout":return function(e,t,n){if(!e.moveListened)return;let r;r="mousemove"===t.type?vx(e.visibleElements,t,n.interaction):[];const a=e.hovered;e.hovered=r;const s={state:e,event:t};let i=bb(s,"leave",a,r);return bb(s,"enter",r,a)||i}(e,t,n);case"click":return function(e,t,n){const r=e.listeners,a=vx(e.visibleElements,t,n.interaction);let s;for(const i of a)s=vb(i.options.click||r.click,i,t)||s;return s}(e,t,n)}}function bb(e,t,n,r){let a,{state:s,event:i}=e;for(const o of n)r.indexOf(o)<0&&(a=vb(o.options[t]||s.listeners[t],o,i)||a);return a}function vb(e,t,n){return!0===pl(e,[t.$context,n])}const yb=["afterDraw","beforeDraw"];function wb(e,t,n){if(e.hooked){return pl(t.options[n]||e.hooks[n],[t.$context])}}function Nb(e,t,n){const r=function(e,t,n){const r=t.axis,a=t.id,s=r+"ScaleID",i={min:fl(t.min,Number.NEGATIVE_INFINITY),max:fl(t.max,Number.POSITIVE_INFINITY)};for(const o of n)o.scaleID===a?kb(o,t,["value","endValue"],i):sb(e,o,s)===a&&kb(o,t,[r+"Min",r+"Max",r+"Value"],i);return i}(e.scales,t,n);let a=jb(t,r,"min","suggestedMin");a=jb(t,r,"max","suggestedMax")||a,a&&Al(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function jb(e,t,n,r){if(ul(t[n])&&!function(e,t,n){return Cl(e[t])||Cl(e[n])}(e.options,n,r)){const r=e[n]!==t[n];return e[n]=t[n],r}}function _b(e,t){for(const n of["scaleID","xScaleID","yScaleID"]){const r=sb(t,e,n);r&&!t[r]&&Sb(e,n)&&console.warn("No scale found with id '".concat(r,"' for annotation '").concat(e.id,"'"))}}function Sb(e,t){if("scaleID"===t)return!0;const n=t.charAt(0);for(const r of["Min","Max","Value"])if(Cl(e[n+r]))return!0;return!1}function kb(e,t,n,r){for(const a of n){const n=e[a];if(Cl(n)){const e=t.parse(n);r.min=Math.min(r.min,e),r.max=Math.max(r.max,e)}}}class Cb extends xh{inRange(e,t,n,r){const{x:a,y:s}=wx({x:e,y:t},this.getCenterPoint(r),Hl(-this.options.rotation));return Cx({x:a,y:s},this.getProps(["x","y","x2","y2"],r),n,this.options)}getCenterPoint(e){return Px(this,e)}draw(e){e.save(),Xx(e,this.getCenterPoint(),this.options.rotation),Qx(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return ub(e,t)}}Cb.id="boxAnnotation",Cb.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Cb.defaultRoutes={borderColor:"color",backgroundColor:"color"},Cb.descriptors={label:{_fallback:!0}};class Ab extends xh{inRange(e,t,n,r){return Ax({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Px(this,e)}draw(e){const t=this.options;t.display&&t.content&&(!function(e,t){const{_centerX:n,_centerY:r,_radius:a,_startAngle:s,_endAngle:i,_counterclockwise:o,options:l}=t;e.save();const c=$x(e,l);e.fillStyle=l.backgroundColor,e.beginPath(),e.arc(n,r,a,s,i,o),e.closePath(),e.fill(),c&&e.stroke();e.restore()}(e,this),e.save(),Xx(e,this.getCenterPoint(),this.rotation),Zx(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const n=function(e,t){return e.getSortedVisibleDatasetMetas().reduce((function(n,r){const a=r.controller;return a instanceof _u&&function(e,t,n){if(!t.autoHide)return!0;for(let r=0;r<n.length;r++)if(!n[r].hidden&&e.getDataVisibility(r))return!0}(e,t,r.data)&&(!n||a.innerRadius<n.controller.innerRadius)&&a.options.circumference>=90?r:n}),void 0)}(e,t);if(!n)return{};const{controllerMeta:r,point:a,radius:s}=function(e,t,n){let{chartArea:r}=e;const{left:a,top:s,right:i,bottom:o}=r,{innerRadius:l,offsetX:c,offsetY:d}=n.controller,u=(a+i)/2+c,h=(s+o)/2+d,f={left:Math.max(u-l,a),right:Math.min(u+l,i),top:Math.max(h-l,s),bottom:Math.min(h+l,o)},m={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},p=t.spacing+t.borderWidth/2,g=l-p,x=m.y>h,b=function(e,t,n,r){const a=Math.pow(n-e,2),s=Math.pow(r,2),i=-2*t,o=Math.pow(t,2)+a-s,l=Math.pow(i,2)-4*o;if(l<=0)return{_startAngle:0,_endAngle:El};const c=(-i-Math.sqrt(l))/2,d=(-i+Math.sqrt(l))/2;return{_startAngle:Gl({x:t,y:n},{x:c,y:e}).angle,_endAngle:Gl({x:t,y:n},{x:d,y:e}).angle}}(x?s+p:o-p,u,h,g),v=(0,Ie.A)({_centerX:u,_centerY:h,_radius:g,_counterclockwise:x},b);return{controllerMeta:v,point:m,radius:Math.min(l,Math.min(f.right-f.left,f.bottom-f.top)/2)}}(e,t,n);let i=Jx(e.ctx,t);const o=function(e,t){let{width:n,height:r}=e;const a=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return 2*t/a}(i,s);zx(t,o)&&(i={width:i.width*o,height:i.height*o});const{position:l,xAdjust:c,yAdjust:d}=t,u=Ix(a,i,{borderWidth:0,position:l,xAdjust:c,yAdjust:d});return(0,Ie.A)((0,Ie.A)((0,Ie.A)({initProperties:Wx(e,u,t)},u),r),{},{rotation:t.rotation,_fitRatio:o})}}Ab.id="doughnutLabelAnnotation",Ab.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},Ab.defaultRoutes={};class Pb extends xh{inRange(e,t,n,r){return Ax({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Px(this,e)}draw(e){const t=this.options,n=!Cl(this._visible)||this._visible;t.display&&t.content&&n&&(e.save(),Xx(e,this.getCenterPoint(),this.rotation),nb(e,this),Qx(e,this,t),Zx(e,function(e){let{x:t,y:n,width:r,height:a,options:s}=e;const i=s.borderWidth/2,o=Qc(s.padding);return{x:t+o.left+i,y:n+o.top+i,width:r-o.left-o.right-s.borderWidth,height:a-o.top-o.bottom-s.borderWidth}}(this),t),e.restore())}resolveElementProperties(e,t){let n;if(qx(t))n=ob(e,t);else{const{centerX:r,centerY:a}=lb(e,t);n={x:r,y:a}}const r=Qc(t.padding),a=Ix(n,Jx(e.ctx,t),t,r);return(0,Ie.A)((0,Ie.A)({initProperties:Wx(e,a,t),pointX:n.x,pointY:n.y},a),{},{rotation:t.rotation})}}Pb.id="labelAnnotation",Pb.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Pb.defaultRoutes={borderColor:"color"};const Lb=(e,t,n)=>({x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}),Eb=(e,t,n)=>Lb(t,n,Math.abs((e-t.y)/(n.y-t.y))).x,Mb=(e,t,n)=>Lb(t,n,Math.abs((e-t.x)/(n.x-t.x))).y,Db=e=>e*e,Ob=(e,t,n,r)=>(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n,Tb=(e,t,n,r)=>({x:Ob(e.x,t.x,n.x,r),y:Ob(e.y,t.y,n.y,r)}),Rb=(e,t,n,r)=>2*(1-r)*(t-e)+2*r*(n-t),Ib=(e,t,n,r)=>-Math.atan2(Rb(e.x,t.x,n.x,r),Rb(e.y,t.y,n.y,r))+.5*Ll;class Fb extends xh{inRange(e,t,n,r){const a=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n){const n={mouseX:e,mouseY:t},{path:s,ctx:i}=this;if(s){$x(i,this.options),i.lineWidth+=this.options.hitTolerance;const{chart:a}=this.$context,o=e*a.currentDevicePixelRatio,l=t*a.currentDevicePixelRatio,c=i.isPointInStroke(s,o,l)||qb(this,n,r);return i.restore(),c}return function(e,t){let{mouseX:n,mouseY:r}=t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jx,s=arguments.length>3?arguments[3]:void 0;const{x:i,y:o,x2:l,y2:c}=e.getProps(["x","y","x2","y2"],s),d=l-i,u=c-o,h=Db(d)+Db(u),f=0===h?-1:((n-i)*d+(r-o)*u)/h;let m,p;f<0?(m=i,p=o):f>1?(m=l,p=c):(m=i+f*d,p=o+f*u);return Db(n-m)+Db(r-p)<=a}(this,n,Db(a),r)||qb(this,n,r)}return function(e,t,n,r){let{mouseX:a,mouseY:s}=t,{hitSize:i,useFinalPosition:o}=r;const l=((e,t,n,r)=>{let{x:a,y:s,x2:i,y2:o}=n;return"y"===r?{start:Math.min(s,o),end:Math.max(s,o),value:t}:{start:Math.min(a,i),end:Math.max(a,i),value:e}})(a,s,e.getProps(["x","y","x2","y2"],o),n);return Sx(l,i)||qb(e,{mouseX:a,mouseY:s},o,n)}(this,{mouseX:e,mouseY:t},n,{hitSize:a,useFinalPosition:r})}getCenterPoint(e){return Px(this,e)}draw(e){const{x:t,y:n,x2:r,y2:a,cp:s,options:i}=this;if(e.save(),!$x(e,i))return e.restore();Kx(e,i);const o=Math.sqrt(Math.pow(r-t,2)+Math.pow(a-n,2));if(i.curve&&s)return function(e,t,n,r){const{x:a,y:s,x2:i,y2:o,options:l}=t,{startOpts:c,endOpts:d,startAdjust:u,endAdjust:h}=Hb(t),f={x:a,y:s},m={x:i,y:o},p=Ib(f,n,m,0),g=Ib(f,n,m,1)-Ll,x=Tb(f,n,m,u/r),b=Tb(f,n,m,1-h/r),v=new Path2D;e.beginPath(),v.moveTo(x.x,x.y),v.quadraticCurveTo(n.x,n.y,b.x,b.y),e.shadowColor=l.borderShadowColor,e.stroke(v),t.path=v,t.ctx=e,Gb(e,x,{angle:p,adjust:u},c),Gb(e,b,{angle:g,adjust:h},d)}(e,this,s,o),e.restore();const{startOpts:l,endOpts:c,startAdjust:d,endAdjust:u}=Hb(this),h=Math.atan2(a-n,r-t);e.translate(t,n),e.rotate(h),e.beginPath(),e.moveTo(0+d,0),e.lineTo(o-u,0),e.shadowColor=i.borderShadowColor,e.stroke(),Yb(e,0,d,l),Yb(e,o,-u,c),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const n=db(e,t),{x:r,y:a,x2:s,y2:i}=n,o=function(e,t){let{x:n,y:r,x2:a,y2:s}=e,{top:i,right:o,bottom:l,left:c}=t;return!(n<c&&a<c||n>o&&a>o||r<i&&s<i||r>l&&s>l)}(n,e.chartArea),l=o?function(e,t,n){const{x:r,y:a}=Bb(e,t,n),{x:s,y:i}=Bb(t,e,n);return{x:r,y:a,x2:s,y2:i,width:Math.abs(s-r),height:Math.abs(i-a)}}({x:r,y:a},{x:s,y:i},e.chartArea):{x:r,y:a,x2:s,y2:i,width:Math.abs(s-r),height:Math.abs(i-a)};if(l.centerX=(s+r)/2,l.centerY=(i+a)/2,l.initProperties=Wx(e,l,t),t.curve){const e={x:l.x,y:l.y},n={x:l.x2,y:l.y2};l.cp=function(e,t,n){const{x:r,y:a,x2:s,y2:i,centerX:o,centerY:l}=e,c=Math.atan2(i-a,s-r),d=Fx(t.controlPoint,0);return wx({x:o+Rx(n,d.x,!1),y:l+Rx(n,d.y,!1)},{x:o,y:l},c)}(l,t,Xl(e,n))}const c=function(e,t,n){const r=n.borderWidth,a=Qc(n.padding),s=Jx(e.ctx,n),i=s.width+a.width+r,o=s.height+a.height+r;return function(e,t,n,r){const{width:a,height:s,padding:i}=n,{xAdjust:o,yAdjust:l}=t,c={x:e.x,y:e.y},d={x:e.x2,y:e.y2},u="auto"===t.rotation?function(e){const{x:t,y:n,x2:r,y2:a}=e,s=Math.atan2(a-n,r-t);return s>Ll/2?s-Ll:s<Ll/-2?s+Ll:s}(e):Hl(t.rotation),h=function(e,t,n){const r=Math.cos(n),a=Math.sin(n);return{w:Math.abs(e*r)+Math.abs(t*a),h:Math.abs(e*a)+Math.abs(t*r)}}(a,s,u),f=function(e,t,n,r){let a;const s=function(e,t){const{x:n,x2:r,y:a,y2:s}=e,i=Math.min(a,s)-t.top,o=Math.min(n,r)-t.left,l=t.bottom-Math.max(a,s),c=t.right-Math.max(n,r);return{x:Math.min(o,c),y:Math.min(i,l),dx:o<=c?1:-1,dy:i<=l?1:-1}}(e,r);a="start"===t.position?Ub({w:e.x2-e.x,h:e.y2-e.y},n,t,s):"end"===t.position?1-Ub({w:e.x-e.x2,h:e.y-e.y2},n,t,s):Tx(1,t.position);return a}(e,t,{labelSize:h,padding:i},r),m=e.cp?Tb(c,e.cp,d,f):Lb(c,d,f),p={size:h.w,min:r.left,max:r.right,padding:i.left},g={size:h.h,min:r.top,max:r.bottom,padding:i.top},x=Wb(m.x,p)+o,b=Wb(m.y,g)+l;return{x:x-a/2,y:b-s/2,x2:x+a/2,y2:b+s/2,centerX:x,centerY:b,pointX:m.x,pointY:m.y,width:a,height:s,rotation:Vl(u)}}(t,n,{width:i,height:o,padding:a},e.chartArea)}(e,l,t.label);return c._visible=o,l.elements=[{type:"label",optionScope:"label",properties:c,initProperties:l.initProperties}],l}}Fb.id="lineAnnotation";const zb={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function Bb(e,t,n){let{x:r,y:a}=e,{top:s,right:i,bottom:o,left:l}=n;return r<l&&(a=Mb(l,{x:r,y:a},t),r=l),r>i&&(a=Mb(i,{x:r,y:a},t),r=i),a<s&&(r=Eb(s,{x:r,y:a},t),a=s),a>o&&(r=Eb(o,{x:r,y:a},t),a=o),{x:r,y:a}}function qb(e,t,n,r){let{mouseX:a,mouseY:s}=t;const i=e.label;return i.options.display&&i.inRange(a,s,r,n)}function Ub(e,t,n,r){const{labelSize:a,padding:s}=t,i=e.w*r.dx,o=e.h*r.dy,l=i>0&&(a.w/2+s.left-r.x)/i,c=o>0&&(a.h/2+s.top-r.y)/o;return _x(Math.max(l,c),0,.25)}function Wb(e,t){const{size:n,min:r,max:a,padding:s}=t,i=n/2;return n>a-r?(a+r)/2:(r>=e-s-i&&(e=r+s+i),a<=e+s+i&&(e=a-s-i),e)}function Hb(e){const t=e.options,n=t.arrowHeads&&t.arrowHeads.start,r=t.arrowHeads&&t.arrowHeads.end;return{startOpts:n,endOpts:r,startAdjust:Vb(e,n),endAdjust:Vb(e,r)}}function Vb(e,t){if(!t||!t.display)return 0;const{length:n,width:r}=t,a=e.options.borderWidth/2,s={x:n,y:r+a},i={x:0,y:a};return Math.abs(Eb(0,s,i))}function Yb(e,t,n,r){if(!r||!r.display)return;const{length:a,width:s,fill:i,backgroundColor:o,borderColor:l}=r,c=Math.abs(t-a)+n;e.beginPath(),Kx(e,r),$x(e,r),e.moveTo(c,-s),e.lineTo(t+n,0),e.lineTo(c,s),!0===i?(e.fillStyle=o||l,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=r.borderShadowColor,e.stroke()}function Gb(e,t,n,r){let{x:a,y:s}=t,{angle:i,adjust:o}=n;r&&r.display&&(e.save(),e.translate(a,s),e.rotate(i),Yb(e,0,-o,r),e.restore())}Fb.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},zb),fill:!1,length:12,start:Object.assign({},zb),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},Pb.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Fb.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},Fb.defaultRoutes={borderColor:"color"};class Xb extends xh{inRange(e,t,n,r){const a=this.options.rotation,s=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(e,t,n,r){const{width:a,height:s,centerX:i,centerY:o}=t,l=a/2,c=s/2;if(l<=0||c<=0)return!1;const d=Hl(n||0),u=Math.cos(d),h=Math.sin(d),f=Math.pow(u*(e.x-i)+h*(e.y-o),2),m=Math.pow(h*(e.x-i)-u*(e.y-o),2);return f/Math.pow(l+r,2)+m/Math.pow(c+r,2)<=1.0001}({x:e,y:t},this.getProps(["width","height","centerX","centerY"],r),a,s);const{x:i,y:o,x2:l,y2:c}=this.getProps(["x","y","x2","y2"],r),d="y"===n?{start:o,end:c}:{start:i,end:l},u=wx({x:e,y:t},this.getCenterPoint(r),Hl(-a));return u[n]>=d.start-s-jx&&u[n]<=d.end+s+jx}getCenterPoint(e){return Px(this,e)}draw(e){const{width:t,height:n,centerX:r,centerY:a,options:s}=this;e.save(),Xx(e,this.getCenterPoint(),s.rotation),Kx(e,this.options),e.beginPath(),e.fillStyle=s.backgroundColor;const i=$x(e,s);e.ellipse(r,a,n/2,t/2,Ll/2,0,2*Ll),e.fill(),i&&(e.shadowColor=s.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return ub(e,t)}}Xb.id="ellipseAnnotation",Xb.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},Cb.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Xb.defaultRoutes={borderColor:"color",backgroundColor:"color"},Xb.descriptors={label:{_fallback:!0}};class $b extends xh{inRange(e,t,n,r){const{x:a,y:s,x2:i,y2:o,width:l}=this.getProps(["x","y","x2","y2","width"],r),c=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(e,t,n,r){return!(!e||!t||n<=0)&&Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n+r,2)}({x:e,y:t},this.getCenterPoint(r),l/2,c);return Sx("y"===n?{start:s,end:o,value:t}:{start:a,end:i,value:e},c)}getCenterPoint(e){return Px(this,e)}draw(e){const t=this.options,n=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,Kx(e,t);const r=$x(e,t);eb(e,this,this.centerX,this.centerY),r&&!Gx(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=n}resolveElementProperties(e,t){const n=cb(e,t);return n.initProperties=Wx(e,n,t),n}}$b.id="pointAnnotation",$b.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},$b.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Kb extends xh{inRange(e,t,n,r){if("x"!==n&&"y"!==n)return this.options.radius>=.1&&this.elements.length>1&&function(e,t,n,r){let a=!1,s=e[e.length-1].getProps(["bX","bY"],r);for(const i of e){const e=i.getProps(["bX","bY"],r);e.bY>n!==s.bY>n&&t<(s.bX-e.bX)*(n-e.bY)/(s.bY-e.bY)+e.bX&&(a=!a),s=e}return a}(this.elements,e,t,r);const a=wx({x:e,y:t},this.getCenterPoint(r),Hl(-this.options.rotation)),s=this.elements.map((e=>"y"===n?e.bY:e.bX)),i=Math.min(...s),o=Math.max(...s);return a[n]>=i&&a[n]<=o}getCenterPoint(e){return Px(this,e)}draw(e){const{elements:t,options:n}=this;e.save(),e.beginPath(),e.fillStyle=n.backgroundColor,Kx(e,n);const r=$x(e,n);let a=!0;for(const s of t)a?(e.moveTo(s.x,s.y),a=!1):e.lineTo(s.x,s.y);e.closePath(),e.fill(),r&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const n=cb(e,t),{sides:r,rotation:a}=t,s=[],i=2*Ll/r;let o=a*Ol;for(let l=0;l<r;l++,o+=i){const r=Jb(n,t,o);r.initProperties=Wx(e,n,t),s.push(r)}return n.elements=s,n}}function Jb(e,t,n){let{centerX:r,centerY:a}=e,{radius:s,borderWidth:i,hitTolerance:o}=t;const l=(i+o)/2,c=Math.sin(n),d=Math.cos(n),u={x:r+c*s,y:a-d*s};return{type:"point",optionScope:"point",properties:{x:u.x,y:u.y,centerX:u.x,centerY:u.y,bX:r+c*(s+l),bY:a-d*(s+l)}}}Kb.id="polygonAnnotation",Kb.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Kb.defaultRoutes={borderColor:"color",backgroundColor:"color"};const Qb={box:Cb,doughnutLabel:Ab,ellipse:Xb,label:Pb,line:Fb,point:$b,polygon:Kb};Object.keys(Qb).forEach((e=>{Lc.describe("elements.".concat(Qb[e].id),{_fallback:"plugins.annotation.common"})}));const Zb={update:Object.assign},ev=gb.concat(yb),tv=(e,t)=>dl(t)?cv(e,t):e,nv=e=>"color"===e||"font"===e;function rv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line";return Qb[e]?e:(console.warn("Unknown annotation type: '".concat(e,"', defaulting to 'line'")),"line")}function av(e,t,n,r){const a=function(e,t,n){if("reset"===n||"none"===n||"resize"===n)return Zb;return new tu(e,t)}(e,n.animations,r),s=t.annotations,i=function(e,t){const n=t.length,r=e.length;if(r<n){const t=n-r;e.splice(r,0,...new Array(t))}else r>n&&e.splice(n,r-n);return e}(t.elements,s);for(let o=0;o<s.length;o++){const t=s[o],n=ov(i,o,t.type),r=t.setContext(dv(e,n,i,t)),l=n.resolveElementProperties(e,r);l.skip=sv(l),"elements"in l&&(iv(n,l.elements,r,a),delete l.elements),Cl(n.x)||Object.assign(n,l),Object.assign(n,l.initProperties),l.options=lv(r),a.update(n,l)}}function sv(e){return isNaN(e.x)||isNaN(e.y)}function iv(e,t,n,r){const a=e.elements||(e.elements=[]);a.length=t.length;for(let s=0;s<t.length;s++){const e=t[s],i=e.properties,o=ov(a,s,e.type,e.initProperties),l=n[e.optionScope].override(e);i.options=lv(l),r.update(o,i)}}function ov(e,t,n,r){const a=Qb[rv(n)];let s=e[t];return s&&s instanceof a||(s=e[t]=new a,Object.assign(s,r)),s}function lv(e){const t=Qb[rv(e.type)],n={};n.id=e.id,n.type=e.type,n.drawTime=e.drawTime,Object.assign(n,cv(e,t.defaults),cv(e,t.defaultRoutes));for(const r of ev)n[r]=e[r];return n}function cv(e,t){const n={};for(const r of Object.keys(t)){const a=t[r],s=e[r];nv(r)&&cl(s)?n[r]=s.map((e=>tv(e,a))):n[r]=tv(s,a)}return n}function dv(e,t,n,r){return t.$context||(t.$context=Object.assign(Object.create(e.getContext()),{element:t,get elements(){return n.filter((e=>e&&e.options))},id:r.id,type:"annotation"}))}const uv=new Map,hv=e=>"doughnutLabel"!==e.type,fv=gb.concat(yb);var mv={id:"annotation",version:"3.1.0",beforeRegister(){!function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=n.split(".");let s=0;for(const i of t.split(".")){const o=a[s++];if(parseInt(i,10)<parseInt(o,10))break;if(Nx(o,i)){if(r)throw new Error("".concat(e," v").concat(n," is not supported. v").concat(t," or newer is required."));return!1}}}("chart.js","4.0",rf.version)},afterRegister(){rf.register(Qb)},afterUnregister(){rf.unregister(Qb)},beforeInit(e){uv.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(e,t,n){const r=uv.get(e).annotations=[];let a=n.annotations;dl(a)?Object.keys(a).forEach((e=>{const t=a[e];dl(t)&&(t.id=e,r.push(t))})):cl(a)&&r.push(...a),function(e,t){for(const n of e)_b(n,t)}(r.filter(hv),e.scales)},afterDataLimits(e,t){const n=uv.get(e);Nb(e,t.scale,n.annotations.filter(hv).filter((e=>e.display&&e.adjustScaleRange)))},afterUpdate(e,t,n){const r=uv.get(e);!function(e,t,n){t.listened=Hx(n,gb,t.listeners),t.moveListened=!1,pb.forEach((e=>{Al(n[e])&&(t.moveListened=!0)})),t.listened&&t.moveListened||t.annotations.forEach((e=>{!t.listened&&Al(e.click)&&(t.listened=!0),t.moveListened||pb.forEach((n=>{Al(e[n])&&(t.listened=!0,t.moveListened=!0)}))}))}(0,r,n),av(e,r,n,t.mode),r.visibleElements=r.elements.filter((e=>!e.skip&&e.options.display)),function(e,t,n){const r=t.visibleElements;t.hooked=Hx(n,yb,t.hooks),t.hooked||r.forEach((e=>{t.hooked||yb.forEach((n=>{Al(e.options[n])&&(t.hooked=!0)}))}))}(0,r,n)},beforeDatasetsDraw(e,t,n){pv(e,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(e,t,n){pv(e,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(e,t,n){pv(e,t.index,n.clip)},beforeDraw(e,t,n){pv(e,"beforeDraw",n.clip)},afterDraw(e,t,n){pv(e,"afterDraw",n.clip)},beforeEvent(e,t,n){xb(uv.get(e),t.event,n)&&(t.changed=!0)},afterDestroy(e){uv.delete(e)},getAnnotations(e){const t=uv.get(e);return t?t.elements:[]},_getAnnotationElementsAtEventForMode:(e,t,n)=>vx(e,t,n),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:e=>!fv.includes(e)&&"init"!==e,annotations:{_allKeys:!1,_fallback:(e,t)=>"elements.".concat(Qb[rv(t.type)].id)},interaction:{_fallback:!0},common:{label:{_indexable:nv,_fallback:!0},_indexable:nv}},additionalOptionScopes:[""]};function pv(e,t,n){const{ctx:r,chartArea:a}=e,s=uv.get(e);n&&Fc(r,a);const i=function(e,t){const n=[];for(const r of e)if(r.options.drawTime===t&&n.push({element:r,main:!0}),r.elements&&r.elements.length)for(const e of r.elements)e.options.display&&e.options.drawTime===t&&n.push({element:e});return n}(s.visibleElements,t).sort(((e,t)=>e.element.options.z-t.element.options.z));for(const o of i)gv(r,a,s,o);n&&zc(r)}function gv(e,t,n,r){const a=r.element;r.main?(wb(n,a,"beforeDraw"),a.draw(e,t),wb(n,a,"afterDraw")):a.draw(e,t)}const xv=e=>{let{selectedLevel:t,onLevelChange:n,disabled:a=!1}=e;const[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{f()}),[]);const f=async()=>{try{d(!0);const e=await(0,Je.O9)();i(e)}catch(ew){console.error("Erro ao carregar n\xedveis de prompting:",ew),h("Erro ao carregar n\xedveis de prompting")}finally{d(!1)}};if(c)return(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"N\xedvel de Prompting"}),(0,qe.jsx)("div",{className:"animate-pulse bg-gray-200 h-10 rounded-lg"})]});if(u)return(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"N\xedvel de Prompting"}),(0,qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm",children:u})]});const m=s.find((e=>e.id===t));return(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"N\xedvel de Prompting Atual"}),(0,qe.jsxs)("div",{className:"group relative",children:[(0,qe.jsx)(za,{icon:ii,className:"text-blue-500 text-xs cursor-help"}),(0,qe.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none w-48 z-10",children:"Define o n\xedvel de ajuda necess\xe1rio para a crian\xe7a realizar a tarefa"})]})]}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsxs)("button",{type:"button",onClick:()=>!a&&l(!o),disabled:a,className:"w-full px-3 py-2 border rounded-lg shadow-sm text-left flex items-center justify-between transition-colors ".concat(a?"bg-gray-100 border-gray-300 text-gray-500 cursor-not-allowed":"bg-white border-gray-300 hover:border-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),children:[(0,qe.jsx)("div",{className:"flex items-center space-x-3",children:m&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),(0,qe.jsx)("span",{className:"font-medium",children:m.name}),(0,qe.jsxs)("span",{className:"text-gray-500 text-sm",children:["(N\xedvel ",m.id,")"]})]})}),(0,qe.jsx)(za,{icon:wi,className:"text-gray-400 transition-transform ".concat(o?"rotate-180":"")})]}),o&&!a&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),(0,qe.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-64 overflow-y-auto",children:s.map((e=>(0,qe.jsx)("button",{type:"button",onClick:()=>{return t=e.id,n(t),void l(!1);var t},className:"w-full px-3 py-3 text-left hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ".concat(t===e.id?"bg-indigo-50 text-indigo-700":""),children:(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"font-medium",children:e.name}),(0,qe.jsxs)("span",{className:"text-gray-500 text-sm",children:["(N\xedvel ",e.id,")"]}),5===e.id&&(0,qe.jsx)("span",{className:"text-yellow-500",children:"\u2b50"})]}),(0,qe.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.description})]})]})},e.id)))})]})]}),m&&(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,qe.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,qe.jsx)("strong",{children:"Descri\xe7\xe3o:"})," ",m.description]}),5===m.id&&(0,qe.jsxs)("div",{className:"text-xs text-amber-600 mt-1 flex items-center space-x-1",children:[(0,qe.jsx)("span",{children:"\u2b50"}),(0,qe.jsx)("span",{children:"Apenas este n\xedvel conta para crit\xe9rio de dom\xednio (80%+)"})]})]})]})},bv=[{value:"dtt",label:"DTT (Discrete Trial Training)",description:"Tentativas Discretas"},{value:"net",label:"NET (Natural Environment Teaching)",description:"Ensino no Ambiente Natural"},{value:"incidental",label:"Incidental Teaching",description:"Ensino Incidental"},{value:"structured_play",label:"Structured Play",description:"Brincadeira Estruturada"},{value:"group_instruction",label:"Group Instruction",description:"Instru\xe7\xe3o em Grupo"}];rf.register(Pm,Dm,wf,vf,lm,Sm,im,nm,mv);const vv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";if(!e)return"N/A";const n=new Date(e);if(isNaN(n.getTime()))return"Data inv\xe1lida";const r=6e4*n.getTimezoneOffset(),a="short"===t?{day:"2-digit",month:"2-digit"}:{day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n.getTime()+r).toLocaleDateString("pt-BR",a)},yv=e=>{let{program:t,assignment:n}=e;const{user:a}=He(),{selectedPatient:s,getPromptLevelForProgram:i,setPromptLevelForProgram:o}=rt(),[l,c]=(0,r.useState)((new Date).toISOString().split("T")[0]),[d,u]=(0,r.useState)((null===t||void 0===t?void 0:t.trials)||""),[h,f]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1),[b,v]=(0,r.useState)(""),[y,w]=(0,r.useState)(5);(0,r.useEffect)((()=>{(async()=>{if(s&&t){const e=t.program_id||t.id;if(e)try{const t=await i(s.id,e);w(t)}catch(k){console.warn("Erro ao carregar prompt level:",k),w(5)}}})()}),[s,t,i]);const[N,j]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),[A,P]=(0,r.useState)([]),[L,E]=(0,r.useState)(!0),M=(0,r.useMemo)((()=>{if(null===t||void 0===t||!t.procedure)return[];try{return"string"===typeof t.procedure?JSON.parse(t.procedure):t.procedure}catch(Zy){return console.error("Falha ao analisar o 'procedure' do programa:",Zy),[]}}),[t]),D=(0,r.useCallback)((async()=>{if(null!==n&&void 0!==n&&n.assignment_id){E(!0);try{const e=await(0,Je.v2)(n.assignment_id),t=Array.isArray(e)?e:[];P(t)}catch(ew){C("N\xe3o foi poss\xedvel carregar o hist\xf3rico de progresso."),console.error(ew)}finally{E(!1)}}}),[n]),O=(0,r.useCallback)((async e=>{const r=(null===t||void 0===t?void 0:t.program_id)||(null===t||void 0===t?void 0:t.id),a=(null===n||void 0===n?void 0:n.assignment_id)||(null===n||void 0===n?void 0:n.id);w(e),s&&t&&r&&await o(s.id,r,e,a)}),[s,t,n,o]);(0,r.useEffect)((()=>{if(!t||!n)return P([]),void E(!1);if(D(),u(t.trials||""),s&&t){const e=t.program_id||t.id;if(e){const t=i(s.id,e);w(t)}}}),[t,n,D,M,s,i]);const T={labels:A.map((e=>e.session_date)),datasets:[{label:"Pontua\xe7\xe3o (%)",data:A.map((e=>{const t=parseFloat(e.score);return isNaN(t)?0:t})),borderColor:"#4f46e5",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return"rgba(79, 70, 229, 0.1)";const a=n.createLinearGradient(0,r.top,0,r.bottom);return a.addColorStop(0,"rgba(99, 102, 241, 0.3)"),a.addColorStop(.5,"rgba(79, 70, 229, 0.2)"),a.addColorStop(1,"rgba(67, 56, 202, 0.1)"),a},borderWidth:3,pointRadius:A.map((e=>{var t;return null!==(t=e.details)&&void 0!==t&&t.isBaseline?8:6})),pointBackgroundColor:A.map((e=>{var t,n;return null!==(t=e.details)&&void 0!==t&&t.isBaseline?"#f59e0b":null!==(n=e.details)&&void 0!==n&&n.promptLevelColor?e.details.promptLevelColor:"#4f46e5"})),pointBorderColor:A.map((e=>{var t;return null!==(t=e.details)&&void 0!==t&&t.isBaseline?"#f59e0b":"#ffffff"})),pointBorderWidth:A.map((e=>{var t;return null!==(t=e.details)&&void 0!==t&&t.isBaseline?4:2})),pointHoverRadius:A.map((e=>{var t;return null!==(t=e.details)&&void 0!==t&&t.isBaseline?10:8})),pointHoverBorderWidth:3,pointStyle:A.map((e=>{var t;return null!==(t=e.details)&&void 0!==t&&t.isBaseline?"star":"circle"})),fill:!0,tension:.4,shadowColor:"rgba(79, 70, 229, 0.3)",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:4}]},R={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"#ffffff",bodyColor:"#e5e7eb",borderColor:"#4f46e5",borderWidth:2,padding:16,cornerRadius:12,displayColors:!1,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{title:e=>{var t;const n=e[0].dataIndex,r=A[n],a=null===r||void 0===r||null===(t=r.details)||void 0===t?void 0:t.isBaseline,s=vv(e[0].label);let i="Sess\xe3o de ".concat(s);return i=a?"\ud83d\udccb [LINHA DE BASE] ".concat(i):"\ud83d\udcc8 ".concat(i),i},label:e=>{const t=e.parsed.y.toFixed(1);return"\ud83c\udfaf Pontua\xe7\xe3o: ".concat(t,"%")},afterLabel:e=>{var t;if(!e||void 0===e.dataIndex)return"";const n=e.dataIndex,r=A[n];0===n&&(console.log("SessionProgress data (FUNCIONA) - attempts:",null===r||void 0===r?void 0:r.attempts),console.log("SessionProgress data (FUNCIONA) - successes:",null===r||void 0===r?void 0:r.successes),console.log("SessionProgress data (FUNCIONA) - created_at:",null===r||void 0===r?void 0:r.created_at),console.log("SessionProgress data (FUNCIONA) - therapist_name:",null===r||void 0===r?void 0:r.therapist_name),console.log("SessionProgress data (FUNCIONA) - FULL OBJECT:",JSON.stringify(r,null,2)));const a=(null===r||void 0===r?void 0:r.attempts)||0,s=(null===r||void 0===r?void 0:r.successes)||0;let i=["\ud83d\udcca Acertos: ".concat(s,"/").concat(a)];return null!==r&&void 0!==r&&null!==(t=r.details)&&void 0!==t&&t.promptLevelName&&i.push("\ud83c\udfaf N\xedvel: ".concat(r.details.promptLevelName)),r&&r.therapist_name&&""!==r.therapist_name.trim()?i.push("\ud83d\udc68\u200d\u2695\ufe0f Terapeuta: ".concat(r.therapist_name)):r&&r.therapist_id&&null!==r.therapist_id&&i.push("\ud83d\udc68\u200d\u2695\ufe0f Terapeuta ID: ".concat(r.therapist_id)),0===n&&(console.log("DEBUG Terapeuta - therapist_name:",null===r||void 0===r?void 0:r.therapist_name),console.log("DEBUG Terapeuta - therapist_id:",null===r||void 0===r?void 0:r.therapist_id),console.log("DEBUG Terapeuta - therapist_email:",null===r||void 0===r?void 0:r.therapist_email)),i},afterBody:e=>{var t;if(!e||!e[0]||void 0===e[0].dataIndex)return"";const n=e[0].dataIndex,r=A[n],s=null===r||void 0===r||null===(t=r.details)||void 0===t?void 0:t.notes;let i=[];if(s&&(i.push("\n\ud83d\udcdd Observa\xe7\xf5es:"),i.push("".concat(s))),0===n&&console.log("SessionProgress User role:",null===a||void 0===a?void 0:a.role),a&&("therapist"===a.role||"terapeuta"===a.role||"admin"===a.role||"administrador"===a.role)&&null!==r&&void 0!==r&&r.created_at){const e=new Date(r.created_at).toLocaleString("pt-BR");i.push("\n\ud83d\udcc5 Registrado: ".concat(e))}return i.length>0?i:""}}},annotation:{annotations:{goalLine:{type:"line",yMin:80,yMax:80,borderColor:"#10b981",borderWidth:3,borderDash:[8,4],label:{content:"\ud83c\udfaf Meta (80%)",position:"end",backgroundColor:"rgba(16, 185, 129, 0.9)",font:{size:12,weight:"bold"},color:"white",padding:8,borderRadius:6,yAdjust:-10}}}}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:11,weight:500},maxTicksLimit:8,callback:function(e){const t=this.getLabelForValue(e);return vv(t,"short")}},border:{display:!1}},y:{display:!0,beginAtZero:!0,max:105,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:11,weight:500},stepSize:20,callback:e=>e>=0&&e<=100?"".concat(e,"%"):""},border:{display:!1}}}};return t&&n?(0,qe.jsxs)("div",{children:[(null===t||void 0===t?void 0:t.objective)&&(0,qe.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-6 rounded-r-lg",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[(0,qe.jsx)("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:gs,className:"text-blue-600"})}),"Objetivo do Programa"]}),(0,qe.jsx)("p",{className:"text-blue-700 leading-relaxed text-base",children:t.objective})]}),(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden mb-8",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-200 px-6 py-4",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,qe.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:Xs,className:"text-indigo-600"})}),"Registrar Nova Sess\xe3o"]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Insira os dados da sess\xe3o para acompanhar o progresso"})]}),(0,qe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=parseInt(d,10),r=parseInt(h,10);if(isNaN(t)||t<=0)return void C("O n\xfamero de tentativas \xe9 inv\xe1lido.");if(isNaN(r)||r<0||r>t)return void C("O n\xfamero de acertos deve ser entre 0 e ".concat(t,"."));if(!b)return void C("Por favor, selecione uma modalidade de ensino.");C(""),j(!0),S(!1);const a=t>0?r/t*100:0,s={assignment_id:n.assignment_id,step_id:null,session_date:l,attempts:t,successes:r,score:parseFloat(a.toFixed(2)),details:{notes:m,isBaseline:g,promptLevel:y,teachingModality:b}};try{await(0,Je.lF)(s),f(""),p(""),x(!1),v(""),S(!0),D(),setTimeout((()=>S(!1)),2e3)}catch(ew){var i,o;C((null===(i=ew.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Ocorreu um erro ao salvar a sess\xe3o.")}finally{j(!1)}},className:"p-6 space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[(0,qe.jsxs)("h4",{className:"text-sm font-semibold text-blue-700 mb-4 flex items-center",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full mr-2"}),"Informa\xe7\xf5es da Sess\xe3o"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"session-date",className:"block text-sm font-medium text-blue-700 mb-2",children:"Data da Sess\xe3o"}),(0,qe.jsx)("input",{type:"date",id:"session-date",required:!0,value:l,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-blue-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"teaching-modality",className:"block text-sm font-medium text-blue-700 mb-2",children:"Modalidade de Ensino"}),(0,qe.jsxs)("select",{id:"teaching-modality",value:b,onChange:e=>v(e.target.value),required:!0,className:"w-full px-4 py-3 border border-blue-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white",children:[(0,qe.jsx)("option",{value:"",disabled:!0,children:"Selecione a modalidade"}),bv.map((e=>(0,qe.jsx)("option",{value:e.value,title:e.description,children:e.label},e.value)))]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-xl p-6",children:[(0,qe.jsxs)("h4",{className:"text-sm font-semibold text-emerald-700 mb-4 flex items-center",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full mr-2"}),"Dados da Sess\xe3o"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"session-attempts",className:"block text-sm font-medium text-emerald-700 mb-2",children:"Tentativas"}),(0,qe.jsx)("input",{type:"number",id:"session-attempts",value:d,readOnly:!0,className:"w-full px-4 py-3 border border-emerald-200 rounded-xl shadow-sm bg-emerald-100/50 cursor-not-allowed text-emerald-800 font-medium"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"session-successes",className:"block text-sm font-medium text-emerald-700 mb-2",children:"Acertos"}),(0,qe.jsx)("input",{type:"number",id:"session-successes",value:h,onChange:e=>f(e.target.value),min:"0",step:"1",required:!0,placeholder:"Ex: 8",className:"w-full px-4 py-3 border border-emerald-300 rounded-xl shadow-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all bg-white"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6",children:[(0,qe.jsxs)("label",{htmlFor:"session-notes",className:"block text-sm font-medium text-amber-700 mb-3 flex items-center",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-amber-500 to-orange-600 rounded-full mr-2"}),"Observa\xe7\xf5es da Sess\xe3o"]}),(0,qe.jsx)("textarea",{id:"session-notes",value:m,onChange:e=>p(e.target.value),rows:"4",placeholder:"Registre observa\xe7\xf5es importantes sobre a sess\xe3o: comportamento, estrat\xe9gias utilizadas, contexto, etc...",className:"w-full px-4 py-3 border border-amber-300 rounded-xl shadow-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all bg-white resize-none"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6",children:[(0,qe.jsxs)("h4",{className:"text-sm font-semibold text-purple-700 mb-4 flex items-center",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full mr-2"}),"N\xedvel de Suporte e Configura\xe7\xf5es"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,qe.jsx)("div",{children:(0,qe.jsx)(xv,{selectedLevel:y,onLevelChange:O,disabled:N})}),(0,qe.jsx)("div",{className:"flex items-center justify-start lg:justify-center pt-2 lg:pt-8",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-3 bg-white border border-purple-200 rounded-xl px-4 py-3 shadow-sm",children:[(0,qe.jsx)("input",{type:"checkbox",id:"is-baseline",checked:g,onChange:e=>x(e.target.checked),className:"h-4 w-4 text-purple-600 border-purple-300 rounded focus:ring-purple-500 transition-all"}),(0,qe.jsx)("label",{htmlFor:"is-baseline",className:"block text-sm font-medium text-purple-700 cursor-pointer",children:"Marcar como Linha de Base"})]})})]})]}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-xl p-6",children:(0,qe.jsx)("div",{className:"flex items-center justify-end",children:(0,qe.jsxs)("button",{type:"submit",disabled:N,className:"\n                  font-semibold py-4 px-8 rounded-xl text-sm transition-all duration-300 flex items-center justify-center min-w-[200px] shadow-lg transform hover:scale-105 disabled:hover:scale-100 border-2\n                  ".concat(_?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-green-200 border-green-300":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white shadow-indigo-200 border-indigo-300 disabled:from-gray-300 disabled:to-gray-400 disabled:border-gray-300","\n                "),children:[(0,qe.jsx)("div",{className:"bg-white bg-opacity-20 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:N?zi:_?Qi:Xs,className:"text-base ".concat(N&&"fa-spin")})}),(0,qe.jsx)("span",{className:"text-base",children:N?"Salvando...":_?"Salvo com Sucesso!":"Salvar Sess\xe3o"})]})})}),k&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:gs,className:"text-red-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-red-800 font-medium mb-1",children:"Erro na Sess\xe3o"}),(0,qe.jsx)("p",{className:"text-red-700 text-sm",children:k})]})]})})]})]}),(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-b border-emerald-200 px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,qe.jsx)("div",{className:"bg-emerald-100 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:Us,className:"text-emerald-600"})}),"Gr\xe1fico de Evolu\xe7\xe3o"]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Hist\xf3rico de desempenho ao longo das sess\xf5es"})]}),A.length>0&&(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,qe.jsx)("span",{className:"font-medium",children:A.length})," sess\xf5es registradas"]}),(0,qe.jsx)("div",{className:"text-xs text-emerald-600 mt-1",children:(()=>{const e=A.filter((e=>null!==e.score&&void 0!==e.score&&!isNaN(e.score))),t=e.length<A.length;if(0===e.length)return"M\xe9dia: N/A";const n=e.reduce(((e,t)=>e+parseFloat(t.score)),0)/e.length,r="M\xe9dia: ".concat(n.toFixed(1),"%");return t&&A.length>0?(0,qe.jsxs)(qe.Fragment,{children:[r,(0,qe.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.length," de ",A.length," com pontua\xe7\xe3o)"]})]}):r})()})]})]})}),(0,qe.jsx)("div",{className:"p-6",children:(0,qe.jsx)("div",{className:"relative h-80 md:h-96",children:L?(0,qe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-2xl text-indigo-600"})}),(0,qe.jsx)("p",{className:"text-gray-600 font-medium",children:"Carregando hist\xf3rico..."})]})}):A.length>0?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{className:"h-full bg-gradient-to-br from-gray-50 to-indigo-50 rounded-lg p-4",children:(0,qe.jsx)(px,{options:R,data:T})}),(0,qe.jsxs)("div",{className:"mt-4 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,qe.jsxs)("div",{className:"mb-3",children:[(0,qe.jsx)("h6",{className:"text-xs font-medium text-gray-700 mb-2",children:"Legenda dos N\xedveis de Prompting:"}),(0,qe.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#10b981"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Independente"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#8b5cf6"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Dica Verbal"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f59e0b"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Dica Gestual"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ef4444"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Ajuda F\xedsica Parcial"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#dc2626"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Ajuda F\xedsica Total"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#6b7280"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"N\xe3o Executado"})]})]})]}),(0,qe.jsxs)("div",{className:"border-t border-gray-200 pt-2",children:[(0,qe.jsx)("h6",{className:"text-xs font-medium text-gray-700 mb-2",children:"Formas dos Pontos:"}),(0,qe.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"relative",children:(0,qe.jsx)("span",{className:"text-amber-500 text-sm",children:"\u2b50"})}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Linha de Base"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full bg-indigo-500"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Sess\xe3o Regular"})]})]})]}),(0,qe.jsxs)("div",{className:"mt-2 text-xs text-amber-700 flex items-center space-x-1",children:[(0,qe.jsx)("span",{children:"\ud83d\udca1"}),(0,qe.jsx)("span",{children:'Apenas sess\xf5es "Independente" contam para crit\xe9rio de dom\xednio (80%+)'})]})]})]}):(0,qe.jsx)("div",{className:"flex items-center justify-center h-full text-center bg-gradient-to-br from-gray-50 to-slate-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-slate-100 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Us,className:"text-3xl text-gray-400"})}),(0,qe.jsx)("h5",{className:"font-semibold text-gray-600 mb-2",children:"Nenhum Hist\xf3rico"}),(0,qe.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed max-w-sm",children:"Registre a primeira sess\xe3o para come\xe7ar a visualizar o progresso no gr\xe1fico."})]})})})})]})]}):(0,qe.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-12 h-full",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-8 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Us,className:"text-4xl text-indigo-600"})}),(0,qe.jsx)("h4",{className:"font-semibold text-xl text-gray-700 mb-3",children:"Nenhum Programa Selecionado"}),(0,qe.jsx)("p",{className:"text-gray-500 leading-relaxed max-w-md",children:"Selecione um programa na lista ao lado para visualizar gr\xe1ficos de progresso e registrar sess\xf5es."}),(0,qe.jsx)("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-dashed border-indigo-300 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-indigo-600",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"text-sm font-medium",children:"Aguardando sele\xe7\xe3o"})]})})]})},wv=e=>{let{startDate:t,endDate:n,onStartDateChange:a,onEndDateChange:s,onClear:i,showPresets:o=!0,showInfo:l=!0}=e;const[c,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!t&&!n){const e=(()=>{const e=new Date,t=new Date;return t.setMonth(t.getMonth()-1),{startDate:t.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]}})();a(e.startDate),s(e.endDate)}}),[t,n,a,s]);const u=[{label:"7 dias",icon:hi,color:"text-blue-600",bgColor:"bg-blue-50 hover:bg-blue-100",borderColor:"border-blue-200",days:7,description:"\xdaltima semana"},{label:"1 m\xeas",icon:Xa,color:"text-green-600",bgColor:"bg-green-50 hover:bg-green-100",borderColor:"border-green-200",days:30,description:"\xdaltimo m\xeas (padr\xe3o)",isDefault:!0},{label:"3 meses",icon:Us,color:"text-purple-600",bgColor:"bg-purple-50 hover:bg-purple-100",borderColor:"border-purple-200",days:90,description:"\xdaltimos 3 meses"},{label:"6 meses",icon:ci,color:"text-orange-600",bgColor:"bg-orange-50 hover:bg-orange-100",borderColor:"border-orange-200",days:180,description:"\xdaltimos 6 meses"}],h=(()=>{if(!t||!n)return null;const e=new Date(t),r=new Date(n),a=new Date;if(Math.abs(r-a)<864e5){const t=Math.abs(r-e),n=Math.ceil(t/864e5),a=u.find((e=>Math.abs(e.days-n)<=1));return a}return null})();return(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Xa,className:"text-indigo-600"}),(0,qe.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:"Per\xedodo dos Gr\xe1ficos"}),l&&(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("button",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:ii,className:"text-xs"})}),c&&(0,qe.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-gray-800 text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap z-10",children:["Selecione o per\xedodo para visualizar os dados dos gr\xe1ficos",(0,qe.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]})]}),(t||n)&&(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[h&&(0,qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(h.bgColor," ").concat(h.color," border ").concat(h.borderColor),children:h.label}),(0,qe.jsx)("span",{className:"text-xs text-gray-500",children:(()=>{if(!t||!n)return"";const e=new Date(t),r=new Date(n),a=Math.abs(r-e),s=Math.ceil(a/864e5)+1;return"".concat(s," dia").concat(1!==s?"s":""," selecionado").concat(1!==s?"s":"")})()})]})]}),o&&(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Sele\xe7\xf5es r\xe1pidas:"}),(0,qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:u.map(((e,t)=>(0,qe.jsxs)("button",{onClick:()=>(e=>{const t=new Date,n=new Date;n.setDate(n.getDate()-e);const r=n.toISOString().split("T")[0],i=t.toISOString().split("T")[0];a(r),s(i)})(e.days),className:"\n                  flex flex-col items-center p-3 rounded-lg border transition-all duration-200\n                  ".concat((null===h||void 0===h?void 0:h.days)===e.days?"".concat(e.bgColor," ").concat(e.borderColor," border-2"):"bg-gray-50 hover:bg-gray-100 border-gray-200 hover:border-gray-300","\n                "),title:e.description,children:[(0,qe.jsx)(za,{icon:e.icon,className:"text-lg mb-1 ".concat((null===h||void 0===h?void 0:h.days)===e.days?e.color:"text-gray-600")}),(0,qe.jsx)("span",{className:"text-xs font-medium ".concat((null===h||void 0===h?void 0:h.days)===e.days?e.color:"text-gray-700"),children:e.label}),e.isDefault&&(0,qe.jsx)("span",{className:"text-[10px] text-gray-500 mt-1",children:"padr\xe3o"})]},t)))})]}),(0,qe.jsxs)("div",{className:"border-t border-gray-100 pt-4",children:[(0,qe.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Ou selecione um per\xedodo personalizado:"}),(0,qe.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("label",{className:"text-sm text-gray-600",children:"De:"}),(0,qe.jsx)("input",{type:"date",value:t,onChange:e=>a(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("label",{className:"text-sm text-gray-600",children:"At\xe9:"}),(0,qe.jsx)("input",{type:"date",value:n,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(t||n)&&(0,qe.jsxs)("button",{onClick:()=>{a(""),s(""),i&&i()},className:"flex items-center space-x-1 px-3 py-2 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Limpar filtros",children:[(0,qe.jsx)(za,{icon:ro}),(0,qe.jsx)("span",{children:"Limpar"})]})]})]})]})},Nv=e=>{var t;let{isOpen:n,onClose:a,suggestedText:s,currentText:i,onUseSuggestion:o,onAppendSuggestion:l,isGenerating:c=!1}=e;const[d,u]=(0,r.useState)(s),[h,f]=(0,r.useState)(!1);r.useEffect((()=>{u(s),f(!1)}),[s]);return n?(0,qe.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col transform transition-all",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Gi,className:"text-indigo-600 mr-3"}),(0,qe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Sugest\xe3o de Texto Autom\xe1tica"})]}),(0,qe.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:(0,qe.jsx)(za,{icon:Ei,className:"text-lg"})})]}),(0,qe.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col",children:[(0,qe.jsx)("div",{className:"p-4 bg-blue-50 border-b border-blue-200",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)(za,{icon:Ys,className:"text-blue-600 mt-1 flex-shrink-0"}),(0,qe.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Como usar esta sugest\xe3o:"}),(0,qe.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,qe.jsxs)("li",{children:["\u2022 ",(0,qe.jsx)("strong",{children:"Substituir:"})," Remove o texto atual e usa apenas a sugest\xe3o"]}),(0,qe.jsxs)("li",{children:["\u2022 ",(0,qe.jsx)("strong",{children:"Adicionar:"})," Mant\xe9m o texto atual e adiciona a sugest\xe3o ao final"]}),(0,qe.jsxs)("li",{children:["\u2022 ",(0,qe.jsx)("strong",{children:"Editar:"})," Permite modificar a sugest\xe3o antes de usar"]})]})]})]})}),(0,qe.jsx)("div",{className:"p-4 bg-amber-50 border-b border-amber-200",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)("span",{className:"text-amber-600 mt-1 flex-shrink-0",children:"\u26a0\ufe0f"}),(0,qe.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Importante - Responsabilidade Profissional:"}),(0,qe.jsxs)("p",{className:"text-xs",children:["Esta sugest\xe3o \xe9 gerada automaticamente baseada ",(0,qe.jsx)("strong",{children:"apenas em dados quantitativos"})," (pontua\xe7\xf5es, sess\xf5es, etc.). \xc9 ",(0,qe.jsx)("strong",{children:"imprescind\xedvel"})," que voc\xea, como profissional respons\xe1vel, revise, adapte e complemente este texto com:"]}),(0,qe.jsxs)("ul",{className:"text-xs mt-2 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 An\xe1lise comportamental qualitativa"}),(0,qe.jsx)("li",{children:"\u2022 Observa\xe7\xf5es cl\xednicas espec\xedficas"}),(0,qe.jsx)("li",{children:"\u2022 Contexto individual do paciente"}),(0,qe.jsx)("li",{children:"\u2022 Aspectos n\xe3o capturados pelos dados num\xe9ricos"})]}),(0,qe.jsx)("p",{className:"text-xs mt-2 font-medium",children:"A ferramenta \xe9 um suporte para agilizar seu trabalho, n\xe3o um substituto para sua expertise profissional."})]})]})}),(0,qe.jsx)("div",{className:"flex-1 p-5 overflow-y-auto",children:c?(0,qe.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Gerando sugest\xe3o baseada nos dados do paciente..."})]})}):(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:h?"Editando Sugest\xe3o":"Texto Sugerido"}),(0,qe.jsxs)("button",{onClick:()=>{f(!h)},className:"flex items-center px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[(0,qe.jsx)(za,{icon:h?Qi:us,className:"mr-2"}),h?"Salvar Edi\xe7\xf5es":"Editar Texto"]})]}),h?(0,qe.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),rows:"20",className:"w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm font-mono resize-none",placeholder:"Edite o texto sugerido..."}):(0,qe.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:(0,qe.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans leading-relaxed",children:s||"Nenhuma sugest\xe3o dispon\xedvel"})}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:[(null===(t=h?d:s)||void 0===t?void 0:t.length)||0," caracteres"]})]})})]}),(0,qe.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[(0,qe.jsx)("button",{onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:c,children:"Cancelar"}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>{const e=h?d:s,t=i.trim()?"\n\n":"";l(i+t+e),a()},disabled:c||!s,className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md text-sm transition duration-150 ease-in-out shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,qe.jsx)(za,{icon:Pi,className:"mr-2"}),"Adicionar ao Texto"]}),(0,qe.jsxs)("button",{onClick:()=>{o(h?d:s),a()},disabled:c||!s,className:"flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md text-sm transition duration-150 ease-in-out shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,qe.jsx)(za,{icon:Qi,className:"mr-2"}),"Substituir Texto"]})]})]})]})}):null},jv=e=>{let{isOpen:t,onClose:n,onSave:a,currentUser:s,title:i="Dados Profissionais"}=e;const[o,l]=(0,r.useState)({professional_id:"",qualifications:"",professional_signature:""}),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)({});(0,r.useEffect)((()=>{t&&s&&(l({professional_id:s.professional_id||"",qualifications:s.qualifications||"",professional_signature:s.professional_signature||""}),h({}))}),[t,s]);const f=(e,t)=>{l((n=>(0,Ie.A)((0,Ie.A)({},n),{},{[e]:t}))),u[e]&&h((t=>{const n=(0,Ie.A)({},t);return delete n[e],n}))};return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:ai,className:"text-indigo-600 mr-3"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:i})]}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-5",children:[(0,qe.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)(za,{icon:Ha,className:"text-blue-600 mt-0.5 flex-shrink-0"}),(0,qe.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Configura\xe7\xe3o \xfanica"}),(0,qe.jsx)("p",{className:"text-xs",children:"Estes dados ser\xe3o salvos uma vez e reutilizados em todos os relat\xf3rios futuros. Voc\xea pode edit\xe1-los a qualquer momento."})]})]})}),u.general&&(0,qe.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,qe.jsx)("p",{className:"text-sm text-red-600",children:u.general})}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,qe.jsx)(za,{icon:ui,className:"mr-2 text-indigo-500"}),"Registro Profissional *"]}),(0,qe.jsx)("input",{type:"text",value:o.professional_id,onChange:e=>f("professional_id",e.target.value),placeholder:"Ex: CRP 12345, CRO 67890, CREFITO 11111",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm ".concat(u.professional_id?"border-red-300":"border-gray-300"),disabled:c}),u.professional_id&&(0,qe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.professional_id})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,qe.jsx)(za,{icon:so,className:"mr-2 text-indigo-500"}),"Qualifica\xe7\xf5es e Forma\xe7\xe3o *"]}),(0,qe.jsx)("textarea",{value:o.qualifications,onChange:e=>f("qualifications",e.target.value),placeholder:"Ex: Psic\xf3logo Cl\xednico, Especialista em ABA, Mestre em Psicologia do Desenvolvimento",rows:"3",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm resize-vertical ".concat(u.qualifications?"border-red-300":"border-gray-300"),disabled:c}),u.qualifications&&(0,qe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.qualifications})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,qe.jsx)(za,{icon:Cs,className:"mr-2 text-indigo-500"}),"Assinatura Digital (Opcional)"]}),(0,qe.jsx)("input",{type:"text",value:o.professional_signature,onChange:e=>f("professional_signature",e.target.value),placeholder:"URL da assinatura digitalizada ou texto personalizado",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm",disabled:c}),(0,qe.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Deixe em branco se n\xe3o possuir assinatura digital"})]})]})]}),(0,qe.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[(0,qe.jsx)("button",{onClick:n,disabled:c,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",children:"Cancelar"}),(0,qe.jsxs)("button",{onClick:async()=>{if((()=>{const e={};return o.professional_id.trim()||(e.professional_id="Registro profissional \xe9 obrigat\xf3rio"),o.qualifications.trim()||(e.qualifications="Qualifica\xe7\xf5es s\xe3o obrigat\xf3rias"),h(e),0===Object.keys(e).length})()){d(!0);try{const e=await Kg(o);a(e.user||o),n()}catch(e){console.error("Erro ao salvar dados profissionais:",e),h({general:"Erro ao salvar dados. Tente novamente."})}finally{d(!1)}}},disabled:c,className:"flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md text-sm transition duration-150 ease-in-out shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,qe.jsx)(za,{icon:c?zi:Qi,className:"mr-2 ".concat(c?"fa-spin":"")}),c?"Salvando...":"Salvar Dados"]})]})]})}):null},_v=e=>{let{value:t,onChange:n,placeholder:a="Digite sua an\xe1lise...",rows:s=6,disabled:i=!1}=e;const o=(0,r.useRef)(null),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)([t||""]),[h,f]=(0,r.useState)(0);(0,r.useEffect)((()=>{if(t!==d[h]){const e=d.slice(0,h+1);e.push(t||""),u(e),f(e.length-1)}}),[t]);const m=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=o.current;if(!a)return;const s=a.selectionStart,i=a.selectionEnd,l=t.substring(s,i);let c,d;r&&l?(c=t.substring(0,s)+e+l+e+t.substring(i),d=i+2*e.length):(c=t.substring(0,s)+e+t.substring(i),d=s+e.length),n(c),setTimeout((()=>{a.focus(),a.setSelectionRange(d,d)}),0)},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bullet";const r=o.current;if(!r)return;const a=r.selectionStart,s=t.split("\n");let i=0,l=0;for(let t=0;t<s.length;t++){if(l+s[t].length>=a){i=t;break}l+=s[t].length+1}const c=s[i],d="bullet"===e?"\u2022 ":"1. ",u=c.trim().startsWith("\u2022 "),h=/^\d+\.\s/.test(c.trim());if(u||h)s[i]=c.replace(/^(\s*)(\u2022\s|\d+\.\s)/,"$1");else{const e=c.match(/^\s*/)[0];s[i]=e+d+c.trim()}const f=s.join("\n");n(f),setTimeout((()=>{r.focus()}),0)},g=()=>m("**",!0),x=()=>m("*",!0),b=()=>{if(h>0){const e=h-1;f(e),n(d[e])}},v=()=>{if(h<d.length-1){const e=h+1;f(e),n(d[e])}},y=[{icon:As,onClick:g,title:"Negrito (Ctrl+B)",active:!1},{icon:Is,onClick:x,title:"It\xe1lico (Ctrl+I)",active:!1},{divider:!0},{icon:Ni,onClick:()=>p("bullet"),title:"Lista com marcadores",active:!1},{icon:Fs,onClick:()=>p("numbered"),title:"Lista numerada",active:!1},{divider:!0},{icon:li,onClick:b,title:"Desfazer (Ctrl+Z)",disabled:h<=0},{icon:Ks,onClick:v,title:"Refazer (Ctrl+Y)",disabled:h>=d.length-1},{divider:!0},{icon:l?fs:Ys,onClick:()=>c(!l),title:l?"Ocultar preview":"Mostrar preview",active:l}];return(0,qe.jsxs)("div",{className:"border border-gray-300 rounded-lg shadow-sm overflow-hidden bg-white",children:[(0,qe.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 px-3 py-2",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[y.map(((e,t)=>e.divider?(0,qe.jsx)("div",{className:"w-px h-4 bg-gray-300 mx-1"},t):(0,qe.jsx)("button",{onClick:e.onClick,disabled:i||e.disabled,title:e.title,className:"\n                  p-1.5 rounded text-sm transition-all duration-200 hover:bg-gray-200\n                  ".concat(e.active?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-800","\n                  ").concat(e.disabled?"opacity-40 cursor-not-allowed":"cursor-pointer","\n                  ").concat(i?"opacity-50 cursor-not-allowed":"","\n                "),children:(0,qe.jsx)(za,{icon:e.icon,className:"w-3 h-3"})},t))),(0,qe.jsxs)("div",{className:"ml-auto text-xs text-gray-500",children:[t.length," caracteres"]})]})}),(0,qe.jsx)("div",{className:"relative",children:l?(0,qe.jsx)("div",{className:"p-3 min-h-[150px] max-h-64 overflow-y-auto bg-gray-50 border-2 border-dashed border-gray-200",style:{minHeight:"".concat(1.5*s,"rem")},children:(0,qe.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:t?(w=t,w.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^\u2022 (.*$)/gim,"<li>$1</li>").replace(/^(\d+)\. (.*$)/gim,"<li>$1. $2</li>").replace(/\n/g,"<br/>")):'<span class="text-gray-400">Nada para mostrar</span>'}})}):(0,qe.jsx)("textarea",{ref:o,value:t,onChange:e=>n(e.target.value),onKeyDown:e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"b":e.preventDefault(),g();break;case"i":e.preventDefault(),x();break;case"z":e.shiftKey||(e.preventDefault(),b());break;case"y":e.preventDefault(),v()}},placeholder:a,rows:s,disabled:i,className:"w-full px-3 py-3 border-0 resize-none focus:outline-none focus:ring-0 text-sm leading-relaxed",style:{minHeight:"".concat(1.5*s,"rem")}})}),(0,qe.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-3 py-2",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("span",{children:["**texto** = ",(0,qe.jsx)("strong",{children:"negrito"})]}),(0,qe.jsxs)("span",{children:["*texto* = ",(0,qe.jsx)("em",{children:"it\xe1lico"})]}),(0,qe.jsx)("span",{children:"\u2022 = lista"})]}),(0,qe.jsx)("div",{children:l?"Modo Preview":"Modo Edi\xe7\xe3o"})]})})]});var w},Sv=e=>{let{sessionData:t,startDate:n,endDate:a,assignedPrograms:s,className:i="",collapsible:o=!0}=e;const[l,c]=r.useState(!1),d=r.useMemo((()=>{if(!t||0===t.length)return{totalSessions:0,avgScore:0,programsCount:0,periodText:"Per\xedodo n\xe3o definido",hasData:!1};const e=t.length,r=t.reduce(((e,t)=>e+(t.score||0)),0)/e,i=s?s.length:0;let o="Per\xedodo completo";if(n&&a){const e=new Date(n),t=new Date(a);o="".concat(e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})," - ").concat(t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}))}else if(n||a){const e=new Date(n||a);o="A partir de ".concat(e.toLocaleDateString("pt-BR"))}return{totalSessions:e,avgScore:Math.round(10*r)/10,programsCount:i,periodText:o,hasData:!0}}),[t,n,a,s]),u=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-500",h=[{icon:Xa,label:"Per\xedodo",value:d.periodText,color:"text-indigo-600",bgColor:"bg-indigo-50"},{icon:_i,label:"Sess\xf5es",value:d.totalSessions,color:"text-blue-600",bgColor:"bg-blue-50"},{icon:Us,label:"M\xe9dia",value:d.hasData?"".concat(d.avgScore,"%"):"-",color:d.hasData?u(d.avgScore):"text-gray-500",bgColor:"bg-gray-50"},{icon:Ri,label:"Programas",value:d.programsCount,color:"text-purple-600",bgColor:"bg-purple-50"}];return(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm ".concat(i),children:[(0,qe.jsx)("div",{className:"p-3 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-indigo-50",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"\ud83d\udcca M\xe9tricas do Per\xedodo"}),o&&(0,qe.jsx)("button",{onClick:()=>c(!l),className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:(0,qe.jsx)(za,{icon:l?wi:ms,className:"w-3 h-3"})})]})}),(0,qe.jsxs)("div",{className:"transition-all duration-300 ".concat(l?"hidden":"block"),children:[d.hasData?(0,qe.jsx)("div",{className:"p-3 space-y-3",children:h.map(((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"p-1.5 rounded-full ".concat(e.bgColor),children:(0,qe.jsx)(za,{icon:e.icon,className:"w-3 h-3 ".concat(e.color)})}),(0,qe.jsx)("span",{className:"text-sm text-gray-600",children:e.label})]}),(0,qe.jsx)("span",{className:"text-sm font-medium ".concat(e.color),children:e.value})]},t)))}):(0,qe.jsx)("div",{className:"p-4 text-center",children:(0,qe.jsx)("p",{className:"text-sm text-gray-500",children:"Nenhum dado dispon\xedvel para o per\xedodo selecionado"})}),d.hasData&&d.avgScore>0&&(0,qe.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,qe.jsx)("span",{className:"text-gray-500",children:"Indicador de Performance:"}),(0,qe.jsx)("span",{className:"font-medium ".concat(u(d.avgScore)),children:d.avgScore>=80?"Excelente":d.avgScore>=60?"Satisfat\xf3rio":"Requer Aten\xe7\xe3o"})]})})]})]})},kv=e=>{if(!e)return"N\xe3o informado";try{return new Date(e).toLocaleDateString("pt-BR")}catch(t){return"Data inv\xe1lida"}},Cv=e=>{let{isOpen:t,onClose:a,patientData:s,reportText:i,professionalData:o,sessionData:l,assignedPrograms:c,onUpdateReportText:d}=e;const[u,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{m(i)}),[i]),!t)return null;const x=async()=>{g(!0);try{const e=(0,Ie.A)((0,Ie.A)({},s),{},{sessionData:l}),t=o?(0,Ie.A)((0,Ie.A)({},o),{},{professional_name:o.professional_name||"Profissional"}):null;await async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e)try{let a={};if(e.sessionData&&e.sessionData.length>0&&e.assigned_programs)console.log("PDF: Usando dados completos do paciente:",e.assigned_programs.length,"programas"),e.assigned_programs.filter((t=>e.sessionData.some((e=>e.program_id===t.program_id||e.program_id===t.id)))).forEach((e=>{const t=e.discipline_name||e.area_name||"\xc1rea n\xe3o especificada";a[t]||(a[t]=[]),a[t].push((0,Ie.A)((0,Ie.A)({},e),{},{area:t,title:e.program_name||e.title||"Programa ".concat(e.program_id||e.id)}))}));else{console.log("PDF: Buscando dados via API - sem sessionData dispon\xedvel");const{getPatientProgramsGrade:t}=await Promise.resolve().then(n.bind(n,1487));a=await t(e.id)}const s=new jo.default({orientation:"portrait",unit:"mm",format:"a4"}),i=15,o=s.internal.pageSize.getWidth(),l=o-2*i;let c=i+10,d=1;const u=e=>{s.setFontSize(8),s.setTextColor(100),s.text("P\xe1gina ".concat(e),o/2,s.internal.pageSize.getHeight()-i/2,{align:"center"}),s.text("Gerado em: ".concat(cp((new Date).toISOString())),i,s.internal.pageSize.getHeight()-i/2),s.setTextColor(0)},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||e>s.internal.pageSize.getHeight()-i-t){const e=s.internal.getFontSize(),t=s.internal.getFont(),r=s.internal.getTextColor();return u(d),s.addPage(),d++,n&&(s.setFontSize(e),s.setFont(t.fontName,t.fontStyle),s.setTextColor(r)),i+10}return e},f=function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;if(!e)return n;let i=n;const o=e.split("\n");for(const l of o){if(""===l.trim()){i+=.7*a;continue}if(l.trim().startsWith("\u2022 ")){const e=l.trim().substring(2);i=h(i,a+5,!1,!0),s.setFont("helvetica","normal"),s.text("\u2022",t,i);const n=s.splitTextToSize(e,r-10);for(let r=0;r<n.length;r++)r>0&&(i+=a,i=h(i,a+5,!1,!0)),s.text(n[r],t+5,i);i+=a;continue}const e=l.match(/^(\d+)\.\s(.+)/);if(e){const[,n,o]=e;i=h(i,a+5,!1,!0),s.setFont("helvetica","normal"),s.text("".concat(n,"."),t,i);const l=s.splitTextToSize(o,r-15);for(let e=0;e<l.length;e++)e>0&&(i+=a,i=h(i,a+5,!1,!0)),s.text(l[e],t+10,i);i+=a}else i=m(l,t,i,r,a).newY}return i},m=(e,t,n,r,a)=>{let i=e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1");const o=s.splitTextToSize(i,r);let l=n;for(let c=0;c<o.length;c++)l=h(l,a+5),s.text(o[c],t,l),l+=a;return{newY:l}};if(s.setFontSize(18),s.setFont("helvetica","bold"),s.text("RELAT\xd3RIO CONSOLIDADO",o/2,c,{align:"center"}),c+=6,s.setFontSize(14),s.text("AN\xc1LISE COMPORTAMENTAL",o/2,c,{align:"center"}),c+=10,r&&(s.setFontSize(10),s.setFont("helvetica","normal"),e.clinic_name&&(s.text("Cl\xednica: ".concat(e.clinic_name),o/2,c,{align:"center"}),c+=5),r.professional_name&&(s.text("Profissional: ".concat(r.professional_name),o/2,c,{align:"center"}),c+=5,r.professional_id&&(s.text("".concat(r.professional_id),o/2,c,{align:"center"}),c+=6))),c+=5,s.setLineWidth(.5),s.line(i,c,o-i,c),c+=8,s.setFontSize(12),s.setFont("helvetica","bold"),s.text("1. IDENTIFICA\xc7\xc3O DO USU\xc1RIO",i,c),c+=8,s.setFontSize(10),s.setFont("helvetica","normal"),s.text("Nome: ".concat(e.name),i,c),c+=5,e.dob){const t=new Date(e.dob),n=Math.floor((new Date-t)/315576e5);s.text("Data de Nascimento: ".concat(cp(e.dob)," (").concat(n," anos)"),i,c),c+=5}if(e.diagnosis&&(s.text("Diagn\xf3stico: ".concat(e.diagnosis),i,c),c+=5),s.text("Data do Relat\xf3rio: ".concat(cp((new Date).toISOString())),i,c),c+=6,e.sessionData&&e.sessionData.length>0){const t=e.sessionData[0],n=e.sessionData[e.sessionData.length-1];t&&n&&(s.setFontSize(9),s.setFont("helvetica","italic"),s.text("Per\xedodo dos dados: de ".concat(cp(t.session_date)," a ").concat(cp(n.session_date)),i,c),c+=5)}c+=4,s.setLineWidth(.2),s.line(i,c,o-i,c),c+=8,c=h(c,20),s.setFontSize(12),s.setFont("helvetica","bold"),s.text("2. AN\xc1LISE E INTERPRETA\xc7\xc3O",i,c),c+=8,s.setFontSize(10),s.setFont("helvetica","normal"),c=f(t||"Nenhuma observa\xe7\xe3o fornecida.",i,c,l,5),c+=10,c=c>i+100?h(c,0,!0):h(c,15),s.setFontSize(12),s.setFont("helvetica","bold"),s.text("3. REGISTRO DA EVOLU\xc7\xc3O DAS SESS\xd5ES",i,c),c+=8;const p=[];Object.keys(a).forEach((e=>{a[e].forEach((t=>{p.push((0,Ie.A)((0,Ie.A)({},t),{},{area:e,title:t.program_name||t.title||"Programa ".concat(t.program_id||t.id)}))}))}));const g=p.map((t=>{const n=(e.sessionData||[]).filter((e=>e.program_id===t.program_id||e.program_id===t.id));if(0===n.length)return Promise.resolve(null);const r=document.createElement("canvas");r.width=600,r.height=300;const a={labels:n.map((e=>cp(e.session_date,"short"))),datasets:[{label:"Pontua\xe7\xe3o (%)",data:n.map((e=>e.score)),borderColor:"#4f46e5",backgroundColor:"rgba(79, 70, 229, 0.1)",borderWidth:3,pointRadius:n.map((e=>e.is_baseline?6:5)),pointBackgroundColor:n.map((e=>e.is_baseline?"#f59e0b":e.details&&e.details.promptLevelColor?e.details.promptLevelColor:"#4f46e5")),pointBorderColor:n.map((e=>e.is_baseline?"#f59e0b":"#ffffff")),pointBorderWidth:n.map((e=>e.is_baseline?3:2)),pointStyle:n.map((e=>e.is_baseline?"star":"circle")),fill:!0,tension:.3}]},s={animation:!1,responsive:!1,devicePixelRatio:2,scales:{y:{beginAtZero:!0,max:105,grid:{display:!0,color:"rgba(156, 163, 175, 0.3)",drawBorder:!1},ticks:{padding:8,font:{size:12,weight:500},color:"#4b5563",callback:function(e){return e+"%"}},border:{display:!1}},x:{grid:{display:!0,color:"rgba(156, 163, 175, 0.3)",drawBorder:!1},ticks:{padding:8,font:{size:12,weight:500},color:"#4b5563"},border:{display:!1}}},plugins:{legend:{display:!1},tooltip:{enabled:!1}}};return new Promise((e=>{new ip(r.getContext("2d"),{type:"line",data:a,options:s,plugins:[{id:"customCanvasBackgroundColor",beforeDraw:e=>{const{ctx:t}=e;t.save(),t.globalCompositeOperation="destination-over",t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.restore()}}]}),setTimeout((()=>{e({title:t.title||t.program_name||"Programa ".concat(t.program_id||t.id),area:t.area||t.area_name||t.discipline_name||"\xc1rea",imageData:r.toDataURL("image/png",.95)})}),100)}))}));Promise.all(g).then((t=>{const n=t.filter((e=>e));if(0===n.length)c=h(c),s.setFont("helvetica","italic"),s.text("Nenhum dado de progresso para os programas ativos no per\xedodo selecionado.",i,c),c+=10;else{const e=n.reduce(((e,t)=>(e[t.area]||(e[t.area]=[]),e[t.area].push(t),e)),{});Object.keys(e).sort().forEach((t=>{c=h(c,15),s.setFontSize(12),s.setFont("helvetica","bold"),s.setFillColor(240,240,240),s.rect(i,c-4,l,7,"F"),s.text(t,i+2,c),c+=10;const n=e[t];let r=0;for(let e=0;e<n.length;e++){const a=n[e],o=60,h=l,f=8;(r>=2||c+(f+o+20+15)>s.internal.pageSize.getHeight()-i-20)&&(u(d),s.addPage(),d++,c=i+10,r=0,s.setFontSize(12),s.setFont("helvetica","bold"),s.setFillColor(240,240,240),s.rect(i,c-4,l,7,"F"),s.text(t+" (continua\xe7\xe3o)",i+2,c),c+=10),s.setFontSize(12),s.setFont("helvetica","bold"),s.setTextColor(79,70,229),s.text(a.title,i,c),s.setTextColor(0),c+=f,s.addImage(a.imageData,"PNG",i,c,h,o),c+=o+8,s.setFontSize(8),s.setFont("helvetica","bold"),s.text("N\xedveis de Prompting:",i,c),c+=4,s.setFont("helvetica","normal");const m=lp().map((e=>({color:e.rgb,text:e.name}))),p=3;for(let e=0;e<m.length;e+=p){let t=i;m.slice(e,e+p).forEach((e=>{s.setFillColor(e.color[0],e.color[1],e.color[2]),s.circle(t+1,c-.5,1,"F"),s.setTextColor(0),s.text(e.text,t+4,c),t+=60})),c+=4}s.setFontSize(8),s.setFont("helvetica","bold"),s.setTextColor(0),s.text("S\xedmbolos:",i,c),c+=4,s.setFont("helvetica","normal");const g=i+2,x=c-1,b=1.5;s.setDrawColor(245,158,11),s.setLineWidth(1.5),s.line(g-b,x-b,g+b,x+b),s.line(g+b,x-b,g-b,x+b),s.line(g,x-b,g,x+b),s.line(g-b,x,g+b,x),s.setTextColor(0),s.text("Linha de Base",g+8,c);const v=i+80;s.setFillColor(79,70,229),s.circle(v,c-1,1.5,"F"),s.text("Sess\xe3o Regular",v+6,c),c+=12,r++}c+=5}))}u(d);const r="Relatorio_".concat(e.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".pdf");s.save(r)}))}catch(a){console.error("Erro ao gerar Relat\xf3rio Consolidado:",a),alert("Erro ao gerar o Relat\xf3rio Consolidado. Tente novamente.")}else alert("Nenhum cliente selecionado.")}(e,i,t)}catch(e){console.error("Erro ao gerar PDF:",e),alert("Erro ao gerar PDF. Tente novamente.")}finally{g(!1)}},b=(null===l||void 0===l?void 0:l.length)||0,v=b>0?(l.reduce(((e,t)=>e+(t.score||0)),0)/b).toFixed(1):0,y=(null===l||void 0===l?void 0:l.reduce(((e,t)=>{const n=t.program_id;if(!n)return e;const r=null===c||void 0===c?void 0:c.find((e=>e.program_id===n)),a=e.find((e=>e.id===n));if(!a){const t=l.filter((e=>e.program_id===n)).length;e.push({id:n,name:(null===r||void 0===r?void 0:r.program_name)||"Programa ".concat(n),discipline:(null===r||void 0===r?void 0:r.discipline_name)||"\xc1rea n\xe3o informada",sessionsCount:t})}return e}),[]))||[];return y.sort(((e,t)=>e.name.localeCompare(t.name))),(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 flex justify-between items-center",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Preview - Relat\xf3rio Consolidado"}),(0,qe.jsxs)("p",{className:"text-indigo-100 text-sm",children:[null===s||void 0===s?void 0:s.name," \u2022 Revise e personalize antes de gerar o PDF"]})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:x,disabled:p,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-all disabled:opacity-50 flex items-center space-x-2",children:p?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}),(0,qe.jsx)("span",{children:"Gerando..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:ei}),(0,qe.jsx)("span",{children:"Gerar PDF"})]})}),(0,qe.jsx)("button",{onClick:a,className:"text-white hover:text-indigo-200 transition-colors text-xl",children:(0,qe.jsx)(za,{icon:Ei})})]})]}),(0,qe.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,qe.jsx)(za,{icon:xs,className:"text-indigo-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Identifica\xe7\xe3o do Usu\xe1rio"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Nome:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:null===s||void 0===s?void 0:s.name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Data de Nascimento:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:kv(null===s||void 0===s?void 0:s.dob)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Diagn\xf3stico:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:(null===s||void 0===s?void 0:s.diagnosis)||"N\xe3o informado"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-600",children:"Respons\xe1vel:"}),(0,qe.jsx)("p",{className:"text-gray-800",children:null!==s&&void 0!==s&&s.guardian_name?"".concat(s.guardian_name," (").concat(s.guardian_relationship,")"):"N\xe3o informado"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,qe.jsx)(za,{icon:Us,className:"text-blue-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Resumo do Per\xedodo"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:b}),(0,qe.jsx)("div",{className:"text-gray-600 text-sm",children:"Sess\xf5es Realizadas"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[v,"%"]}),(0,qe.jsx)("div",{className:"text-gray-600 text-sm",children:"M\xe9dia Geral"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:y.length}),(0,qe.jsx)("div",{className:"text-gray-600 text-sm",children:"Programas Trabalhados"})]})]}),(0,qe.jsxs)("div",{className:"mt-4",children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Programas Trabalhados:"}),y.length>0?(0,qe.jsx)("div",{className:"space-y-2",children:y.map(((e,t)=>(0,qe.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white border border-gray-200 rounded-md",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"font-medium text-gray-800 text-sm",children:e.name}),(0,qe.jsx)("div",{className:"text-xs text-gray-500",children:e.discipline})]}),(0,qe.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:[e.sessionsCount," ",1===e.sessionsCount?"sess\xe3o":"sess\xf5es"]})]},t)))}):(0,qe.jsx)("div",{className:"text-sm text-gray-500 italic p-2 bg-gray-100 rounded-md",children:"Nenhum programa encontrado para o per\xedodo selecionado"})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)(za,{icon:ps,className:"text-green-600 text-lg"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"An\xe1lise e Observa\xe7\xf5es"})]}),(0,qe.jsx)("button",{onClick:()=>{h(!0)},className:"text-green-600 hover:text-green-800 transition-colors",children:(0,qe.jsx)(za,{icon:us})})]}),u?(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"An\xe1lise Qualitativa:"}),(0,qe.jsx)("textarea",{value:f,onChange:e=>m(e.target.value),placeholder:"Digite sua an\xe1lise qualitativa sobre o per\xedodo...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:"8"})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>{d(f),h(!1)},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Qi}),(0,qe.jsx)("span",{children:"Salvar"})]}),(0,qe.jsx)("button",{onClick:()=>{m(i),h(!1)},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}):(0,qe.jsx)("div",{children:i?(0,qe.jsx)("div",{className:"text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:(w=i,w?w.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^\u2022 (.*$)/gim,"&bull; $1").replace(/^(\d+)\. (.*$)/gim,"$1. $2").replace(/\n/g,"<br/>"):"")}}):(0,qe.jsx)("div",{className:"text-gray-500 italic",children:'Clique em "Editar" para adicionar sua an\xe1lise qualitativa sobre o per\xedodo.'})})]}),(0,qe.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,qe.jsx)(za,{icon:ai,className:"text-indigo-600"}),(0,qe.jsx)("h4",{className:"font-medium text-indigo-800",children:"Dados Profissionais"})]}),(0,qe.jsxs)("div",{className:"text-sm text-indigo-700",children:[(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Profissional:"})," ",null===o||void 0===o?void 0:o.professional_name]}),(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Registro:"})," ",null===o||void 0===o?void 0:o.professional_id]}),(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Qualifica\xe7\xf5es:"})," ",null===o||void 0===o?void 0:o.qualifications]})]})]}),(0,qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)(za,{icon:ii,className:"text-blue-600 mt-1"}),(0,qe.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Gr\xe1ficos de Progresso"}),(0,qe.jsx)("p",{children:"Os gr\xe1ficos detalhados de cada programa ser\xe3o inclu\xeddos automaticamente no PDF final, organizados por \xe1rea de interven\xe7\xe3o conforme visualizado na pr\xe9-visualiza\xe7\xe3o do modal."})]})]})}),(0,qe.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("span",{className:"text-amber-600 mt-1 flex-shrink-0",children:"\u26a0\ufe0f"}),(0,qe.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,qe.jsx)("p",{className:"font-medium mb-1",children:"Responsabilidade Profissional"}),(0,qe.jsx)("p",{children:"Este relat\xf3rio cont\xe9m dados quantitativos e an\xe1lises autom\xe1ticas baseadas em m\xe9tricas de sess\xf5es. Como profissional respons\xe1vel, voc\xea deve assegurar que:"}),(0,qe.jsxs)("ul",{className:"text-xs mt-2 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 O texto reflita adequadamente a condi\xe7\xe3o e progresso individual do paciente"}),(0,qe.jsx)("li",{children:"\u2022 Aspectos comportamentais e contextuais relevantes estejam inclu\xeddos"}),(0,qe.jsx)("li",{children:"\u2022 As interpreta\xe7\xf5es estejam alinhadas com sua avalia\xe7\xe3o cl\xednica"}),(0,qe.jsx)("li",{children:"\u2022 O conte\xfado esteja adequado ao p\xfablico-alvo (escola, fam\xedlia, outros profissionais)"})]}),(0,qe.jsx)("p",{className:"text-xs mt-2 font-medium",children:"A responsabilidade t\xe9cnica e \xe9tica pelo conte\xfado final \xe9 sempre do profissional emissor."})]})]})})]}),(0,qe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,qe.jsx)("div",{className:"text-sm text-gray-600",children:"Preview do relat\xf3rio \u2022 Edite o texto se necess\xe1rio antes de gerar o PDF final"}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:a,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar Preview"}),(0,qe.jsx)("button",{onClick:x,disabled:p,className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 flex items-center space-x-2",children:p?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}),(0,qe.jsx)("span",{children:"Gerando PDF..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:ei}),(0,qe.jsx)("span",{children:"Gerar PDF Final"})]})})]})]})]})});var w},Av={async generateConventionalReportSuggestion(e,t,n){try{const r=await Jg(e,n);return this.generateSuggestedText(r,t,n)}catch(r){throw console.error("Erro ao gerar sugest\xe3o de relat\xf3rio:",r),new Error("N\xe3o foi poss\xedvel gerar a sugest\xe3o de texto. Tente novamente.")}},generateSuggestedText(e,t,n){const{statistics:r,insights:a,area_performance:s}=e;let i=this.generateDisclaimer();return i+=this.generatePeriodSummary(r,n),i+=this.generateAreaAnalysis(s),i+=this.generateIndependenceAnalysis(r),i+=this.generateInsightsSection(a),i+=this.generateRecommendations(r,a),i},generateDisclaimer:()=>"**[IMPORTANTE: Esta an\xe1lise \xe9 baseada em dados quantitativos. Como profissional respons\xe1vel, revise, adapte e complemente com suas observa\xe7\xf5es cl\xednicas qualitativas antes de utilizar.]**\n\n",generatePeriodSummary(e,t){const n=this.formatPeriodText(t);let r="RESUMO DO PER\xcdODO ANALISADO\n\n";return r+="".concat(n," foram realizadas ").concat(e.total_sessions," sess\xf5es terap\xeauticas, "),e.total_sessions>0?(r+="com m\xe9dia de desempenho de ".concat(e.avg_score.toFixed(1),"%. "),null!==e.independence_percentage&&(r+="O n\xedvel de independ\xeancia alcan\xe7ado foi de ".concat(e.independence_percentage.toFixed(1),"%, "),r+="indicando ".concat(this.getIndependenceDescription(e.independence_percentage),". ")),r+="O paciente trabalhou em ".concat(e.programs_worked," programa(s) diferentes "),r+="durante este per\xedodo.\n\n"):r+="por\xe9m n\xe3o h\xe1 dados de desempenho dispon\xedveis para an\xe1lise.\n\n",r},generateAreaAnalysis(e){if(!e||0===e.length)return"AN\xc1LISE POR \xc1REA DE INTERVEN\xc7\xc3O\n\nN\xe3o h\xe1 dados suficientes para an\xe1lise por \xe1rea de interven\xe7\xe3o.\n\n";let t="AN\xc1LISE POR \xc1REA DE INTERVEN\xc7\xc3O\n\n";const n=[...e].sort(((e,t)=>t.avg_score-e.avg_score));return n.forEach(((e,r)=>{const a=this.getPerformanceDescription(e.avg_score);t+="".concat(e.area_name,": M\xe9dia de ").concat(e.avg_score.toFixed(1),"% em ").concat(e.session_count," sess\xe3o(\xf5es), "),t+="demonstrando ".concat(a),0===r&&n.length>1?t+=" (\xe1rea de melhor desempenho)":r===n.length-1&&n.length>1&&(t+=" (\xe1rea que requer maior aten\xe7\xe3o)"),t+=".\n"})),t+="\n",t},generateIndependenceAnalysis(e){if(null===e.independence_percentage)return"N\xcdVEIS DE INDEPEND\xcaNCIA\n\nDados de prompt level n\xe3o dispon\xedveis para an\xe1lise.\n\n";let t="N\xcdVEIS DE INDEPEND\xcaNCIA\n\n";const n=e.independence_percentage,r=this.getDetailedIndependenceAnalysis(n);return t+="Durante o per\xedodo analisado, o paciente apresentou ".concat(n.toFixed(1),"% de "),t+="respostas independentes. ".concat(r,"\n\n"),t},generateInsightsSection(e){if(!e||0===e.length)return"OBSERVA\xc7\xd5ES RELEVANTES\n\nN\xe3o h\xe1 insights espec\xedficos gerados para este per\xedodo.\n\n";let t="OBSERVA\xc7\xd5ES RELEVANTES\n\n";const n=e.filter((e=>"positive"===e.type)),r=e.filter((e=>"attention"===e.type)),a=e.filter((e=>"neutral"===e.type));return n.length>0&&(t+="Aspectos Positivos:\n",n.forEach((e=>{t+="\u2022 ".concat(e.text,"\n")})),t+="\n"),r.length>0&&(t+="Pontos de Aten\xe7\xe3o:\n",r.forEach((e=>{t+="\u2022 ".concat(e.text,"\n")})),t+="\n"),a.length>0&&(t+="Observa\xe7\xf5es Gerais:\n",a.forEach((e=>{t+="\u2022 ".concat(e.text,"\n")})),t+="\n"),t},generateRecommendations(e,t){let n="RECOMENDA\xc7\xd5ES\n\n";e.avg_score<60?(n+="\u2022 Considerar revis\xe3o das estrat\xe9gias de ensino, dado que a m\xe9dia de desempenho est\xe1 abaixo de 60%.\n",n+="\u2022 Avaliar poss\xedvel necessidade de ajuste nos n\xedveis de prompting utilizados.\n"):e.avg_score>85?(n+="\u2022 Excelente desempenho observado. Considerar progress\xe3o para objetivos mais avan\xe7ados.\n",n+="\u2022 Avaliar possibilidade de redu\xe7\xe3o gradual dos n\xedveis de prompting.\n"):n+="\u2022 Desempenho satisfat\xf3rio observado. Manter estrat\xe9gias atuais de interven\xe7\xe3o.\n",null!==e.independence_percentage&&(e.independence_percentage<30?n+="\u2022 Focar no desenvolvimento da independ\xeancia atrav\xe9s de estrat\xe9gias de fading de prompts.\n":e.independence_percentage>70&&(n+="\u2022 Alto n\xedvel de independ\xeancia alcan\xe7ado. Considerar introdu\xe7\xe3o de novos desafios.\n"));return((null===t||void 0===t?void 0:t.filter((e=>"attention"===e.type)))||[]).length>0&&(n+="\u2022 Aten\xe7\xe3o especial aos pontos identificados na an\xe1lise autom\xe1tica.\n"),n+="\u2022 Continuar monitoramento regular do progresso atrav\xe9s dos dados de sess\xe3o.\n",n+="\n",n},formatPeriodText(e){if(e.startDate&&e.endDate){const t=new Date(e.startDate),n=new Date(e.endDate);return"No per\xedodo de ".concat(t.toLocaleDateString("pt-BR")," a ").concat(n.toLocaleDateString("pt-BR"),",")}return"Durante o per\xedodo analisado,"},getPerformanceDescription:e=>e>=90?"excelente desempenho":e>=80?"bom desempenho":e>=70?"desempenho satisfat\xf3rio":e>=60?"desempenho adequado":e>=50?"desempenho moderado":"desempenho que requer aten\xe7\xe3o",getIndependenceDescription:e=>e>=80?"alto n\xedvel de autonomia":e>=60?"bom n\xedvel de independ\xeancia":e>=40?"n\xedvel moderado de independ\xeancia":e>=20?"baixo n\xedvel de independ\xeancia":"necessidade de apoio significativo",getDetailedIndependenceAnalysis:e=>e>=80?"Isso indica que o paciente est\xe1 demonstrando excelente capacidade de resposta aut\xf4noma, sugerindo boa consolida\xe7\xe3o das habilidades trabalhadas.":e>=60?"Isso demonstra boa evolu\xe7\xe3o na dire\xe7\xe3o da independ\xeancia, com potencial para progress\xe3o cont\xednua.":e>=40?"Isso indica progresso moderado na dire\xe7\xe3o da autonomia, com necessidade de manuten\xe7\xe3o das estrat\xe9gias atuais.":e>=20?"Isso sugere que o paciente ainda requer apoio significativo, sendo recomend\xe1vel foco no desenvolvimento da independ\xeancia.":"Isso indica necessidade de apoio intensivo e poss\xedvel revis\xe3o das estrat\xe9gias de ensino para promover maior autonomia."},Pv=Av;rf.register(Pm,Dm,wf,vf,lm,Sm,im,nm);const Lv=e=>{let{program:t,sessionData:n}=e;const r=(n||[]).filter((e=>e.program_id===t.program_id));if(0===r.length)return null;const a={labels:r.map((e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";if(!e)return"N/A";const n=new Date(e);if(isNaN(n.getTime()))return"Data inv\xe1lida";const r=6e4*n.getTimezoneOffset(),a="short"===t?{day:"2-digit",month:"2-digit"}:{day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n.getTime()+r).toLocaleDateString("pt-BR",a)}(e.session_date,"short"))),datasets:[{label:"Pontua\xe7\xe3o (%)",data:r.map((e=>e.score)),borderColor:"#4f46e5",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return"rgba(79, 70, 229, 0.1)";const a=n.createLinearGradient(0,r.top,0,r.bottom);return a.addColorStop(0,"rgba(99, 102, 241, 0.3)"),a.addColorStop(.5,"rgba(79, 70, 229, 0.2)"),a.addColorStop(1,"rgba(67, 56, 202, 0.1)"),a},borderWidth:2.5,pointRadius:r.map((e=>e.is_baseline?6:5)),pointBackgroundColor:r.map((e=>{var t;return e.is_baseline?"#f59e0b":null!==(t=e.details)&&void 0!==t&&t.promptLevelColor?e.details.promptLevelColor:"#4f46e5"})),pointBorderColor:r.map((e=>e.is_baseline?"#f59e0b":"#ffffff")),pointBorderWidth:r.map((e=>e.is_baseline?3:2)),pointStyle:r.map((e=>e.is_baseline?"star":"circle")),pointHoverRadius:7,pointHoverBorderWidth:3,fill:!0,tension:.4}]};return(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-200 px-4 py-3",children:[(0,qe.jsx)("h5",{className:"text-sm font-semibold text-gray-800 text-center",children:t.program_name}),(0,qe.jsx)("p",{className:"text-xs text-indigo-600 text-center mt-1",children:t.discipline_name})]}),(0,qe.jsxs)("div",{className:"p-4",children:[(0,qe.jsx)("div",{className:"w-full h-56 relative bg-gradient-to-br from-gray-50 to-indigo-50 rounded-lg p-2",children:(0,qe.jsx)(px,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{display:!0,beginAtZero:!0,max:105,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{font:{size:10,weight:500},color:"#6b7280",callback:e=>e+"%"},border:{display:!1}},x:{display:!0,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{font:{size:10,weight:500},color:"#6b7280"},border:{display:!1}}},plugins:{legend:{display:!1},tooltip:{enabled:!1}}},data:a})}),(0,qe.jsxs)("div",{className:"mt-3 bg-gray-50 rounded-lg p-2 border border-gray-200",children:[(0,qe.jsxs)("div",{className:"mb-2",children:[(0,qe.jsx)("h6",{className:"text-xs font-medium text-gray-700 mb-1",children:"N\xedveis de Prompting:"}),(0,qe.jsx)("div",{className:"flex flex-wrap gap-2 text-xs",children:lp().map((e=>(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.hex}}),(0,qe.jsx)("span",{className:"text-gray-600",children:e.name})]},e.id)))})]}),(0,qe.jsx)("div",{className:"border-t border-gray-200 pt-1",children:(0,qe.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("span",{className:"text-amber-500 text-sm",children:"\u2b50"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Linha de Base"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Sess\xe3o Regular"})]})]})})]})]})]})},Ev=e=>{let{isOpen:t,onClose:n}=e;const{selectedPatient:a}=rt(),{user:s,updateUser:i}=He(),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[x,b]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),[j,_]=(0,r.useState)(!1),[S,k]=(0,r.useState)(null),[C,A]=(0,r.useState)(!1),[P,L]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(t&&(l(""),h(""),m(""),d(""),b(""),N(""),g(!1),L(!1),s)){const e=!s.professional_id||!s.qualifications;A(e),e||k({professional_id:s.professional_id,qualifications:s.qualifications,professional_signature:s.professional_signature||""})}}),[t,s]);const E=(0,r.useMemo)((()=>{if(null===a||void 0===a||!a.sessionData)return[];const e=u?new Date(u+"T00:00:00"):null,t=f?new Date(f+"T23:59:59"):null;return(a.sessionData||[]).filter((n=>{const r=new Date(n.session_date);return!(e&&r<e)&&!(t&&r>t)}))}),[a,u,f]),M=(0,r.useMemo)((()=>null!==a&&void 0!==a&&a.assigned_programs?a.assigned_programs:[]),[a]);return t&&a?(0,qe.jsxs)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-4",children:[(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col transform transition-all",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[(0,qe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Gerar Relat\xf3rio Consolidado para: ",(0,qe.jsx)("span",{className:"text-indigo-600",children:a.name})]}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,qe.jsx)(za,{icon:Ei,className:"text-lg"})})]}),(0,qe.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,qe.jsxs)("div",{className:"p-6 space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg p-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qe.jsxs)("h3",{className:"text-sm font-semibold text-indigo-800 flex items-center",children:[(0,qe.jsx)(za,{icon:ai,className:"mr-2"}),"Dados Profissionais"]}),(0,qe.jsxs)("button",{onClick:()=>{_(!0)},className:"text-xs text-indigo-600 hover:text-indigo-800 flex items-center transition-colors",children:[(0,qe.jsx)(za,{icon:us,className:"mr-1"}),C?"Configurar":"Editar"]})]}),C?(0,qe.jsx)("div",{className:"text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded p-2",children:"\u26a0\ufe0f \xc9 necess\xe1rio configurar seus dados profissionais antes de gerar o relat\xf3rio."}):S?(0,qe.jsxs)("div",{className:"text-sm text-indigo-700 space-y-1",children:[(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Nome:"})," ",(null===s||void 0===s?void 0:s.full_name)||(null===s||void 0===s?void 0:s.name)]}),(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Registro:"})," ",S.professional_id]}),(0,qe.jsxs)("p",{children:[(0,qe.jsx)("strong",{children:"Qualifica\xe7\xf5es:"})," ",S.qualifications]})]}):(0,qe.jsx)("div",{className:"text-sm text-gray-500",children:"Carregando dados profissionais..."})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per\xedodo do Relat\xf3rio"}),(0,qe.jsx)(wv,{startDate:u,endDate:f,onStartDateChange:h,onEndDateChange:m,onClear:()=>{h(""),m("")},showInfo:!1}),(0,qe.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Padr\xe3o: \xfaltimo m\xeas. Limpe os filtros para incluir todos os dados."})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,qe.jsxs)("div",{className:"lg:col-span-3",children:[(0,qe.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 gap-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"An\xe1lise e Observa\xe7\xf5es do Terapeuta"}),(0,qe.jsxs)("button",{onClick:async()=>{if(a){y(!0),N("");try{const e={startDate:u||null,endDate:f||null},t=await Pv.generateConventionalReportSuggestion(a.id,E,e);b(t),g(!0)}catch(ew){console.error("Erro ao gerar sugest\xe3o:",ew),N(ew.message||"Erro ao gerar sugest\xe3o de texto.")}finally{y(!1)}}},disabled:v||!a||C,className:"flex items-center px-3 py-1.5 text-xs bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-medium rounded-md transition duration-150 ease-in-out shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,qe.jsx)(za,{icon:v?zi:Gi,className:"mr-1.5 ".concat(v?"fa-spin":"")}),v?"Gerando...":"Sugerir Texto"]})]}),(0,qe.jsxs)("div",{className:"mb-3 space-y-2",children:[(0,qe.jsxs)("p",{className:"text-xs text-gray-500",children:['Este texto ser\xe1 inclu\xeddo no in\xedcio do relat\xf3rio em PDF. Use o bot\xe3o "Sugerir Texto" para gerar automaticamente uma an\xe1lise baseada nos dados do paciente.',(0,qe.jsx)("span",{className:"hidden sm:inline",children:" Melhor experi\xeancia em desktop para formata\xe7\xe3o avan\xe7ada."})]}),(0,qe.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-2",children:(0,qe.jsxs)("p",{className:"text-xs text-amber-800",children:[(0,qe.jsx)("strong",{children:"\u26a0\ufe0f Responsabilidade Profissional:"})," A sugest\xe3o autom\xe1tica \xe9 baseada apenas em m\xe9tricas quantitativas. \xc9 ",(0,qe.jsx)("strong",{children:"imprescind\xedvel"})," que o terapeuta revise, adapte e complemente o texto com sua an\xe1lise cl\xednica qualitativa, considerando aspectos comportamentais, contextuais e individuais do paciente que n\xe3o s\xe3o capturados pelos dados num\xe9ricos."]})})]}),w&&(0,qe.jsx)("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-md",children:(0,qe.jsx)("p",{className:"text-xs text-red-600",children:w})}),(0,qe.jsx)(_v,{value:o,onChange:l,placeholder:"Escreva aqui a sua an\xe1lise qualitativa ou use o bot\xe3o 'Sugerir Texto' para gerar automaticamente...",rows:8,disabled:C})]}),(0,qe.jsx)("div",{className:"lg:col-span-1",children:(0,qe.jsx)(Sv,{sessionData:E,startDate:u,endDate:f,assignedPrograms:M,className:"sticky top-4"})})]}),(0,qe.jsxs)("div",{className:"border-t pt-6",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:Us,className:"mr-3 text-indigo-500"}),"Pr\xe9-visualiza\xe7\xe3o do Progresso no Per\xedodo"]}),(0,qe.jsx)("div",{className:"space-y-4",children:M.length>0?(()=>{const e=M.reduce(((e,t)=>{const n=t.discipline_name;return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.keys(e).sort().map((t=>(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg p-3 mb-3",children:(0,qe.jsx)("h4",{className:"text-sm font-semibold text-indigo-800",children:t})}),(0,qe.jsx)("div",{className:"space-y-3 mb-6",children:e[t].map((e=>(0,qe.jsx)(Lv,{program:e,sessionData:E},e.program_id)))})]},t)))})():(0,qe.jsx)("p",{className:"text-center text-gray-500 py-4",children:"Nenhum programa para exibir."})})]}),c&&(0,qe.jsx)("p",{className:"text-red-500 text-sm text-center",children:c})]})}),(0,qe.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3 mt-auto",children:[(0,qe.jsx)("button",{onClick:n,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,qe.jsxs)("button",{onClick:()=>{a&&o.trim()&&!C&&L(!0)},disabled:C||!o.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-md text-sm transition duration-150 ease-in-out shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-60 flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Ys}),(0,qe.jsx)("span",{children:C?"Configure Dados Profissionais":o.trim()?"Visualizar PDF":"Adicione Texto para Visualizar"})]})]})]}),(0,qe.jsx)(Nv,{isOpen:p,onClose:()=>{g(!1),b(""),N("")},suggestedText:x,currentText:o,onUseSuggestion:e=>{l(e)},onAppendSuggestion:e=>{l(e)},isGenerating:v}),(0,qe.jsx)(jv,{isOpen:j,onClose:()=>_(!1),onSave:e=>{k(e),A(!1),_(!1),i({professional_id:e.professional_id,qualifications:e.qualifications,professional_signature:e.professional_signature})},currentUser:s,title:"Configurar Dados Profissionais para Relat\xf3rio"}),(0,qe.jsx)(Cv,{isOpen:P,onClose:()=>{L(!1)},patientData:a,reportText:o,professionalData:S?(0,Ie.A)((0,Ie.A)({},S),{},{professional_name:(null===s||void 0===s?void 0:s.full_name)||(null===s||void 0===s?void 0:s.name)||"Profissional"}):null,sessionData:E,assignedPrograms:M,onUpdateReportText:e=>{l(e)}})]}):null};if("undefined"!==typeof document&&!document.querySelector("#clients-page-styles")){const e=document.createElement("style");e.id="clients-page-styles",e.textContent="\n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n  .animate-fade-in {\n    animation: fadeIn 0.6s ease-out;\n  }\n",document.head.appendChild(e)}const Mv=()=>{const{selectedPatient:e,isLoading:t,isPatientFormOpen:n,closePatientForm:a,patientToEdit:s,addPatient:i,editPatient:o,isReportModalOpen:l,closeReportModal:c}=rt(),[d,u]=(0,r.useState)(null);(0,r.useEffect)((()=>{u(null)}),[e]);return t?(0,qe.jsx)("div",{className:"flex items-center justify-center h-full text-center p-10",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-indigo-500 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"A carregar dados dos clientes..."})]})}):(0,qe.jsxs)(qe.Fragment,{children:[e?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:(0,qe.jsxs)("div",{className:"space-y-8 p-6",children:[(0,qe.jsx)("div",{className:"animate-fade-in",children:(0,qe.jsx)(nx,{})}),(0,qe.jsxs)("div",{className:"animate-fade-in",children:[(0,qe.jsx)("div",{className:"mb-6",children:(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)("div",{className:"w-1 h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full mr-4"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfaf Gest\xe3o de Programas"}),(0,qe.jsx)("p",{className:"text-gray-600 text-sm",children:"Selecione um programa \xe0 esquerda para visualizar o progresso detalhado"})]})]})}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,qe.jsx)("div",{className:"lg:col-span-2",children:(0,qe.jsx)(sx,{onProgramSelect:e=>{u(e)},selectedProgramId:null===d||void 0===d?void 0:d.assignment_id})}),(0,qe.jsx)("div",{className:"lg:col-span-3",children:(0,qe.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden min-h-[600px]",children:d?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-4",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:"\ud83d\udcc8 Progresso do Programa"}),(0,qe.jsx)("p",{className:"text-blue-100 text-sm mt-1 truncate",children:d.program_name})]}),(0,qe.jsx)("div",{className:"p-6",children:(0,qe.jsx)(yv,{program:d,assignment:d})})]}):(0,qe.jsx)("div",{className:"flex items-center justify-center h-full text-center p-8",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-indigo-100 p-6 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:(0,qe.jsx)("span",{className:"text-4xl",children:"\ud83d\udcc8"})}),(0,qe.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Selecione um Programa"}),(0,qe.jsx)("p",{className:"text-gray-500 leading-relaxed max-w-md mx-auto",children:"Escolha um programa na lista ao lado para visualizar gr\xe1ficos de progresso, hist\xf3rico de sess\xf5es e dados detalhados de desempenho."}),(0,qe.jsxs)("div",{className:"mt-6 flex items-center justify-center space-x-2 text-sm text-gray-400",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),(0,qe.jsx)("span",{children:"Aguardando sele\xe7\xe3o"})]})]})})})})]})]})]})}):(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-8 rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center shadow-lg",children:(0,qe.jsx)(za,{icon:ki,className:"text-6xl text-indigo-600"})}),(0,qe.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Bem-vindo \xe0 Gest\xe3o de Clientes"}),(0,qe.jsx)("p",{className:"text-lg text-gray-600 mb-6 max-w-lg mx-auto leading-relaxed",children:"Selecione um cliente na barra lateral para acessar informa\xe7\xf5es detalhadas, gerenciar programas de interven\xe7\xe3o e acompanhar o progresso."}),(0,qe.jsx)("div",{className:"bg-white border-2 border-dashed border-indigo-300 rounded-lg p-6 max-w-md mx-auto",children:(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-3 text-indigo-600",children:[(0,qe.jsx)("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"font-medium",children:"Aguardando sele\xe7\xe3o de cliente"})]})})]})}),(0,qe.jsx)(ax,{isOpen:n,onClose:a,onSave:async e=>{s?await o(e):await i(e)},patientToEdit:s}),(0,qe.jsx)(Ev,{isOpen:l,onClose:c})]})},Dv=e=>{let{program:t,onAssign:n,isAssigning:r,isPatientSelected:a,isAssigned:s}=e;const i=t.objective?t.objective:"Nenhum objetivo definido.",o=(e=>e.skill&&e.skill.includes("vbmapp"))(t);return(0,qe.jsxs)("div",{className:"\n      bg-white border-2 rounded-xl shadow-sm flex flex-col justify-between transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1\n      ".concat(s?"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50":"border-gray-200 hover:border-indigo-300","\n    "),children:[(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex-1 pr-3",children:[(0,qe.jsx)("h3",{className:"text-lg font-bold leading-tight ".concat(s?"text-green-800":"text-gray-800"),children:t.name}),o&&(0,qe.jsx)("div",{className:"mt-2",children:(0,qe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-teal-100 to-cyan-100 text-teal-800 border border-teal-200",children:[(0,qe.jsx)(za,{icon:ws,className:"mr-1 text-teal-600"}),"VB-MAPP"]})})]}),s&&(0,qe.jsx)("div",{className:"bg-green-100 p-2 rounded-full",children:(0,qe.jsx)(za,{icon:Qi,className:"text-green-600 text-sm"})})]}),(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,qe.jsx)(za,{icon:gs,className:"text-indigo-500 mr-2"}),(0,qe.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"Objetivos"})]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",title:i,children:i.length>120?"".concat(i.substring(0,120),"..."):i})]}),(()=>{const e=(e=>{if(!e)return null;try{const t="string"===typeof e?JSON.parse(e):e,n=new Set;return t.forEach((e=>{e.sd&&n.add("SD"),(e.r||e.R)&&n.add("R"),(e.c||e.C)&&n.add("C"),e.dica&&n.add("Dica")})),n.size>0?Array.from(n).sort():null}catch(Zy){return null}})(t.procedure);return e&&(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,qe.jsx)(za,{icon:ii,className:"text-emerald-500 mr-2"}),(0,qe.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"Componentes ABA"})]}),(0,qe.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map((e=>(0,qe.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",title:"SD"===e?"Est\xedmulo Discriminativo":"R"===e?"Resposta":"C"===e?"Consequ\xeancia":"Dica"===e?"Prompt":e,children:e},e)))})]})})(),t.tags&&t.tags.length>0&&(0,qe.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.tags.slice(0,3).map(((e,t)=>{const n=(e=>({Mando:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},Tato:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},Ecoico:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},Intraverbal:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200"}}[e]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}))(e);return(0,qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ".concat(n.bg," ").concat(n.text," ").concat(n.border),children:[(0,qe.jsx)(za,{icon:ti,className:"mr-1"}),e]},t)})),t.tags.length>3&&(0,qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200",children:["+",t.tags.length-3," mais"]})]})]}),(0,qe.jsx)("div",{className:"border-t p-4 ".concat(s?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gray-50 border-gray-200"),children:s?(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-lg flex items-center justify-center space-x-2 shadow-sm",children:[(0,qe.jsx)("div",{className:"bg-white bg-opacity-20 p-1 rounded-full",children:(0,qe.jsx)(za,{icon:Qi,className:"text-sm"})}),(0,qe.jsx)("span",{className:"font-semibold text-sm",children:"J\xe1 Atribu\xeddo"})]}):(0,qe.jsx)("button",{onClick:()=>n(t.id),disabled:!a||r,title:a?"Atribuir ao cliente":"Selecione um cliente para atribuir",className:"\n            px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 flex items-center justify-center space-x-2 w-full shadow-sm transform\n            ".concat(a?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700 hover:scale-105 active:scale-95":"bg-gray-200 text-gray-500 cursor-not-allowed","\n          "),children:r?(0,qe.jsx)(za,{icon:zi,className:"fa-spin"}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{className:"p-1 rounded-full ".concat(a?"bg-white bg-opacity-20":"bg-gray-300"),children:(0,qe.jsx)(za,{icon:Pi,className:"text-sm"})}),(0,qe.jsx)("span",{children:"Atribuir Programa"})]})})})]})},Ov=e=>{let{onProgramSelect:t,onAssign:n,assigningId:a,assignedPrograms:s=[],isPatientSelected:i=!1,disciplineName:o="",disciplineDisplayName:l="",disciplineColors:c={}}=e;const[d,u]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[m,p]=(0,r.useState)([]),[g,x]=(0,r.useState)(!1),[b,v]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),N=(0,r.useRef)(null),j=(0,r.useRef)(null),_=(0,r.useCallback)((async e=>{if(e.trim()){x(!0);try{const t=await(0,Je.sp)(e,o);p(t.slice(0,8))}catch(t){console.error("Erro na busca:",t),p([])}finally{x(!1)}}else p([])}),[o]);(0,r.useEffect)((()=>{const e=setTimeout((()=>{_(d)}),300);return()=>clearTimeout(e)}),[d,_]),(0,r.useEffect)((()=>{f(d.length>0&&(m.length>0||g))}),[d,m,g]),(0,r.useEffect)((()=>{const e=e=>{N.current&&!N.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"assign"===t&&n?(n(e.id),u(""),f(!1)):"view"===t&&(r&&r.stopPropagation(),v(e),w(!0))},k=e=>Array.isArray(s)&&s.some((t=>t.program_id===e)),C=e=>{const t=[];return e.area_name&&e.area_name!==e.sub_area_name&&t.push(e.area_name),e.sub_area_name&&t.push(e.sub_area_name),t.join(" \u2192 ")};return(0,qe.jsxs)("div",{className:"relative mb-6",children:[(0,qe.jsxs)("div",{className:"relative",ref:N,children:[(0,qe.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 z-10",children:(0,qe.jsx)(za,{icon:yi,className:"".concat(c.text||"text-gray-400"," transition-colors")})}),(0,qe.jsx)("input",{type:"text",placeholder:"Buscar programas de ".concat(l||o,"..."),value:d,onChange:e=>u(e.target.value),className:"\n            w-full pl-10 pr-12 py-3 \n            border-2 rounded-lg \n            placeholder-gray-400 text-gray-800 \n            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 \n            transition-all duration-200 border-gray-300 focus:border-blue-500\n            ".concat(h?"rounded-b-none":"","\n          ")}),d&&(0,qe.jsx)("button",{onClick:()=>{var e;u(""),f(!1),null===(e=N.current)||void 0===e||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),h&&(0,qe.jsx)("div",{ref:j,className:"\n            absolute top-full left-0 right-0 z-50 \n            bg-white border-2 border-t-0 rounded-b-lg shadow-xl\n            max-h-96 overflow-y-auto border-gray-300\n          ",children:g?(0,qe.jsxs)("div",{className:"px-4 py-6 text-center text-gray-500",children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-2xl mb-2 opacity-50"}),(0,qe.jsx)("p",{children:"Buscando programas..."})]}):m.length>0?(0,qe.jsx)("div",{className:"py-2",children:m.map(((e,t)=>{const n=k(e.id),r=a===e.id;return(0,qe.jsx)("div",{className:"\n                      px-4 py-3 hover:bg-gray-50 transition-colors\n                      ".concat(t<m.length-1?"border-b border-gray-100":"","\n                    "),children:(0,qe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,qe.jsx)(za,{icon:Ki,className:"text-sm ".concat(c.text||"text-gray-500")}),(0,qe.jsx)("h4",{className:"font-semibold text-gray-800 truncate",children:e.name}),n&&(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Atribu\xeddo"})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:C(e)}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.objective||"Sem objetivo definido"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2 ml-3",children:[(0,qe.jsx)("button",{onClick:t=>S(e,"view",t),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Visualizar programa",children:(0,qe.jsx)(za,{icon:Ys,className:"text-sm"})}),i&&!n&&(0,qe.jsx)("button",{onClick:()=>S(e,"assign"),disabled:r,className:"\n                              p-2 rounded-lg transition-colors text-sm\n                              ".concat(r?"text-gray-400 cursor-not-allowed":"text-white bg-blue-600 hover:bg-blue-700","\n                            "),title:"Atribuir programa",children:(0,qe.jsx)(za,{icon:r?zi:Pi,className:r?"fa-spin":""})})]})]})},e.id)}))}):(0,qe.jsxs)("div",{className:"px-4 py-6 text-center text-gray-500",children:[(0,qe.jsx)(za,{icon:yi,className:"text-2xl mb-2 opacity-50"}),(0,qe.jsx)("p",{children:"Nenhum programa encontrado"}),(0,qe.jsx)("p",{className:"text-xs mt-1",children:"Tente buscar por nome, objetivo ou \xe1rea"})]})}),y&&b&&(0,qe.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,qe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:b.name}),(0,qe.jsxs)("p",{className:"text-sm text-gray-500",children:[b.discipline_name," \u2192 ",b.area_name," \u2192 ",b.sub_area_name]})]}),(0,qe.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:(0,qe.jsx)(za,{icon:Ei})})]})}),(0,qe.jsxs)("div",{className:"p-6 space-y-4",children:[b.objective&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Objetivo:"}),(0,qe.jsx)("p",{className:"text-gray-600 leading-relaxed",children:b.objective})]}),b.skill&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Habilidade:"}),(0,qe.jsx)("p",{className:"text-gray-600 leading-relaxed",children:b.skill})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[b.program_slug&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-semibold text-gray-700 mb-1",children:"Tag:"}),(0,qe.jsx)("p",{className:"text-gray-600",children:b.program_slug})]}),b.trials&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-semibold text-gray-700 mb-1",children:"Tentativas:"}),(0,qe.jsx)("p",{className:"text-gray-600",children:b.trials})]})]})]}),(0,qe.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Fechar"}),i&&!k(b.id)&&(0,qe.jsx)("button",{onClick:()=>{S(b,"assign"),w(!1)},disabled:a===b.id,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:a===b.id?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin mr-2"}),"Atribuindo..."]}):"Atribuir Programa"})]})})]})})]})},Tv=e=>{let{onAssign:t,assigningId:n,assignedPrograms:a,isPatientSelected:s}=e;const{disciplines:i,isLoading:o,error:l}=it(),[c,d]=(0,r.useState)(null);if((0,r.useEffect)((()=>{i&&Object.keys(i).length>0&&d(Object.keys(i)[0])}),[i]),o)return(0,qe.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-purple-500 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Carregando biblioteca de programas..."})]})});if(l)return(0,qe.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-6 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:eo,className:"text-red-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-red-800 font-medium mb-1",children:"Erro ao Carregar Programas"}),(0,qe.jsx)("p",{className:"text-red-700 text-sm",children:l})]})]})});if(!i||0===Object.keys(i).length)return(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-8 text-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-slate-100 p-6 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:yi,className:"text-4xl text-gray-400"})}),(0,qe.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Biblioteca Vazia"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Nenhum programa encontrado na biblioteca."})]});const u=c?i[c]:{},h=e=>({Fonoaudiologia:{bg:"from-blue-500 to-indigo-600",light:"from-blue-50 to-indigo-50",border:"border-blue-300",text:"text-blue-700"},Psicologia:{bg:"from-red-500 to-pink-600",light:"from-red-50 to-pink-50",border:"border-red-300",text:"text-red-700"},Musicoterapia:{bg:"from-purple-500 to-violet-600",light:"from-purple-50 to-violet-50",border:"border-purple-300",text:"text-purple-700"},TerapiaOcupacional:{bg:"from-orange-500 to-amber-600",light:"from-orange-50 to-amber-50",border:"border-orange-300",text:"text-orange-700"},Psicomotricidade:{bg:"from-green-500 to-emerald-600",light:"from-green-50 to-emerald-50",border:"border-green-300",text:"text-green-700"},Psicopedagogia:{bg:"from-yellow-500 to-orange-600",light:"from-yellow-50 to-orange-50",border:"border-yellow-300",text:"text-yellow-700"},"VB-MAPP":{bg:"from-teal-500 to-cyan-600",light:"from-teal-50 to-cyan-50",border:"border-teal-300",text:"text-teal-700"}}[e]||{bg:"from-gray-500 to-slate-600",light:"from-gray-50 to-slate-50",border:"border-gray-300",text:"text-gray-700"}),f=e=>e.replace(/([A-Z])/g," $1").trim();return(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[(0,qe.jsx)("div",{className:"border-b border-gray-200",children:(0,qe.jsx)("div",{className:"flex flex-wrap",children:Object.keys(i).map(((e,t)=>{const n=h(e),r=c===e;return(0,qe.jsxs)("button",{className:"\n                  flex-1 min-w-0 px-6 py-4 font-semibold text-sm transition-all duration-200 relative\n                  ".concat(r?"bg-gradient-to-r ".concat(n.bg," text-white shadow-lg"):"bg-gradient-to-r ".concat(n.light," ").concat(n.text," hover:shadow-md"),"\n                  ").concat(0===t?"rounded-tl-xl":"","\n                  ").concat(t===Object.keys(i).length-1?"rounded-tr-xl":"","\n                "),onClick:()=>(e=>{d(e)})(e),children:[(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,qe.jsx)(za,{icon:so,className:"flex-shrink-0"}),(0,qe.jsx)("span",{className:"truncate",children:f(e)})]}),r&&(0,qe.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white bg-opacity-30 rounded-full"})]},e)}))})}),(0,qe.jsx)("div",{className:"p-6",children:c&&Object.keys(u).length>0?(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsx)(Ov,{onProgramSelect:()=>{},onAssign:t,assigningId:n,assignedPrograms:a,isPatientSelected:s,disciplineName:c,disciplineDisplayName:f(c),disciplineColors:h(c)}),(0,qe.jsx)("div",{className:"border-b border-gray-200 my-6"}),Object.keys(u).map((e=>{const r=u[e],i=h(c);return(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r ".concat(i.light," border-l-4 ").concat(i.border," p-4 rounded-r-lg"),children:(0,qe.jsxs)("h3",{className:"text-xl font-bold ".concat(i.text," flex items-center"),children:[(0,qe.jsx)(za,{icon:Rs,className:"mr-3"}),e]})}),Object.keys(r).map((i=>{const o=r[i],l=(null===o||void 0===o?void 0:o.length)||0;if(0===l)return null;const c=(null===o||void 0===o?void 0:o.filter((e=>Array.isArray(a)&&a.some((t=>t.program_id===e.id)))).length)||0;return(0,qe.jsxs)("div",{className:"space-y-4",children:[i!==e&&(0,qe.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 pb-3",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:i}),(0,qe.jsxs)("div",{className:"flex space-x-4 text-sm",children:[(0,qe.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[l," programa",1!==l?"s":""]}),c>0&&(0,qe.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full",children:[c," atribu\xeddo",1!==c?"s":""]})]})]}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:null===o||void 0===o?void 0:o.map((e=>{const r=Array.isArray(a)&&a.some((t=>t.program_id===e.id));return(0,qe.jsx)(Dv,{program:e,onAssign:t,isAssigned:r,isAssigning:n===e.id,isPatientSelected:s},e.id)}))})]},i)}))]},e)}))]}):(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-slate-100 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:yi,className:"text-3xl text-gray-400"})}),(0,qe.jsx)("p",{className:"text-gray-500 text-lg",children:"Selecione uma disciplina para explorar os programas"})]})})]})};if("undefined"!==typeof document&&!document.querySelector("#programs-page-styles")){const e=document.createElement("style");e.id="programs-page-styles",e.textContent="\n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n  .animate-fade-in {\n    animation: fadeIn 0.6s ease-out;\n  }\n",document.head.appendChild(e)}const Rv=()=>{const{selectedPatient:e,refreshPatientData:t}=rt(),{isLoading:n,error:a}=it(),{token:s}=He(),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)("");return n?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-purple-50 flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 p-8 rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center shadow-lg",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-purple-600"})}),(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Carregando Biblioteca"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Preparando os programas de interven\xe7\xe3o..."})]})}):a?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 flex items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-white border border-red-200 rounded-xl shadow-sm overflow-hidden max-w-lg w-full",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 px-6 py-4",children:[(0,qe.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"mr-3"}),"Erro ao Carregar"]}),(0,qe.jsx)("p",{className:"text-red-100 text-sm mt-1",children:"N\xe3o foi poss\xedvel acessar a biblioteca de programas"})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsx)("p",{className:"text-red-800 mb-4",children:a||"N\xe3o foi poss\xedvel carregar os programas."}),(0,qe.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Tentar Novamente"})]})]})}):(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-purple-50",children:(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsx)("div",{className:"animate-fade-in mb-8",children:(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 px-8 py-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center",children:[(0,qe.jsx)(za,{icon:Ki,className:"mr-4"}),"Biblioteca de Programas"]}),(0,qe.jsx)("p",{className:"text-purple-100 text-lg mt-2",children:"Explore e atribua programas de interven\xe7\xe3o especializados"})]}),e&&(0,qe.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[(0,qe.jsx)(za,{icon:ki,className:"text-white text-2xl mb-2"}),(0,qe.jsx)("p",{className:"text-white text-sm font-medium",children:e.name}),(0,qe.jsx)("p",{className:"text-purple-100 text-xs",children:"Cliente selecionado"})]})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[l&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-4 mb-4 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:eo,className:"text-red-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-red-800 font-medium mb-1",children:"Erro na Opera\xe7\xe3o"}),(0,qe.jsx)("p",{className:"text-red-700 text-sm",children:l})]})]})}),!e&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:ii,className:"text-amber-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-amber-800 font-medium mb-1",children:"\ud83d\udc65 Selecione um Cliente"}),(0,qe.jsx)("p",{className:"text-amber-700 text-sm leading-relaxed",children:"Para visualizar os programas e realizar atribui\xe7\xf5es, \xe9 necess\xe1rio primeiro selecionar um cliente na barra lateral."})]})]})})]})]})}),(0,qe.jsx)("div",{className:"animate-fade-in",children:e?(0,qe.jsx)(Tv,{onAssign:async n=>{if(e)if(s){o(n),c("");try{await et(e.id,n,s),t&&await t(e.id)}catch(r){console.error("Falha ao atribuir programa:",r),c(r.message||"Ocorreu um erro ao atribuir o programa.")}finally{o(null)}}else c("Erro de autentica\xe7\xe3o. Por favor, fa\xe7a login novamente.");else c("Nenhum cliente selecionado para atribuir o programa.")},isPatientSelected:!!e,assigningId:i,assignedPrograms:e.assigned_programs||[]}):(0,qe.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:(0,qe.jsx)("div",{className:"flex items-center justify-center h-96 text-center p-8",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-8 rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Ki,className:"text-5xl text-indigo-600"})}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Biblioteca Pronta para Uso"}),(0,qe.jsx)("p",{className:"text-gray-600 leading-relaxed max-w-md mx-auto mb-6",children:"Nossa biblioteca cont\xe9m centenas de programas organizados por disciplinas e \xe1reas de interven\xe7\xe3o. Selecione um cliente para come\xe7ar a explorar."}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-dashed border-indigo-300 rounded-lg p-4 max-w-sm mx-auto",children:(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-3 text-indigo-600",children:[(0,qe.jsx)("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"font-medium",children:"Aguardando sele\xe7\xe3o de cliente"})]})})]})})})})]})})};if("undefined"!==typeof document&&!document.querySelector("#notes-page-styles")){const e=document.createElement("style");e.id="notes-page-styles",e.textContent="\n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n  .animate-fade-in {\n    animation: fadeIn 0.6s ease-out;\n  }\n",document.head.appendChild(e)}const Iv=()=>{const{selectedPatient:e,saveNotes:t}=rt(),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(e){const t=e.general_notes||"";a(t)}else a("");l(!1),d(""),h(null)}),[e]);return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50",children:(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsx)("div",{className:"animate-fade-in mb-8",children:(0,qe.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 px-8 py-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center",children:[(0,qe.jsx)(za,{icon:Qa,className:"mr-4"}),"Anota\xe7\xf5es Gerais"]}),(0,qe.jsx)("p",{className:"text-indigo-100 text-lg mt-2",children:"Registre observa\xe7\xf5es, progresso e informa\xe7\xf5es importantes"})]}),e&&(0,qe.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[(0,qe.jsx)(za,{icon:ki,className:"text-white text-2xl mb-2"}),(0,qe.jsx)("p",{className:"text-white text-sm font-medium",children:e.name}),(0,qe.jsx)("p",{className:"text-indigo-100 text-xs",children:"Cliente selecionado"})]})]})})})}),(0,qe.jsx)("div",{className:"animate-fade-in",children:e?(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-200 px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full",children:(0,qe.jsx)(za,{icon:Ya,className:"text-indigo-600"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Anota\xe7\xf5es para ",e.name]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Documente informa\xe7\xf5es relevantes sobre o cliente"})]})]}),(0,qe.jsx)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:u&&(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:ci,className:"text-green-500"}),(0,qe.jsxs)("span",{className:"text-green-600",children:["Salvo em ",(f=u,f?f.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"")]})]})})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[c&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:eo,className:"text-red-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-red-800 font-medium mb-1",children:"Erro ao Salvar"}),(0,qe.jsx)("p",{className:"text-red-700 text-sm",children:c})]})]})}),o&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 p-4 mb-6 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:Qi,className:"text-green-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-green-800 font-medium mb-1",children:"Anota\xe7\xf5es Salvas"}),(0,qe.jsx)("p",{className:"text-green-700 text-sm",children:"As informa\xe7\xf5es foram salvas com sucesso"})]})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400 p-4 mb-6 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:ii,className:"text-blue-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-blue-800 font-medium mb-1",children:"\ud83d\udcdd Dicas para Anota\xe7\xf5es Eficazes"}),(0,qe.jsxs)("ul",{className:"text-blue-700 text-sm space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 Registre comportamentos observados e padr\xf5es identificados"}),(0,qe.jsx)("li",{children:"\u2022 Documente progress\xf5es, regress\xf5es e marcos importantes"}),(0,qe.jsx)("li",{children:"\u2022 Inclua informa\xe7\xf5es sobre resposta aos programas de interven\xe7\xe3o"}),(0,qe.jsx)("li",{children:"\u2022 Anote considera\xe7\xf5es para planejamento futuro"})]})]})]})}),(0,qe.jsx)("div",{className:"border-2 border-gray-200 rounded-lg focus-within:border-amber-400 focus-within:ring-4 focus-within:ring-amber-100 transition-all",children:(0,qe.jsx)("textarea",{id:"notes-textarea",placeholder:"Comece a escrever suas anota\xe7\xf5es sobre o cliente aqui... Exemplos do que incluir:\n\u2022 Observa\xe7\xf5es comportamentais\n\u2022 Resposta aos programas de interven\xe7\xe3o\n\u2022 Intera\xe7\xf5es sociais e comunicativas\n\u2022 Marcos e progress\xf5es importantes\n\u2022 Desafios identificados\n\u2022 Recomenda\xe7\xf5es para sess\xf5es futuras",rows:"20",value:n,onChange:e=>a(e.target.value),className:"w-full px-6 py-4 border-none rounded-lg resize-vertical text-base leading-relaxed focus:outline-none placeholder:text-gray-400 placeholder:text-sm"})}),(0,qe.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:Xa,className:"text-amber-500"}),(0,qe.jsx)("span",{children:"Editado hoje"})]}),(0,qe.jsx)("div",{className:"w-px h-4 bg-gray-300"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(n!==(e.general_notes||"")?"bg-yellow-500 animate-pulse":"bg-green-500")}),(0,qe.jsx)("span",{children:n!==(e.general_notes||"")?"Altera\xe7\xf5es n\xe3o salvas":"Tudo salvo"})]})]}),(0,qe.jsxs)("button",{onClick:async()=>{if(e){i(!0),l(!1),d("");try{await t(n),l(!0),h(new Date),setTimeout((()=>l(!1)),3e3)}catch(ew){d(ew.message||"Ocorreu um erro ao guardar as anota\xe7\xf5es.")}finally{i(!1)}}else d("Nenhum cliente selecionado.")},disabled:s||!e||n===(e.general_notes||""),className:"\n                      font-semibold py-3 px-8 rounded-lg text-sm transition-all duration-200 flex items-center justify-center min-w-[160px] shadow-sm transform hover:scale-105 disabled:hover:scale-100\n                      ".concat(o?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-green-200":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white shadow-indigo-200 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-gray-200","\n                    "),children:[(0,qe.jsx)("div",{className:"bg-white bg-opacity-20 p-1 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:s?zi:o?Qi:Xs,className:"text-sm ".concat(s&&"fa-spin")})}),s?"Salvando...":o?"Salvo com Sucesso!":"Salvar Anota\xe7\xf5es"]})]})]})]}):(0,qe.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:(0,qe.jsx)("div",{className:"flex items-center justify-center h-96 text-center p-8",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-8 rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Qa,className:"text-5xl text-indigo-600"})}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Editor de Anota\xe7\xf5es"}),(0,qe.jsx)("p",{className:"text-gray-600 leading-relaxed max-w-md mx-auto mb-6",children:"Selecione um cliente na barra lateral para come\xe7ar a registrar anota\xe7\xf5es importantes sobre seu progresso e desenvolvimento."}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-dashed border-indigo-300 rounded-lg p-4 max-w-sm mx-auto",children:(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-3 text-indigo-600",children:[(0,qe.jsx)("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"font-medium",children:"Aguardando sele\xe7\xe3o de cliente"})]})})]})})})})]})});var f};rf.register(Pm,Dm,wf,vf,lm,Sm,im,nm,mv);const Fv=e=>{let{title:t,value:n,icon:r,colorClass:a,interpretation:s}=e;const i=s?(e=>{switch(e){case"good":return{bg:"bg-green-100",border:"border-green-200",icon:Es,color:"text-green-600"};case"attention":return{bg:"bg-yellow-100",border:"border-yellow-200",icon:eo,color:"text-yellow-600"};case"critical":return{bg:"bg-red-100",border:"border-red-200",icon:eo,color:"text-red-600"};default:return{bg:"bg-gray-100",border:"border-gray-200",icon:ii,color:"text-gray-600"}}})(s):null;return(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border ".concat(i?i.border:"border-gray-200"," flex items-start space-x-4 relative"),children:[(0,qe.jsx)("div",{className:"text-xl p-3 rounded-full ".concat(a.bg," ").concat(a.text),children:(0,qe.jsx)(za,{icon:r,className:"fa-fw"})}),(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),(0,qe.jsx)("p",{className:"text-3xl font-semibold ".concat(a.text),children:n})]}),i&&(0,qe.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full ".concat(i.bg," flex items-center justify-center"),children:(0,qe.jsx)(za,{icon:i.icon,className:"text-xs ".concat(i.color)})})]})},zv=()=>(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm mb-8 overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:[(0,qe.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,qe.jsx)(za,{icon:ii,className:"mr-3"}),"Guia de M\xe9tricas ABA"]}),(0,qe.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Compreenda os indicadores e interpreta\xe7\xf5es utilizados"})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4 pb-2 border-b border-gray-200",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),(0,qe.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"\ud83d\udcca Defini\xe7\xf5es das M\xe9tricas"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[(0,qe.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83d\udcca"})," Progresso M\xe9dio"]}),(0,qe.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"M\xe9dia de todas as sess\xf5es de interven\xe7\xe3o no per\xedodo selecionado."}),(0,qe.jsx)("div",{className:"mt-2 text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded-full inline-block",children:"Meta: \u226570%"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[(0,qe.jsx)("span",{className:"text-purple-600 mr-2",children:"\ud83c\udfaf"})," Taxa de Aquisi\xe7\xe3o"]}),(0,qe.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Percentual de programas que atingiram crit\xe9rio (\u226580%) recentemente."}),(0,qe.jsx)("div",{className:"mt-2 text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded-full inline-block",children:"Meta: \u226530%"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-4 rounded-lg border-l-4 border-amber-500",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[(0,qe.jsx)("span",{className:"text-amber-600 mr-2",children:"\u23f1\ufe0f"})," Frequ\xeancia Semanal"]}),(0,qe.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"N\xfamero de dias \xfanicos com sess\xf5es por semana em m\xe9dia."}),(0,qe.jsx)("div",{className:"mt-2 text-xs text-amber-700 bg-amber-100 px-2 py-1 rounded-full inline-block",children:"Ideal ABA: 3-5 dias/semana"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border-l-4 border-green-500",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[(0,qe.jsx)("span",{className:"text-green-600 mr-2",children:"\ud83d\udcc8"})," Estabilidade"]}),(0,qe.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Consist\xeancia da performance (0-100). Alta estabilidade indica manuten\xe7\xe3o."}),(0,qe.jsx)("div",{className:"mt-2 text-xs text-green-700 bg-green-100 px-2 py-1 rounded-full inline-block",children:"Alta: \u226580%"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-4 rounded-lg border-l-4 border-emerald-500",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[(0,qe.jsx)("span",{className:"text-emerald-600 mr-2",children:"\ud83c\udfc6"})," Programas na Meta"]}),(0,qe.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Quantidade de programas que atingiram \u226580% de desempenho m\xe9dio."}),(0,qe.jsx)("div",{className:"mt-2 text-xs text-emerald-700 bg-emerald-100 px-2 py-1 rounded-full inline-block",children:"Objetivo: Maioria"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg border-l-4 border-indigo-500",children:[(0,qe.jsxs)("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[(0,qe.jsx)("span",{className:"text-indigo-600 mr-2",children:"\ud83d\udcc5"})," Dias at\xe9 Crit\xe9rio"]}),(0,qe.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Tempo m\xe9dio para dominar habilidades. Varia por complexidade da tarefa."}),(0,qe.jsx)("div",{className:"mt-2 text-xs text-indigo-700 bg-indigo-100 px-2 py-1 rounded-full inline-block",children:"Vari\xe1vel"})]})]})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4 pb-2 border-b border-gray-200",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),(0,qe.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"\ud83c\udfa8 Sistema de Interpreta\xe7\xe3o"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg",children:[(0,qe.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Os indicadores visuais nas m\xe9tricas seguem este sistema de cores:"}),(0,qe.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 bg-white px-4 py-2 rounded-lg shadow-sm",children:[(0,qe.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full shadow-sm"}),(0,qe.jsx)("span",{className:"text-green-700 font-medium",children:"Bom desempenho"}),(0,qe.jsx)("span",{className:"text-gray-500 text-sm",children:"- Dentro das metas"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3 bg-white px-4 py-2 rounded-lg shadow-sm",children:[(0,qe.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded-full shadow-sm"}),(0,qe.jsx)("span",{className:"text-yellow-700 font-medium",children:"Requer aten\xe7\xe3o"}),(0,qe.jsx)("span",{className:"text-gray-500 text-sm",children:"- Monitoramento necess\xe1rio"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3 bg-white px-4 py-2 rounded-lg shadow-sm",children:[(0,qe.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full shadow-sm"}),(0,qe.jsx)("span",{className:"text-red-700 font-medium",children:"Cr\xedtico"}),(0,qe.jsx)("span",{className:"text-gray-500 text-sm",children:"- A\xe7\xe3o imediata necess\xe1ria"})]})]})]})]}),(0,qe.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:is,className:"text-blue-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-blue-800 font-medium mb-1",children:"Dica Profissional"}),(0,qe.jsx)("p",{className:"text-blue-700 text-sm leading-relaxed",children:"Use estas m\xe9tricas em conjunto para uma an\xe1lise completa do progresso. M\xe9tricas isoladas podem n\xe3o refletir o quadro completo do desenvolvimento."})]})]})})]})]}),Bv=e=>{let{recommendations:t,regressionAlerts:n}=e;return 0===t.length&&0===n?null:(0,qe.jsxs)("div",{className:"bg-white border border-orange-200 rounded-xl shadow-sm mb-8 overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 px-6 py-4",children:[(0,qe.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,qe.jsx)(za,{icon:is,className:"mr-3"}),"Recomenda\xe7\xf5es Cl\xednicas"]}),(0,qe.jsx)("p",{className:"text-orange-100 text-sm mt-1",children:"Sugest\xf5es baseadas na an\xe1lise dos dados"})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"space-y-4",children:[n>0&&(0,qe.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("div",{className:"bg-red-100 p-2 rounded-full",children:(0,qe.jsx)(za,{icon:eo,className:"text-red-600"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"font-semibold text-red-800 mb-1",children:"\u26a0\ufe0f Alerta de Regress\xe3o"}),(0,qe.jsxs)("p",{className:"text-red-700 text-sm",children:[n," programa",n>1?"s apresentam":" apresenta"," decl\xednio na performance. Revis\xe3o imediata recomendada."]})]})]})}),t.length>0&&(0,qe.jsx)("div",{className:"space-y-3",children:t.map(((e,t)=>(0,qe.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("div",{className:"bg-amber-100 p-2 rounded-full flex-shrink-0",children:(0,qe.jsx)(za,{icon:is,className:"text-amber-600"})}),(0,qe.jsx)("div",{className:"min-w-0 flex-1",children:(0,qe.jsx)("p",{className:"text-gray-800 text-sm leading-relaxed",children:e})})]})},t)))})]}),(t.length>0||n>0)&&(0,qe.jsx)("div",{className:"mt-6 bg-orange-50 border border-orange-200 p-4 rounded-lg",children:(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)(za,{icon:ii,className:"text-orange-600 mt-1 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-orange-800 font-medium mb-1",children:"\ud83d\udca1 Dica"}),(0,qe.jsx)("p",{className:"text-orange-700 text-sm leading-relaxed",children:"Estas recomenda\xe7\xf5es s\xe3o geradas automaticamente com base nas m\xe9tricas atuais. Considere o contexto cl\xednico individual ao implementar mudan\xe7as."})]})]})})]})]})},qv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";if(!e)return"N/A";const n=new Date(e);if(isNaN(n.getTime()))return"Data inv\xe1lida";const r=6e4*n.getTimezoneOffset(),a=new Date(n.getTime()+r),s={day:"2-digit",month:"2-digit",year:"numeric"};return"short"===t?a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):("datetime"===t&&(s.hour="2-digit",s.minute="2-digit"),a.toLocaleDateString("pt-BR",s))},Uv=e=>{let{sessionData:t,activePrograms:n,analytics:r}=e;const a=(()=>{if(!t||0===t.length||!n||0===n.length)return[];const e={};n.forEach((t=>{const n=t.discipline_name||"Outros";e[n]||(e[n]={name:n,programIds:new Set,sessions:[],totalScore:0,sessionCount:0}),e[n].programIds.add(t.program_id)}));const r=t.filter((e=>!e.is_baseline));return r.forEach((t=>{Object.values(e).forEach((e=>{e.programIds.has(t.program_id)&&(e.sessions.push(t),e.totalScore+=t.score,e.sessionCount+=1)}))})),Object.values(e).filter((e=>e.sessionCount>0)).map((e=>{const t=e.totalScore/e.sessionCount,n=e.sessions;let r="stable";if(n.length>=6){const e=n.slice(0,Math.floor(n.length/2)),t=n.slice(Math.floor(n.length/2)),a=e.reduce(((e,t)=>e+t.score),0)/e.length,s=t.reduce(((e,t)=>e+t.score),0)/t.length,i=s-a;i>5?r="improving":i<-5&&(r="declining")}return{name:e.name,average:Math.round(10*t)/10,sessionCount:e.sessionCount,trend:r,programCount:e.programIds.size}})).sort(((e,t)=>t.average-e.average))})();if(0===a.length)return(0,qe.jsx)("div",{className:"flex items-center justify-center h-full text-center text-gray-400 bg-gray-50 rounded-lg p-6",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)(za,{icon:Us,className:"text-4xl mb-3"}),(0,qe.jsx)("p",{children:"N\xe3o h\xe1 dados suficientes no per\xedodo selecionado para gerar o resumo por disciplina."})]})});return(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg border border-indigo-200",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"font-semibold text-gray-800",children:"Resumo Geral"}),(0,qe.jsxs)("p",{className:"text-sm text-gray-600",children:[a.length," disciplina",1!==a.length?"s":""," \u2022 "," ","M\xe9dia geral: ",Math.round(a.reduce(((e,t)=>e+t.average),0)/a.length*10)/10,"%"]})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsxs)("div",{className:"text-2xl font-bold text-indigo-600",children:[r.overallAverage,"%"]}),(0,qe.jsx)("div",{className:"text-xs text-gray-500",children:"Progresso m\xe9dio geral"})]})]}),(0,qe.jsx)("div",{className:"space-y-3",children:a.map((e=>{const t={Fonoaudiologia:{bg:"bg-blue-500",light:"bg-blue-100",text:"text-blue-600"},Psicologia:{bg:"bg-red-500",light:"bg-red-100",text:"text-red-600"},Musicoterapia:{bg:"bg-purple-500",light:"bg-purple-100",text:"text-purple-600"},TerapiaOcupacional:{bg:"bg-orange-500",light:"bg-orange-100",text:"text-orange-600"},Psicomotricidade:{bg:"bg-green-500",light:"bg-green-100",text:"text-green-600"},Psicopedagogia:{bg:"bg-yellow-500",light:"bg-yellow-100",text:"text-yellow-600"}}[e.name]||{bg:"bg-gray-500",light:"bg-gray-100",text:"text-gray-600"};const n=(e=>{switch(e){case"improving":return{icon:"\ud83d\udcc8",color:"text-green-600",text:"Melhorando"};case"declining":return{icon:"\ud83d\udcc9",color:"text-red-600",text:"Em queda"};default:return{icon:"\u27a1\ufe0f",color:"text-gray-600",text:"Est\xe1vel"}}})(e.trend),r=Math.min(e.average,100);return(0,qe.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-4 h-4 rounded ".concat(t.bg)}),(0,qe.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,qe.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(t.light," ").concat(t.text),children:[e.programCount," programa",1!==e.programCount?"s":""]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("span",{className:"text-sm ".concat(n.color," flex items-center space-x-1"),children:[(0,qe.jsx)("span",{children:n.icon}),(0,qe.jsx)("span",{children:n.text})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsxs)("div",{className:"text-xl font-bold text-gray-800",children:[e.average,"%"]}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.sessionCount," sess\xf5es"]})]})]})]}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,qe.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(t.bg),style:{width:"".concat(r,"%")}})}),(0,qe.jsx)("div",{className:"absolute top-0 h-3 w-0.5 bg-green-600",style:{left:"80%"},title:"Meta: 80%"})]})]},e.name)}))}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500 p-3 bg-gray-50 rounded-lg",children:["\ud83d\udca1 ",(0,qe.jsx)("strong",{children:"Dica:"})," A linha verde nas barras indica a meta de 80%. Tend\xeancias s\xe3o calculadas comparando primeira e segunda metade das sess\xf5es."]})]})},Wv=e=>{let{activePrograms:t,sessionData:n}=e;const{user:r}=He();if(!t||0===t.length)return null;const a={};t.forEach((e=>{const t=e.discipline_name||"Outros";a[t]||(a[t]=[]),a[t].push(e)}));const s=Object.keys(a).sort(),i=e=>{let{program:t}=e;const a=(n||[]).filter((e=>e.program_id===t.program_id));if(0===a.length)return(0,qe.jsx)("div",{className:"flex items-center justify-center h-48 text-center bg-gradient-to-br from-gray-50 to-slate-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-slate-100 p-4 rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Us,className:"text-2xl text-gray-400"})}),(0,qe.jsx)("p",{className:"text-xs text-gray-500",children:"Sem dados neste per\xedodo"})]})});const s={labels:a.map((e=>qv(e.session_date,"short"))),datasets:[{data:a.map((e=>e.score)),borderColor:"#4f46e5",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return"rgba(79, 70, 229, 0.1)";const a=n.createLinearGradient(0,r.top,0,r.bottom);return a.addColorStop(0,"rgba(99, 102, 241, 0.2)"),a.addColorStop(.5,"rgba(79, 70, 229, 0.15)"),a.addColorStop(1,"rgba(67, 56, 202, 0.05)"),a},borderWidth:2.5,pointRadius:a.map((e=>e.is_baseline?6:5)),pointBackgroundColor:a.map((e=>{var t;return e.is_baseline?"#f59e0b":null!==(t=e.details)&&void 0!==t&&t.promptLevelColor?e.details.promptLevelColor:"#4f46e5"})),pointBorderColor:a.map((e=>e.is_baseline?"#f59e0b":"#ffffff")),pointBorderWidth:a.map((e=>e.is_baseline?3:2)),pointStyle:a.map((e=>e.is_baseline?"star":"circle")),pointHoverRadius:8,pointHoverBorderWidth:3,fill:!0,tension:.35,shadowColor:"rgba(79, 70, 229, 0.2)",shadowBlur:8,shadowOffsetX:0,shadowOffsetY:3}]},i={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{display:!0,min:0,max:105,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{font:{size:9,weight:500},color:"#6b7280",callback:e=>e+"%"},border:{display:!1}},x:{display:!0,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{font:{size:9,weight:500},color:"#6b7280"},border:{display:!1}}},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"#ffffff",bodyColor:"#e5e7eb",borderColor:"#4f46e5",borderWidth:2,padding:12,cornerRadius:8,displayColors:!1,titleFont:{size:12,weight:"bold"},bodyFont:{size:11},callbacks:{title:e=>{if(!e||!e[0]||void 0===e[0].dataIndex)return"Sess\xe3o";const t=a[e[0].dataIndex],n=null===t||void 0===t?void 0:t.is_baseline,r=qv(t.session_date);let s="Sess\xe3o de ".concat(r);return s=n?"\ud83d\udccb [BASELINE] ".concat(s):"\ud83d\udcc8 ".concat(s),s},label:e=>{const t=e.parsed.y.toFixed(1);return"\ud83c\udfaf Pontua\xe7\xe3o: ".concat(t,"%")},afterLabel:e=>{var t;if(!e||void 0===e.dataIndex)return"";const n=e.dataIndex,r=a[n];0===n&&(console.log("Dashboard data - attempts:",null===r||void 0===r?void 0:r.attempts),console.log("Dashboard data - successes:",null===r||void 0===r?void 0:r.successes),console.log("Dashboard data - created_at:",null===r||void 0===r?void 0:r.created_at),console.log("Dashboard data - therapist_name:",null===r||void 0===r?void 0:r.therapist_name),console.log("Dashboard data - FULL OBJECT:",JSON.stringify(r,null,2)));const s=(null===r||void 0===r?void 0:r.attempts)||0,i=(null===r||void 0===r?void 0:r.successes)||0;let o=["\ud83d\udcca Acertos: ".concat(i,"/").concat(s)];return null!==r&&void 0!==r&&null!==(t=r.details)&&void 0!==t&&t.promptLevelName&&o.push("\ud83c\udfaf N\xedvel: ".concat(r.details.promptLevelName)),r&&r.therapist_name&&""!==r.therapist_name.trim()?o.push("\ud83d\udc68\u200d\u2695\ufe0f Terapeuta: ".concat(r.therapist_name)):r&&r.therapist_id&&null!==r.therapist_id&&o.push("\ud83d\udc68\u200d\u2695\ufe0f Terapeuta ID: ".concat(r.therapist_id)),o},afterBody:e=>{if(!e||!e[0]||void 0===e[0].dataIndex)return"";const t=a[e[0].dataIndex];let n=[];if(null!==t&&void 0!==t&&t.notes&&(n.push("\n\ud83d\udcdd Observa\xe7\xf5es:"),n.push("".concat(t.notes))),0===e[0].dataIndex&&console.log("Dashboard User role:",null===r||void 0===r?void 0:r.role),r&&("therapist"===r.role||"terapeuta"===r.role||"admin"===r.role||"administrador"===r.role)&&null!==t&&void 0!==t&&t.created_at){const e=new Date(t.created_at).toLocaleString("pt-BR");n.push("\n\ud83d\udcc5 Registrado: ".concat(e))}return n}}},annotation:{annotations:{goalLine:{type:"line",yMin:80,yMax:80,borderColor:"#10b981",borderWidth:2,borderDash:[6,6],label:{content:"\ud83c\udfaf Meta (80%)",enabled:!0,position:"end",backgroundColor:"rgba(16, 185, 129, 0.9)",font:{size:9,weight:"bold"},color:"white",padding:4,borderRadius:4,yAdjust:-8}}}}}};return(0,qe.jsxs)("div",{className:"w-full",children:[(0,qe.jsx)("div",{className:"h-48 w-full",children:(0,qe.jsx)(px,{options:i,data:s})}),(0,qe.jsxs)("div",{className:"mt-3 bg-gray-50 rounded-lg p-2 border border-gray-200",children:[(0,qe.jsxs)("div",{className:"mb-2",children:[(0,qe.jsx)("h6",{className:"text-xs font-medium text-gray-700 mb-1",children:"N\xedveis de Prompting:"}),(0,qe.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#10b981"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Independente"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#8b5cf6"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Verbal"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#f59e0b"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Gestual"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#ef4444"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"F\xedsica Parcial"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#dc2626"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"F\xedsica Total"})]})]})]}),(0,qe.jsx)("div",{className:"border-t border-gray-200 pt-1",children:(0,qe.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("span",{className:"text-amber-500 text-sm",children:"\u2b50"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Linha de Base"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Sess\xe3o Regular"})]})]})})]})]})};return(0,qe.jsx)("div",{className:"mt-8",children:s.map((e=>a[e]&&0!==a[e].length?(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-l-4 border-indigo-500 p-4 rounded-r-lg mb-6",children:[(0,qe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[(0,qe.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:ks,className:"text-indigo-600"})}),e]}),(0,qe.jsx)("p",{className:"text-sm text-indigo-700 mt-1",children:"Gr\xe1ficos de progresso individual por programa"})]}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a[e].map((e=>(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-200 px-4 py-3",children:[(0,qe.jsx)("p",{className:"text-sm font-semibold text-gray-800 truncate",title:e.program_name,children:e.program_name}),(0,qe.jsxs)("p",{className:"text-xs text-indigo-600 mt-1",children:["Trials: ",e.trials||"N/A"]})]}),(0,qe.jsx)("div",{className:"p-4",children:(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-indigo-50 rounded-lg p-2",children:(0,qe.jsx)(i,{program:e})})})]},e.program_id)))})]},e):null))})},Hv=()=>{const{user:e}=He(),{patients:t,selectedPatient:n,isLoading:a}=rt(),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),c=(0,r.useMemo)((()=>null!==n&&void 0!==n&&n.assigned_programs?n.assigned_programs:[]),[n]),d=(0,r.useMemo)((()=>new Set(c.map((e=>e.program_id)))),[c]),u=(0,r.useMemo)((()=>{if(null===n||void 0===n||!n.sessionData)return[];const e=s?new Date(s+"T00:00:00"):null,t=o?new Date(o+"T23:59:59"):null;return n.sessionData.filter((n=>{if(!d.has(n.program_id))return!1;const r=new Date(n.session_date);return!(e&&r<e)&&!(t&&r>t)}))}),[n,s,o,d]);if(a)return(0,qe.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-3xl text-indigo-500"})});const h=(null===t||void 0===t?void 0:t.length)||0,f=(null===e||void 0===e?void 0:e.max_patients)||0,m=(null===t||void 0===t?void 0:t.reduce(((e,t)=>{var n;return e+((null===(n=t.sessionData)||void 0===n?void 0:n.length)||0)}),0))||0,p=(()=>{if(!u||0===u.length)return{assignedProgramsCount:c.length,overallAverage:"--",programsAboveGoal:"--",sessionFrequency:"--",acquisitionRate:"--",averageDaysToMastery:"--",stabilityIndex:"--",regressionAlerts:0,interpretations:{},recommendations:[]};const e=u.filter((e=>!e.is_baseline&&"number"===typeof e.score)).map((e=>e.score)),t=e.length>0?(e.reduce(((e,t)=>e+t),0)/e.length).toFixed(1):"--",n={};u.filter((e=>!e.is_baseline)).forEach((e=>{n[e.program_id]||(n[e.program_id]={scores:[],dates:[],sessions:[]}),n[e.program_id].scores.push(e.score),n[e.program_id].dates.push(new Date(e.session_date)),n[e.program_id].sessions.push(e)}));const r=Object.values(n).map((e=>e.scores.reduce(((e,t)=>e+t),0)/e.scores.length)),a=r.filter((e=>e>=80)).length,s=Math.max(r.length,c.length);let i=0,o=0,l=0,d=0;Object.values(n).forEach((e=>{e.dates.sort(((e,t)=>e-t));const t=e.sessions.slice(-5),n=t.reduce(((e,t)=>e+t.score),0)/t.length;if(n>=80&&t.length>=3){i++;const t=e.dates[0],n=e.dates[e.dates.length-1];o+=(n-t)/864e5,l++}if(e.sessions.length>=6){const t=e.sessions.slice(0,Math.floor(e.sessions.length/3)),n=e.sessions.slice(-Math.floor(e.sessions.length/3)),r=t.reduce(((e,t)=>e+t.score),0)/t.length,a=n.reduce(((e,t)=>e+t.score),0)/n.length;r-a>10&&d++}}));const h=s>0?(i/s*100).toFixed(1):"--",f=l>0?(o/l).toFixed(0):"--";let m=0,p=0;Object.values(n).forEach((e=>{if(e.scores.length>=5){const t=e.scores.slice(-5),n=t.reduce(((e,t)=>e+t),0)/t.length,r=t.reduce(((e,t)=>e+Math.pow(t-n,2)),0)/t.length,a=Math.sqrt(r),s=Math.max(0,100-2*a);m+=s,p++}}));const g=p>0?(m/p).toFixed(1):"--",x=u.map((e=>new Date(e.session_date))).sort(((e,t)=>e-t));let b="--";if(x.length>=2){const e=[...new Set(x.map((e=>e.toDateString())))],t=Math.max((x[x.length-1]-x[0])/864e5,1),n=Math.max(t/7,1);b=n>0?(e.length/n).toFixed(1):"--"}const v={overallAverage:parseFloat(t)>=70?"good":parseFloat(t)>=50?"attention":"critical",sessionFrequency:parseFloat(b)>=3?"good":parseFloat(b)>=2?"attention":"critical",acquisitionRate:parseFloat(h)>=30?"good":parseFloat(h)>=15?"attention":"critical",stabilityIndex:parseFloat(g)>=80?"good":parseFloat(g)>=60?"attention":"critical"},y=[];return"critical"===v.overallAverage&&y.push("Revisar estrat\xe9gias de interven\xe7\xe3o - progresso abaixo do esperado"),"critical"===v.sessionFrequency&&y.push("Aumentar frequ\xeancia de atendimentos para acelerar aquisi\xe7\xf5es"),parseFloat(h)<20&&y.push("Analisar crit\xe9rios de dom\xednio - poucos programas atingindo metas"),d>0&&y.push("Aten\xe7\xe3o: ".concat(d," programa(s) apresentando regress\xe3o")),"critical"===v.stabilityIndex&&y.push("Focar na manuten\xe7\xe3o - performance inconsistente"),{assignedProgramsCount:c.length,overallAverage:t,programsAboveGoal:"".concat(a,"/").concat(s),sessionFrequency:"--"===b?"--":b,acquisitionRate:h,averageDaysToMastery:f,stabilityIndex:g,regressionAlerts:d,interpretations:v,recommendations:y}})();return(0,qe.jsx)("div",{children:n?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[(0,qe.jsxs)("h1",{className:"text-2xl font-semibold text-gray-800",children:["Dashboard: ",n.name]}),(0,qe.jsx)("div",{className:"flex items-center gap-3",children:!(null!==e&&void 0!==e&&e.is_admin)&&(0,qe.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("checkProgressAlerts")),className:"bg-amber-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-amber-700 transition-colors flex items-center space-x-1",title:"Verificar se h\xe1 programas prontos para serem marcados como dominados",children:[(0,qe.jsx)(za,{icon:gs}),(0,qe.jsx)("span",{className:"hidden sm:inline",children:"Verificar Progresso"})]})})]}),(0,qe.jsx)(zv,{}),(0,qe.jsx)(Bv,{recommendations:p.recommendations,regressionAlerts:p.regressionAlerts}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[(0,qe.jsx)(Fv,{title:"Programas Ativos",value:p.assignedProgramsCount,icon:_i,colorClass:{bg:"bg-indigo-100",text:"text-indigo-600"}}),(0,qe.jsx)(Fv,{title:"Programas Acima da Meta (\u226580%)",value:p.programsAboveGoal,icon:gs,colorClass:{bg:"bg-emerald-100",text:"text-emerald-600"},interpretation:p.interpretations.overallAverage}),(0,qe.jsx)(Fv,{title:"Frequ\xeancia Semanal de Sess\xf5es",value:"".concat(p.sessionFrequency).concat("--"!==p.sessionFrequency?"/sem":""),icon:es,colorClass:{bg:"bg-amber-100",text:"text-amber-600"},interpretation:p.interpretations.sessionFrequency})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,qe.jsx)(Fv,{title:"Taxa de Aquisi\xe7\xe3o (%)",value:"".concat(p.acquisitionRate,"%"),icon:Ii,colorClass:{bg:"bg-purple-100",text:"text-purple-600"},interpretation:p.interpretations.acquisitionRate}),(0,qe.jsx)(Fv,{title:"Tempo M\xe9dio at\xe9 Crit\xe9rio",value:"".concat(p.averageDaysToMastery).concat("--"!==p.averageDaysToMastery?" dias":""),icon:ci,colorClass:{bg:"bg-blue-100",text:"text-blue-600"}}),(0,qe.jsx)(Fv,{title:"\xcdndice de Estabilidade",value:"".concat(p.stabilityIndex).concat("--"!==p.stabilityIndex?"%":""),icon:$i,colorClass:{bg:"bg-green-100",text:"text-green-600"},interpretation:p.interpretations.stabilityIndex})]}),(0,qe.jsxs)("div",{className:"mt-8 bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,qe.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:Us,className:"mr-3 text-emerald-500"}),"Progresso por \xc1rea de Interven\xe7\xe3o"]}),(0,qe.jsx)("div",{className:"relative",children:(0,qe.jsx)(Uv,{sessionData:u,activePrograms:c,analytics:p})})]}),(0,qe.jsx)("div",{className:"mt-6",children:(0,qe.jsx)(wv,{startDate:s,endDate:o,onStartDateChange:i,onEndDateChange:l,onClear:()=>{i(""),l("")}})}),(0,qe.jsx)(Wv,{activePrograms:c,sessionData:u})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,qe.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:null!==e&&void 0!==e&&e.is_admin?"Dashboard da Cl\xednica":"Dashboard Geral"}),!(null!==e&&void 0!==e&&e.is_admin)&&(0,qe.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("checkProgressAlerts")),className:"bg-amber-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-amber-700 transition-colors flex items-center space-x-2",title:"Verificar se h\xe1 programas prontos para serem marcados como dominados",children:[(0,qe.jsx)(za,{icon:gs}),(0,qe.jsx)("span",{children:"Verificar Progresso"})]})]}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null!==e&&void 0!==e&&e.is_admin?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(Fv,{title:"Pacientes Cadastrados",value:h,icon:hs,colorClass:{bg:"bg-indigo-100",text:"text-indigo-600"}}),(0,qe.jsx)(Fv,{title:"Limite Contratado",value:f,icon:es,colorClass:{bg:"bg-blue-100",text:"text-blue-600"}}),(0,qe.jsx)(Fv,{title:"Utiliza\xe7\xe3o da Licen\xe7a",value:"".concat(f>0?Math.round(h/f*100):0,"%"),icon:Ii,colorClass:{bg:"bg-emerald-100",text:"text-emerald-600"},interpretation:f>0?h>=f?"critical":h>=.9*f?"attention":"good":"critical"})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(Fv,{title:"Clientes Atribu\xeddos a Mim",value:h,icon:hs,colorClass:{bg:"bg-indigo-100",text:"text-indigo-600"}}),(0,qe.jsx)(Fv,{title:"Total de Sess\xf5es (Meus Clientes)",value:m,icon:es,colorClass:{bg:"bg-emerald-100",text:"text-emerald-600"}})]})}),(null===e||void 0===e?void 0:e.is_admin)&&(0,qe.jsxs)("div",{className:"mt-6 bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,qe.jsx)(za,{icon:hs,className:"mr-3 text-indigo-500"}),"Status da Assinatura"]}),(0,qe.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(h>=f?"bg-red-100 text-red-800":h>=.9*f?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:h>=f?"\ud83d\udeab Limite Atingido":h>=.9*f?"\u26a0\ufe0f Pr\xf3ximo do Limite":"\u2705 Dentro do Limite"})]}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,qe.jsx)("div",{className:"h-4 rounded-full transition-all duration-500 ".concat(h>=f?"bg-red-500":h>=.9*f?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(h/Math.max(f,1)*100,100),"%")}})}),(0,qe.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[(0,qe.jsx)("span",{children:"0 pacientes"}),(0,qe.jsxs)("span",{className:"font-medium",children:[h," / ",f," pacientes"]}),(0,qe.jsxs)("span",{children:[f," pacientes (limite)"]})]})]}),h>=.8*f&&(0,qe.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-r-lg",children:(0,qe.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,qe.jsx)(za,{icon:eo,className:"mr-2"}),h>=f?"Voc\xea atingiu o limite de pacientes da sua assinatura. Entre em contato para atualizar seu plano.":"Voc\xea est\xe1 pr\xf3ximo do limite de pacientes. Considere atualizar sua assinatura."]})})]}),(0,qe.jsxs)("div",{className:"mt-8 text-center text-gray-500 p-8 border-2 border-dashed rounded-lg bg-gray-50",children:[(0,qe.jsx)(za,{icon:xi,className:"text-4xl text-gray-300 mb-3"}),(0,qe.jsx)("p",{children:"Selecione um cliente para ver um dashboard mais detalhado."})]})]})})};rf.register(Pm,Dm,wf,vf,lm,Sm,im,nm,mv);const Vv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";if(!e)return"N/A";const n=new Date(e);if(isNaN(n.getTime()))return"Data inv\xe1lida";const r=6e4*n.getTimezoneOffset(),a="short"===t?{day:"2-digit",month:"2-digit"}:{day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n.getTime()+r).toLocaleDateString("pt-BR",a)},Yv=e=>{let{program:t,sessionData:n}=e;const r=(n||[]).filter((e=>e.program_id===t.id));if(0===r.length)return(0,qe.jsx)("div",{className:"flex items-center justify-center h-48 text-center bg-gradient-to-br from-gray-50 to-slate-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-slate-100 p-4 rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:Us,className:"text-2xl text-gray-400"})}),(0,qe.jsx)("p",{className:"text-xs text-gray-500",children:"Sem dados de sess\xe3o"})]})});const a={labels:r.map((e=>Vv(e.session_date,"short"))),datasets:[{label:"Pontua\xe7\xe3o (%)",data:r.map((e=>e.score)),borderColor:"#4f46e5",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return"rgba(79, 70, 229, 0.1)";const a=n.createLinearGradient(0,r.top,0,r.bottom);return a.addColorStop(0,"rgba(99, 102, 241, 0.3)"),a.addColorStop(.5,"rgba(79, 70, 229, 0.2)"),a.addColorStop(1,"rgba(67, 56, 202, 0.1)"),a},borderWidth:3,pointRadius:r.map((e=>e.is_baseline?8:6)),pointBackgroundColor:r.map((e=>e.is_baseline?"#f59e0b":e.details&&e.details.promptLevelColor?e.details.promptLevelColor:"#4f46e5")),pointBorderColor:r.map((e=>e.is_baseline?"#f59e0b":"#ffffff")),pointBorderWidth:r.map((e=>e.is_baseline?4:2)),pointHoverRadius:r.map((e=>e.is_baseline?10:8)),pointHoverBorderWidth:3,pointStyle:r.map((e=>e.is_baseline?"star":"circle")),fill:!0,tension:.4,shadowColor:"rgba(79, 70, 229, 0.3)",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:4}]},s={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{display:!0,beginAtZero:!0,max:105,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{font:{size:11,weight:500},color:"#6b7280",callback:e=>e+"%"},border:{display:!1}},x:{display:!0,grid:{display:!0,color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{font:{size:11,weight:500},color:"#6b7280"},border:{display:!1}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"#ffffff",bodyColor:"#e5e7eb",borderColor:"#4f46e5",borderWidth:2,padding:16,cornerRadius:12,displayColors:!1,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{title:e=>{var t;const n=e[0].dataIndex,a=null===(t=r[n])||void 0===t?void 0:t.is_baseline,s="Sess\xe3o de ".concat(Vv(r[n].session_date));return a?"\ud83d\udccb [LINHA DE BASE] ".concat(s):"\ud83d\udcc8 ".concat(s)},label:e=>"Pontua\xe7\xe3o: ".concat(e.parsed.y.toFixed(1),"%"),afterLabel:e=>{const t=e.dataIndex,n=r[t],a=(null===n||void 0===n?void 0:n.attempts)||0,s=(null===n||void 0===n?void 0:n.successes)||0;return a>0?"Acertos: ".concat(s,"/").concat(a):""},afterBody:e=>{var t;if(!e||!e[0]||void 0===e[0].dataIndex)return"";const n=e[0].dataIndex,a=null===(t=r[n])||void 0===t?void 0:t.notes;return a?"\n\ud83d\udcdd Observa\xe7\xf5es:\n".concat(a):""}}}}};return(0,qe.jsxs)("div",{className:"w-full relative bg-gradient-to-br from-gray-50 to-indigo-50 rounded-lg p-2",children:[(0,qe.jsx)("div",{className:"h-48 sm:h-56 mb-4",children:(0,qe.jsx)(px,{options:s,data:a})}),(0,qe.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,qe.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:"N\xedveis de Prompting:"}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#10b981"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Independente"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#8b5cf6"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Verbal"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f59e0b"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Gestual"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ef4444"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"F\xedsica Parcial"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#dc2626"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"F\xedsica Total"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#6b7280"}}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Sem Resposta"})]})]}),(0,qe.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[(0,qe.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:"S\xedmbolos:"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-xs",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-yellow-500 text-base",children:"\u2b50"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Linha de Base"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-indigo-500 text-base",children:"\u25cf"}),(0,qe.jsx)("span",{className:"text-gray-600",children:"Sess\xe3o Regular"})]})]})]})]})]})},Gv=()=>{Z();const{selectedPatient:e,isLoading:t,error:n}=rt(),{getProgramById:a,isLoading:s}=it(),[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),d=(0,r.useMemo)((()=>{if(null===e||void 0===e||!e.sessionData)return[];const t=i?new Date(i+"T00:00:00"):null,n=l?new Date(l+"T23:59:59"):null;return e.sessionData.filter((e=>{const r=new Date(e.session_date);return!(t&&r<t)&&!(n&&r>n)}))}),[e,i,l]);if(t||s)return(0,qe.jsx)("div",{className:"flex items-center justify-center h-full text-center p-10",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-indigo-500 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"A carregar dados de acompanhamento..."})]})});if(n)return(0,qe.jsxs)("div",{className:"flex flex-col items-center justify-center text-center text-red-500 p-10 border-2 border-dashed border-red-200 rounded-lg bg-red-50 h-full",children:[(0,qe.jsx)(za,{icon:ls,className:"text-5xl text-red-400 mb-4"}),(0,qe.jsx)("p",{className:"text-lg font-medium text-red-700",children:"Ocorreu um erro"}),(0,qe.jsx)("p",{className:"mt-1 text-sm",children:n})]});if(!e)return(0,qe.jsxs)("div",{className:"flex flex-col items-center justify-center text-center text-gray-500 p-10 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 h-full",children:[(0,qe.jsx)(za,{icon:ls,className:"text-5xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Paciente n\xe3o encontrado"}),(0,qe.jsx)("p",{className:"mt-1 text-sm",children:"N\xe3o foi poss\xedvel carregar os dados do paciente associado."})]});const u=(e.assigned_programs||[]).map((e=>{const t=e.id||e.program_id||e.programId;return a(t)})).filter((e=>e)),h=u.reduce(((e,t)=>{const n=t.discipline||"Outros";return e[n]||(e[n]=[]),e[n].push(t),e}),{});return(0,qe.jsxs)("div",{className:"p-4 md:p-6",children:[(0,qe.jsx)("div",{className:"flex flex-wrap justify-between items-start mb-6 gap-4",children:(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:["Acompanhamento de ",e.name]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Progresso nos programas de interven\xe7\xe3o."})]})}),(0,qe.jsx)("div",{className:"mb-8 max-w-5xl mx-auto",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 px-8 py-8 relative overflow-hidden",children:[(0,qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),(0,qe.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-white/5 to-transparent rounded-full -translate-y-32 translate-x-32"}),(0,qe.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-white/5 to-transparent rounded-full translate-y-24 -translate-x-24"}),(0,qe.jsxs)("div",{className:"relative z-10 text-center",children:[(0,qe.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl mb-4",children:(0,qe.jsx)(za,{icon:Za,className:"text-3xl text-white"})}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-3 tracking-wide",children:"Comunica\xe7\xe3o com a Equipe Terap\xeautica"}),(0,qe.jsxs)("div",{className:"max-w-2xl mx-auto space-y-3",children:[(0,qe.jsx)("p",{className:"text-blue-100 font-medium text-lg leading-relaxed",children:"\ud83d\udcac Converse diretamente com todos os terapeutas do seu filho"}),(0,qe.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-6 py-4 border border-white/20",children:(0,qe.jsxs)("p",{className:"text-white text-sm leading-relaxed",children:["\u2728 Use ",(0,qe.jsx)("span",{className:"bg-white/20 text-white px-3 py-1 rounded-lg font-mono font-semibold mx-1 border border-white/30",children:"@nome"})," para mencionar um terapeuta espec\xedfico"]})}),(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-blue-100 text-sm",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"font-medium",children:"\ud83d\udcf1 Tempo Real"})]}),(0,qe.jsx)("div",{className:"w-px h-4 bg-white/30"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"font-medium",children:"\ud83d\udd14 Notifica\xe7\xf5es"})]})]})]})]})]}),(0,qe.jsx)("div",{className:"p-4",children:(0,qe.jsx)(Bg,{patientId:e.id,patientName:e.name})})]})}),(0,qe.jsx)("div",{className:"mb-6",children:(0,qe.jsx)(wv,{startDate:i,endDate:l,onStartDateChange:o,onEndDateChange:c,onClear:()=>{o(""),c("")}})}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h3",{className:"text-xl font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[(0,qe.jsx)(za,{icon:Us,className:"mr-3 text-indigo-500"}),"Progresso por \xc1rea de Interven\xe7\xe3o"]}),Object.keys(h).length>0?Object.keys(h).sort().map((e=>(0,qe.jsxs)("div",{className:"mb-8 bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-200 px-6 py-4",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,qe.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,qe.jsx)(za,{icon:Us,className:"text-indigo-600"})}),e]}),(0,qe.jsx)("p",{className:"text-sm text-indigo-700 mt-1",children:"Gr\xe1ficos de progresso individual"})]}),(0,qe.jsx)("div",{className:"p-6",children:(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h[e].map((e=>(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200 px-4 py-3",children:(0,qe.jsx)("h5",{className:"text-sm font-semibold text-gray-800 text-center",children:e.name})}),(0,qe.jsx)("div",{className:"p-4",children:(0,qe.jsx)(Yv,{program:e,sessionData:d})})]},e.id)))})})]},e))):(0,qe.jsx)("p",{className:"text-center text-gray-500 py-6 col-span-full",children:"Nenhum programa atribu\xeddo para visualiza\xe7\xe3o."})]})]})},Xv=e=>{let{isOpen:t,onClose:n,onSave:a,userToEdit:s=null,patients:i=[]}=e;const[o,l]=(0,r.useState)({fullName:"",username:"",password:"",role:"terapeuta",associated_patient_id:""}),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),f=Boolean(s);(0,r.useEffect)((()=>{l(f?{fullName:s.full_name||"",username:s.username||"",password:"",role:s.role||"terapeuta",associated_patient_id:s.associated_patient_id||""}:{fullName:"",username:"",password:"",role:"terapeuta",associated_patient_id:""}),h("")}),[t,s,f]);const m=e=>{const{name:t,value:n}=e.target;l((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n})))},p=async e=>{if(e.preventDefault(),h(""),f||o.password)if("pai"!==o.role||o.associated_patient_id){d(!0);try{await a(o),n()}catch(ew){h(ew.message||"Ocorreu um erro desconhecido.")}finally{d(!1)}}else h("\xc9 obrigat\xf3rio selecionar um paciente para o papel 'Pai/Respons\xe1vel'.");else h("O campo 'senha' \xe9 obrigat\xf3rio para novos utilizadores.")};return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col transform transition-all",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[(0,qe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:f?"Editar Utilizador":"Adicionar Novo Utilizador"}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,qe.jsx)(za,{icon:Ei,className:"text-lg"})})]}),(0,qe.jsxs)("form",{onSubmit:p,className:"p-6 space-y-4 overflow-y-auto",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),(0,qe.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:o.fullName,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome de Utilizador (login)"}),(0,qe.jsx)("input",{type:"text",id:"username",name:"username",value:o.username,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),(0,qe.jsx)("input",{type:"password",id:"password",name:"password",value:o.password,onChange:m,placeholder:f?"Deixe em branco para n\xe3o alterar":"M\xednimo 6 caracteres",required:!f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fun\xe7\xe3o"}),(0,qe.jsxs)("select",{id:"role",name:"role",value:o.role,onChange:e=>{const{value:t}=e.target;l((e=>(0,Ie.A)((0,Ie.A)({},e),{},{role:t,associated_patient_id:""})))},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:[(0,qe.jsx)("option",{value:"terapeuta",children:"Terapeuta"}),(0,qe.jsx)("option",{value:"pai",children:"Pai/Respons\xe1vel"})]})]}),"pai"===o.role&&(0,qe.jsxs)("div",{className:"transition-all duration-300 ease-in-out",children:[(0,qe.jsx)("label",{htmlFor:"associated_patient_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente Associado"}),(0,qe.jsxs)("select",{id:"associated_patient_id",name:"associated_patient_id",value:o.associated_patient_id,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:[(0,qe.jsx)("option",{value:"",children:"-- Selecione um paciente --"}),i.length>0?i.map((e=>(0,qe.jsxs)("option",{value:e.id,children:[e.name," (ID: ",e.id,")"]},e.id))):(0,qe.jsx)("option",{disabled:!0,children:"Nenhum paciente cadastrado na cl\xednica"})]})]}),u&&(0,qe.jsx)("p",{className:"text-red-500 text-sm text-center bg-red-50 p-3 rounded-md",children:u})]}),(0,qe.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:[(0,qe.jsx)("button",{onClick:n,type:"button",className:"bg-white hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-md border border-gray-300 mr-3",children:"Cancelar"}),(0,qe.jsxs)("button",{onClick:p,disabled:c,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors shadow flex items-center disabled:opacity-60",children:[(0,qe.jsx)(za,{icon:c?zi:Xs,className:"mr-2 ".concat(c&&"fa-spin")}),c?"A guardar...":"Guardar"]})]})]})}):null},$v=e=>{let{isOpen:t,onClose:n,patient:a,allTherapists:s=[]}=e;const{token:i}=He(),[o,l]=(0,r.useState)(new Set),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)("");(0,r.useEffect)((()=>{if(t&&a){const e=async()=>{d(!0),m("");try{const e=await(async(e,t)=>{try{return(await Ve.A.get("".concat(Ye,"/admin/assignments/").concat(e),Ge(t))).data.therapists||[]}catch(f){var n,r,a,s,i;throw console.error("Erro ao buscar atribui\xe7\xf5es para o paciente ".concat(e,":"),(null===(n=f.response)||void 0===n?void 0:n.data)||f.message),new Error((null===(r=f.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.msg)||"N\xe3o foi poss\xedvel carregar as atribui\xe7\xf5es.")}})(a.id,i);l(new Set(e.map((e=>e.id))))}catch(ew){m(ew.message||"N\xe3o foi poss\xedvel carregar as atribui\xe7\xf5es.")}finally{d(!1)}};e()}}),[t,a,i]);return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[(0,qe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[(0,qe.jsx)(za,{icon:hs,className:"mr-3 text-indigo-500"}),"Gerir Terapeutas para: ",(0,qe.jsx)("span",{className:"font-bold ml-2",children:null===a||void 0===a?void 0:a.name})]}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,qe.jsx)(za,{icon:Ei,className:"text-lg"})})]}),(0,qe.jsx)("div",{className:"p-6 overflow-y-auto",children:c?(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-2xl text-indigo-500"}),(0,qe.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"A carregar atribui\xe7\xf5es..."})]}):f?(0,qe.jsx)("p",{className:"text-red-500 text-sm text-center bg-red-50 p-3 rounded-md",children:f}):(0,qe.jsxs)("fieldset",{className:"space-y-3",children:[(0,qe.jsx)("legend",{className:"text-sm font-medium text-gray-900 mb-2",children:"Selecione os terapeutas a serem atribu\xeddos:"}),s.length>0?s.map((e=>(0,qe.jsxs)("div",{className:"relative flex items-start",children:[(0,qe.jsx)("div",{className:"flex items-center h-5",children:(0,qe.jsx)("input",{id:"therapist-".concat(e.id),name:"therapist-".concat(e.id),type:"checkbox",checked:o.has(e.id),onChange:()=>{return t=e.id,void l((e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}));var t},className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),(0,qe.jsxs)("div",{className:"ml-3 text-sm",children:[(0,qe.jsx)("label",{htmlFor:"therapist-".concat(e.id),className:"font-medium text-gray-700 cursor-pointer",children:e.full_name}),(0,qe.jsxs)("p",{className:"text-gray-500 text-xs",children:["ID: ",e.id," | Username: ",e.username]})]})]},e.id))):(0,qe.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Nenhum terapeuta encontrado na cl\xednica."})]})}),(0,qe.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:[(0,qe.jsx)("button",{onClick:n,type:"button",className:"bg-white hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-md border border-gray-300 mr-3",children:"Cancelar"}),(0,qe.jsxs)("button",{onClick:async()=>{if(a){h(!0),m("");try{const e=Array.from(o);await(async(e,t,n)=>{try{return(await Ve.A.put("".concat(Ye,"/admin/assignments/").concat(e),{therapistIds:t},Ge(n))).data}catch(f){var r,a,s,i,o;throw console.error("Erro ao atualizar atribui\xe7\xf5es para o paciente ".concat(e,":"),(null===(r=f.response)||void 0===r?void 0:r.data)||f.message),new Error((null===(a=f.response)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.errors)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.msg)||"N\xe3o foi poss\xedvel atualizar as atribui\xe7\xf5es.")}})(a.id,e,i),n()}catch(ew){m(ew.message||"N\xe3o foi poss\xedvel guardar as atribui\xe7\xf5es.")}finally{h(!1)}}},disabled:u||c,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors shadow flex items-center disabled:opacity-60",children:[(0,qe.jsx)(za,{icon:u?zi:Xs,className:"mr-2 ".concat(u&&"fa-spin")}),u?"A guardar...":"Guardar Atribui\xe7\xf5es"]})]})]})}):null},Kv=e=>{let{users:t,onEditClick:n,onDeleteClick:r}=e;return(0,qe.jsxs)("div",{className:"overflow-x-auto",children:[(0,qe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,qe.jsx)("thead",{className:"bg-gray-50",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome Completo"}),(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fun\xe7\xe3o"}),(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Cria\xe7\xe3o"}),(0,qe.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,qe.jsx)("span",{className:"sr-only",children:"A\xe7\xf5es"})})]})}),(0,qe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>{return(0,qe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.full_name}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.username}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,qe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_admin?"bg-green-100 text-green-800":"pai"===e.role?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.is_admin?"Admin":"pai"===e.role?"Pai/M\xe3e":"Terapeuta"})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.created_at,t?new Date(t).toLocaleDateString("pt-BR"):"-")}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:!e.is_admin&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("button",{onClick:()=>n(e),className:"text-indigo-600 hover:text-indigo-900",children:[" ",(0,qe.jsx)(za,{icon:us,className:"mr-1 h-3 w-3"})," Editar "]}),(0,qe.jsxs)("button",{onClick:()=>r(e),className:"text-red-600 hover:text-red-900",children:[" ",(0,qe.jsx)(za,{icon:Ua,className:"mr-1 h-3 w-3"})," Apagar "]})]})})]},e.id);var t}))})]}),0===t.length&&(0,qe.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,qe.jsx)(za,{icon:eo,className:"text-2xl mb-2"}),(0,qe.jsx)("p",{children:"Nenhum utilizador encontrado."})]})]})},Jv=e=>{let{patients:t,onManageClick:n,onDeleteClick:r}=e;return(0,qe.jsxs)("div",{className:"overflow-x-auto",children:[(0,qe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,qe.jsx)("thead",{className:"bg-gray-50",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome do Paciente"}),(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Nasc."}),(0,qe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diagn\xf3stico"}),(0,qe.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,qe.jsx)("span",{className:"sr-only",children:"A\xe7\xf5es"})})]})}),(0,qe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>{return(0,qe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.dob,t?new Date(t).toLocaleDateString("pt-BR"):"-")}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.diagnosis||"N\xe3o informado"}),(0,qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>n(e),className:"text-indigo-600 hover:text-indigo-900",children:"Gerir Terapeutas"}),(0,qe.jsxs)("button",{onClick:()=>r(e),className:"text-red-600 hover:text-red-900",children:[" ",(0,qe.jsx)(za,{icon:Ua,className:"mr-1 h-3 w-3"})," Apagar "]})]})]},e.id);var t}))})]}),0===t.length&&(0,qe.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,qe.jsx)(za,{icon:eo,className:"text-2xl mb-2"}),(0,qe.jsx)("p",{children:"Nenhum paciente encontrado nesta cl\xednica."})]})]})},Qv=()=>{const{token:e}=He(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)("users"),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[h,f]=(0,r.useState)(!0),[m,p]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!1),[N,j]=(0,r.useState)(null),[_,S]=(0,r.useState)(null),k=(0,r.useCallback)((async()=>{if(e){f(!0),p("");try{const[t,r]=await Promise.all([Xe(e),$e(e)]);n(t),s(r)}catch(ew){p(ew.message||"Ocorreu um erro ao carregar os dados.")}finally{f(!1)}}}),[e]);(0,r.useEffect)((()=>{k()}),[k]);const C=(0,r.useMemo)((()=>t.filter((e=>e.full_name.toLowerCase().includes(l.toLowerCase())||e.username.toLowerCase().includes(l.toLowerCase())))),[t,l]),A=(0,r.useMemo)((()=>a.filter((e=>e.name.toLowerCase().includes(d.toLowerCase())))),[a,d]),P=(0,r.useCallback)((async t=>{try{_?await(async(e,t,n)=>{try{return(await Ve.A.put("".concat(Ye,"/admin/users/").concat(e),t,Ge(n))).data}catch(m){var r,a,s,i,o;throw console.error("Erro ao atualizar utilizador ".concat(e,":"),(null===(r=m.response)||void 0===r?void 0:r.data)||m.message),new Error((null===(a=m.response)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.errors)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.msg)||"N\xe3o foi poss\xedvel atualizar o utilizador.")}})(_.id,t,e):await(async(e,t)=>{try{return(await Ve.A.post("".concat(Ye,"/admin/users"),e,Ge(t))).data}catch(m){var n,r,a,s,i;throw console.error("Erro ao criar utilizador:",(null===(n=m.response)||void 0===n?void 0:n.data)||m.message),new Error((null===(r=m.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.msg)||"N\xe3o foi poss\xedvel criar o utilizador.")}})(t,e),await k()}catch(ew){throw ew}}),[e,k,_]),L=(0,r.useCallback)((async t=>{try{await(async(e,t)=>{try{return(await Ve.A.post("".concat(Ye,"/admin/patients"),e,Ge(t))).data}catch(m){var n,r,a,s,i;throw console.error("Erro ao criar paciente:",(null===(n=m.response)||void 0===n?void 0:n.data)||m.message),new Error((null===(r=m.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.msg)||"N\xe3o foi poss\xedvel criar o paciente.")}})(t,e),await k()}catch(ew){throw ew}}),[e,k]),E=(0,r.useCallback)((async t=>{if(window.confirm('Tem a certeza que deseja apagar o utilizador "'.concat(t.full_name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.')))try{await(async(e,t)=>{try{return(await Ve.A.delete("".concat(Ye,"/admin/users/").concat(e),Ge(t))).data}catch(m){var n,r,a,s,i;throw console.error("Erro ao apagar utilizador ".concat(e,":"),(null===(n=m.response)||void 0===n?void 0:n.data)||m.message),new Error((null===(r=m.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.msg)||"N\xe3o foi poss\xedvel apagar o utilizador.")}})(t.id,e),await k()}catch(ew){alert("Erro ao apagar utilizador: ".concat(ew.message))}}),[e,k]),M=(0,r.useCallback)((async t=>{if(window.confirm('Tem a certeza que deseja apagar o paciente "'.concat(t.name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita e ir\xe1 remover todos os dados associados.')))try{await(async(e,t)=>{try{return(await Ve.A.delete("".concat(Ye,"/admin/patients/").concat(e),Ge(t))).data}catch(m){var n,r,a,s,i;throw console.error("Erro ao apagar paciente ".concat(e,":"),(null===(n=m.response)||void 0===n?void 0:n.data)||m.message),new Error((null===(r=m.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.msg)||"N\xe3o foi poss\xedvel apagar o paciente.")}})(t.id,e),await k()}catch(ew){alert("Erro ao apagar paciente: ".concat(ew.message))}}),[e,k]),D=(0,r.useMemo)((()=>t.filter((e=>"terapeuta"===e.role))),[t]),O=e=>{let{tabName:t,activeTab:n,setTab:r,icon:a,children:s}=e;return(0,qe.jsxs)("button",{onClick:()=>r(t),className:"flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat(n===t?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[(0,qe.jsx)(za,{icon:a,className:"mr-2"}),s]})};return(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"fade-in",children:[(()=>{const e="users"===i;return(0,qe.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[(0,qe.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,qe.jsx)(za,{icon:Ci,className:"mr-3 text-indigo-500"}),"Painel de Administra\xe7\xe3o"]}),(0,qe.jsxs)("button",{onClick:()=>e?(S(null),void x(!0)):v(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg text-sm transition-colors shadow hover:shadow-md flex items-center",children:[(0,qe.jsx)(za,{icon:Ji,className:"mr-2"}),e?"Adicionar Utilizador":"Adicionar Paciente"]})]})})(),(0,qe.jsx)("div",{className:"mb-4 border-b border-gray-200",children:(0,qe.jsxs)("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[(0,qe.jsx)(O,{tabName:"users",activeTab:i,setTab:o,icon:hs,children:"Utilizadores"}),(0,qe.jsx)(O,{tabName:"patients",activeTab:i,setTab:o,icon:Ai,children:"Pacientes"})]})}),(0,qe.jsx)("div",{className:"mb-4",children:"users"===i?(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(za,{icon:yi,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Buscar por nome ou username...",value:l,onChange:e=>c(e.target.value),className:"w-full sm:w-72 pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}):"patients"===i?(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(za,{icon:yi,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Buscar por nome de paciente...",value:d,onChange:e=>u(e.target.value),className:"w-full sm:w-72 pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}):null}),h?(0,qe.jsxs)("div",{className:"flex justify-center items-center h-64",children:[" ",(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-indigo-500"})," "]}):m?(0,qe.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",children:[" ",(0,qe.jsx)("p",{className:"font-bold",children:"Erro"})," ",(0,qe.jsx)("p",{children:m})," "]}):(0,qe.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:["users"===i&&(0,qe.jsx)(Kv,{users:C,onEditClick:e=>{S(e),x(!0)},onDeleteClick:E}),"patients"===i&&(0,qe.jsx)(Jv,{patients:A,onManageClick:e=>{j(e),w(!0)},onDeleteClick:M})]})]}),(0,qe.jsx)(Xv,{isOpen:g,onClose:()=>x(!1),onSave:P,userToEdit:_,patients:a}),(0,qe.jsx)(ax,{isOpen:b,onClose:()=>v(!1),onSave:L,patientToEdit:null}),(0,qe.jsx)($v,{isOpen:y,onClose:()=>w(!1),patient:N,allTherapists:D})]})},Zv=()=>{const{assignmentId:e}=function(){let{matches:e}=r.useContext(X),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)("");if((0,r.useEffect)((()=>{if(!e)return o("ID da designa\xe7\xe3o n\xe3o fornecido."),void s(!1);(async()=>{try{s(!0),o("");const t=await(0,Je.Ow)(e);if(!t)throw new Error("Designa\xe7\xe3o de programa n\xe3o encontrada.");n(t)}catch(ew){var t,r;console.error("Erro ao carregar dados da sess\xe3o:",ew),o((null===(t=ew.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||ew.message||"Ocorreu um erro ao carregar a sess\xe3o.")}finally{s(!1)}})()}),[e]),a)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-12 text-center max-w-md w-full border border-gray-100",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-6 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-3xl text-indigo-600"})}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Carregando Sess\xe3o"}),(0,qe.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"Preparando os dados da sess\xe3o terap\xeautica..."}),(0,qe.jsxs)("div",{className:"mt-6 flex items-center justify-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"}),(0,qe.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,qe.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})});if(i)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-rose-50 flex items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-12 text-center max-w-lg w-full border border-red-100",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-red-100 to-pink-100 p-6 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:eo,className:"text-3xl text-red-600"})}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:i.includes("arquivado")?"Programa Arquivado":"Erro ao Carregar Sess\xe3o"}),(0,qe.jsx)("p",{className:"text-gray-600 mb-8 leading-relaxed",children:i}),i.includes("arquivado")&&(0,qe.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,qe.jsx)("p",{className:"text-green-700 text-sm",children:"\ud83c\udf89 Este programa foi marcado como dominado com sucesso! Volte \xe0 lista de programas para selecionar outro."})}),(0,qe.jsxs)(Me,{to:"/clients",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,qe.jsx)(za,{icon:Zs}),(0,qe.jsx)("span",{children:"Voltar aos Clientes"})]})]})});if(!t)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 flex items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-12 text-center max-w-md w-full border border-gray-100",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-slate-100 p-6 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:es,className:"text-3xl text-gray-600"})}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Dados Indispon\xedveis"}),(0,qe.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"N\xe3o foi poss\xedvel carregar os dados da sess\xe3o."})]})});const{program:l,patient:c,assignment_id:d}=t;return(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,qe.jsx)("div",{className:"bg-white shadow-xl border-b border-gray-100",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,qe.jsxs)(Me,{to:"/clients/".concat(null===c||void 0===c?void 0:c.id),className:"inline-flex items-center space-x-2 text-indigo-600 hover:text-indigo-700 bg-indigo-50 hover:bg-indigo-100 px-4 py-2 rounded-xl font-medium transition-all duration-200",children:[(0,qe.jsx)(za,{icon:Zs}),(0,qe.jsx)("span",{children:"Voltar ao Paciente"})]}),(0,qe.jsx)("div",{className:"h-8 w-px bg-gray-300"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-1",children:(null===l||void 0===l?void 0:l.name)||"Carregando programa..."}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3 text-gray-600",children:[(0,qe.jsx)(za,{icon:ai,className:"text-indigo-500"}),(0,qe.jsx)("span",{className:"font-medium",children:"Sess\xe3o de Terapia para:"}),(0,qe.jsx)("span",{className:"font-bold text-gray-800",children:null===c||void 0===c?void 0:c.name})]})]})]}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 px-6 py-3 rounded-2xl border border-green-200",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,qe.jsx)("span",{className:"text-green-800 font-semibold text-sm",children:"Sess\xe3o Ativa"})]})})]})})}),(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,qe.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:l&&t?(0,qe.jsx)(yv,{program:l,assignment:t}):(0,qe.jsxs)("div",{className:"p-16 text-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-8 rounded-2xl w-24 h-24 mx-auto mb-8 flex items-center justify-center",children:(0,qe.jsx)(za,{icon:zi,className:"fa-spin text-4xl text-indigo-600"})}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Preparando Sess\xe3o"}),(0,qe.jsx)("p",{className:"text-gray-600 text-lg leading-relaxed max-w-md mx-auto",children:"A carregar detalhes do registo de progresso..."}),(0,qe.jsxs)("div",{className:"mt-8 flex items-center justify-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-pulse"}),(0,qe.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse",style:{animationDelay:"0.3s"}}),(0,qe.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.6s"}})]})]})})})]})},ey=e=>{let{contact:t,onClick:n,isLoading:r}=e;const a=(e=>{if(!e)return{badge:"\ud83d\udc68\u200d\u2695\ufe0f Terapeuta",color:"#3498db",avatar:"TR"};const t=e.toLowerCase(),n={fono:{badge:"\ud83d\udde3\ufe0f Fono",color:"#3498db",avatar:"FO"},fonoaudiologia:{badge:"\ud83d\udde3\ufe0f Fono",color:"#3498db",avatar:"FO"},psico:{badge:"\ud83e\udde0 Psico",color:"#e74c3c",avatar:"PS"},psicologia:{badge:"\ud83e\udde0 Psico",color:"#e74c3c",avatar:"PS"},music:{badge:"\ud83c\udfb5 Music",color:"#9b59b6",avatar:"MU"},musicoterapia:{badge:"\ud83c\udfb5 Music",color:"#9b59b6",avatar:"MU"},to:{badge:"\ud83c\udfe5 TO",color:"#f39c12",avatar:"TO"},terapiaocupacional:{badge:"\ud83c\udfe5 TO",color:"#f39c12",avatar:"TO"},fisio:{badge:"\ud83e\udd38 Fisio",color:"#27ae60",avatar:"FI"},fisioterapia:{badge:"\ud83e\udd38 Fisio",color:"#27ae60",avatar:"FI"},psicomotricidade:{badge:"\ud83e\udd38 Psico",color:"#27ae60",avatar:"PM"},psicopedagogia:{badge:"\ud83d\udcda Psicoped",color:"#e67e22",avatar:"PP"}};for(const[r,a]of Object.entries(n))if(t.includes(r))return a;return{badge:"\ud83d\udc68\u200d\u2695\ufe0f Terapeuta",color:"#3498db",avatar:e.split(" ").map((e=>e[0])).join("").substring(0,2).toUpperCase()}})(t.full_name);return(0,qe.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 ".concat(r?"opacity-50":"hover:transform hover:scale-105"),style:{borderLeftColor:a.color},onClick:()=>!r&&n(t),children:(0,qe.jsx)("div",{className:"p-4",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md",style:{backgroundColor:a.color},children:a.avatar}),(0,qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.full_name}),(0,qe.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium text-white rounded-full",style:{backgroundColor:a.color},children:a.badge}),t.total_patients&&(0,qe.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[t.total_patients," paciente",1!==t.total_patients?"s":""]})]}),(0,qe.jsx)("div",{className:"text-gray-400",children:r?(0,qe.jsx)(za,{icon:zi,spin:!0}):(0,qe.jsx)(za,{icon:Za})})]})})})},ty=e=>{let{patientId:t,patientName:n,type:a="therapists",onContactSelect:s,className:i=""}=e;const[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(null);(0,r.useEffect)((()=>{p()}),[t,a]);const p=async()=>{try{let e;d(!0),h(null),"therapists"===a?(e=await Og(t),l(e.therapists||[])):"colleagues"===a&&(e=await Tg(t),l(e.colleagues||[]))}catch(ew){var e,n,r,s;console.error("Erro ao buscar contatos:",ew),h((null===(e=ew.response)||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.errors)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.msg)||"Erro ao carregar contatos"),l([])}finally{d(!1)}},g=async e=>{m(e.id);try{s&&await s(e)}catch(u){console.error("Erro ao selecionar contato:",u)}finally{m(null)}};return c?(0,qe.jsx)("div",{className:"flex items-center justify-center p-8 ".concat(i),children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)(za,{icon:zi,spin:!0,className:"text-3xl text-blue-500 mb-2"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Carregando contatos..."})]})}):u?(0,qe.jsx)("div",{className:"flex items-center justify-center p-8 ".concat(i),children:(0,qe.jsxs)("div",{className:"text-center text-red-500",children:[(0,qe.jsx)(za,{icon:eo,className:"text-3xl mb-2"}),(0,qe.jsx)("p",{children:u}),(0,qe.jsx)("button",{onClick:p,className:"mt-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Tentar novamente"})]})}):0===o.length?(0,qe.jsx)("div",{className:"flex items-center justify-center p-8 ".concat(i),children:(0,qe.jsxs)("div",{className:"text-center text-gray-500",children:[(0,qe.jsx)(za,{icon:"colleagues"===a?hs:Za,className:"text-3xl mb-2"}),(0,qe.jsx)("p",{className:"text-lg font-medium mb-2",children:"colleagues"===a?"Nenhum colega encontrado":"Equipe individual"}),(0,qe.jsx)("p",{className:"text-sm",children:"colleagues"===a?"Este paciente n\xe3o tem outros terapeutas atribu\xeddos para discuss\xe3o.":"Este paciente \xe9 atendido por apenas um profissional. As mensagens no chat geral chegam diretamente ao terapeuta respons\xe1vel."}),"therapists"===a&&(0,qe.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,qe.jsxs)("p",{className:"text-sm text-blue-700",children:["\ud83d\udca1 ",(0,qe.jsx)("strong",{children:"Dica:"})," Continue usando o chat geral abaixo para se comunicar com o terapeuta."]})})]})}):(0,qe.jsxs)("div",{className:i,children:[(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"colleagues"===a?"Colegas Terapeutas":"Meus Terapeutas"}),(0,qe.jsxs)("p",{className:"text-gray-600",children:["Paciente: ",(0,qe.jsx)("span",{className:"font-medium",children:n})]}),(0,qe.jsxs)("p",{className:"text-sm text-gray-500",children:[o.length," ","colleagues"===a?"colega":"terapeuta",1!==o.length?"s":"","colleagues"===a?" para discuss\xe3o":" na equipe"]}),1===o.length&&"therapists"===a&&(0,qe.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:(0,qe.jsx)("p",{className:"text-xs text-yellow-700",children:"\u2139\ufe0f Como h\xe1 apenas um terapeuta, as mensagens no chat geral chegam diretamente a ele."})})]}),(0,qe.jsx)("div",{className:"space-y-3",children:o.map((e=>(0,qe.jsx)(ey,{contact:e,onClick:g,isLoading:f===e.id},e.id)))})]})},ny=()=>{const e=Z(),{selectedPatient:t}=rt(),[n,a]=(0,r.useState)(!1);if(!t)return(0,qe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Nenhum paciente selecionado"}),(0,qe.jsx)("p",{className:"text-gray-600 mb-4",children:"Selecione um paciente para ver os colegas da equipe."}),(0,qe.jsx)("button",{onClick:()=>e("/clients"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Voltar aos Clientes"})]})});return(0,qe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qe.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>e("/clients"),className:"text-gray-600 hover:text-gray-800 transition-colors",children:(0,qe.jsx)(za,{icon:Zs,className:"w-5 h-5"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Discuss\xe3o de Casos"}),(0,qe.jsxs)("p",{className:"text-gray-600",children:["Converse com colegas sobre ",t.name]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2 text-indigo-600",children:[(0,qe.jsx)(za,{icon:hs}),(0,qe.jsx)("span",{className:"font-medium",children:"Equipe Multidisciplinar"})]})]})})}),(0,qe.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,qe.jsx)(ty,{patientId:t.id,patientName:t.name,type:"colleagues",onContactSelect:async n=>{try{a(!0),console.log("Iniciando discuss\xe3o com colega:",n),e("/case-discussion?patient=".concat(t.id,"&colleague=").concat(n.id,"&colleagueName=").concat(encodeURIComponent(n.full_name)))}catch(r){console.error("Erro ao iniciar discuss\xe3o:",r),alert("Erro ao iniciar discuss\xe3o. Tente novamente.")}finally{a(!1)}},className:"w-full"})}),(0,qe.jsx)("div",{className:"mt-6 bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex",children:[(0,qe.jsx)("div",{className:"flex-shrink-0",children:(0,qe.jsx)(za,{icon:Za,className:"text-indigo-400 w-5 h-5"})}),(0,qe.jsxs)("div",{className:"ml-3",children:[(0,qe.jsx)("h3",{className:"text-sm font-medium text-indigo-800",children:"Discuss\xe3o de Casos"}),(0,qe.jsx)("div",{className:"mt-2 text-sm text-indigo-700",children:(0,qe.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,qe.jsx)("li",{children:"Clique em qualquer colega para iniciar uma discuss\xe3o sobre o caso"}),(0,qe.jsx)("li",{children:"Compartilhe observa\xe7\xf5es, estrat\xe9gias e progressos do paciente"}),(0,qe.jsx)("li",{children:"Colabore de forma integrada para otimizar o tratamento"}),(0,qe.jsx)("li",{children:"Todas as discuss\xf5es ficam registradas para consulta futura"})]})})]})]})}),(0,qe.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,qe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,qe.jsx)("div",{className:"text-green-500 mb-2",children:(0,qe.jsx)(za,{icon:hs,className:"w-6 h-6"})}),(0,qe.jsx)("h4",{className:"font-semibold text-green-800",children:"Colabora\xe7\xe3o"}),(0,qe.jsx)("p",{className:"text-sm text-green-700 mt-1",children:"Trabalho em equipe integrado"})]}),(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[(0,qe.jsx)("div",{className:"text-blue-500 mb-2",children:(0,qe.jsx)(za,{icon:Za,className:"w-6 h-6"})}),(0,qe.jsx)("h4",{className:"font-semibold text-blue-800",children:"Comunica\xe7\xe3o"}),(0,qe.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Troca de experi\xeancias"})]}),(0,qe.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center",children:[(0,qe.jsx)("div",{className:"text-purple-500 mb-2",children:(0,qe.jsx)(za,{icon:Za,className:"w-6 h-6"})}),(0,qe.jsx)("h4",{className:"font-semibold text-purple-800",children:"Resultados"}),(0,qe.jsx)("p",{className:"text-sm text-purple-700 mt-1",children:"Melhores outcomes"})]})]})]}),n&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-700",children:"Iniciando discuss\xe3o..."})]})})]})},ry=ot.H||"http://localhost:3000",ay=Ve.A.create({baseURL:"".concat(ry,"/super-admin"),headers:{"Content-Type":"application/json"}});ay.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),ay.interceptors.response.use((e=>e),(e=>{var t;return console.error("Erro na API Super Admin:",e),401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}));const sy=async()=>{try{return(await ay.get("/metrics")).data}catch(e){throw e}},iy=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;try{return(await ay.get("/growth-stats?months=".concat(e))).data}catch(t){throw t}},oy=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.search&&t.append("search",e.search);return(await ay.get("/clinics?".concat(t.toString()))).data}catch(t){throw t}},ly=async e=>{try{return(await ay.post("/clinics",e)).data}catch(t){throw t}},cy=async(e,t)=>{try{return(await ay.put("/clinics/".concat(e,"/suspend"),{reason:t})).data}catch(n){throw n}},dy=async e=>{try{return(await ay.put("/clinics/".concat(e,"/reactivate"))).data}catch(t){throw t}},uy=async(e,t)=>{try{return(await ay.put("/clinics/".concat(e,"/patient-limit"),{maxPatients:t})).data}catch(n){throw n}},hy=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.clinic_id&&t.append("clinic_id",e.clinic_id),e.overdue_only&&t.append("overdue_only","true"),e.due_soon&&t.append("due_soon","true");return(await ay.get("/billing?".concat(t.toString()))).data}catch(t){throw t}},fy=async e=>{try{return(await ay.post("/billing",e)).data}catch(t){throw t}},my=async(e,t)=>{try{return(await ay.put("/billing/".concat(e,"/payment"),t)).data}catch(n){throw n}},py=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;try{return(await ay.get("/billing/revenue-evolution?months=".concat(e))).data}catch(t){throw t}},gy=async e=>{try{return(await ay.delete("/clinics/".concat(e))).data}catch(t){throw t}},xy=async(e,t)=>{try{return(await ay.put("/billing/".concat(e,"/due-date"),t)).data}catch(n){throw n}},by=ot.H||"http://localhost:3000/api",vy=Ve.A.create({baseURL:"".concat(by,"/super-admin/enterprise"),timeout:3e4,headers:{"Content-Type":"application/json"}});vy.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),vy.interceptors.response.use((e=>e),(e=>{var t;return console.error("Erro na API Enterprise:",e),401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}));const yy=async()=>{try{return(await vy.get("/dashboard")).data}catch(e){throw console.error("Erro ao buscar dashboard executivo:",e),e}},wy=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.segment&&t.append("segment",e.segment),e.risk_level&&t.append("risk_level",e.risk_level),e.sort_by&&t.append("sort_by",e.sort_by),e.order&&t.append("order",e.order);return(await vy.get("/customer-health?".concat(t.toString()))).data}catch(t){throw console.error("Erro ao buscar customer health:",t),t}},Ny=async()=>{try{return(await vy.get("/cohort-analysis")).data}catch(e){throw console.error("Erro ao buscar an\xe1lise de coortes:",e),e}},jy=async()=>{try{return(await vy.get("/churn-prediction")).data}catch(e){throw console.error("Erro ao buscar predi\xe7\xe3o de churn:",e),e}},_y=async()=>{try{return(await vy.get("/expansion-opportunities")).data}catch(e){throw console.error("Erro ao buscar oportunidades de expans\xe3o:",e),e}},Sy=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?"?month=".concat(e):"";return(await vy.get("/executive-report".concat(t))).data}catch(t){throw console.error("Erro ao buscar relat\xf3rio executivo:",t),t}},ky=e=>{let{isOpen:t,onClose:n,onSubmit:a}=e;const[s,i]=(0,r.useState)({clinic_name:"",max_patients:50,admin_name:"",admin_username:""}),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)({}),u=e=>{const{name:t,value:n}=e.target;i((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:"max_patients"===t?parseInt(n)||0:n}))),c[t]&&d((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:""})))},h=async e=>{e.preventDefault();const t=(()=>{const e={};return s.clinic_name.trim()||(e.clinic_name="Nome da cl\xednica \xe9 obrigat\xf3rio"),s.admin_name.trim()||(e.admin_name="Nome do administrador \xe9 obrigat\xf3rio"),s.admin_username.trim()?s.admin_username.length<3&&(e.admin_username="Username deve ter pelo menos 3 caracteres"):e.admin_username="Username \xe9 obrigat\xf3rio",(!s.max_patients||s.max_patients<1)&&(e.max_patients="Limite de pacientes deve ser maior que 0"),e})();if(Object.keys(t).length>0)d(t);else{l(!0);try{await a(s),i({clinic_name:"",max_patients:50,admin_name:"",admin_username:""}),d({})}catch(o){var n,r;if(console.error("Erro ao criar cl\xednica:",o),null!==(n=o.response)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.errors){const e={};o.response.data.errors.forEach((t=>{t.msg.includes("Nome de usu\xe1rio")&&(e.admin_username="Este username j\xe1 est\xe1 em uso")})),d(e)}}finally{l(!1)}}};return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Wi,className:"text-2xl text-blue-600 mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Nova Cl\xednica"})]}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("form",{onSubmit:h,className:"p-6 space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Cl\xednica *"}),(0,qe.jsx)("input",{type:"text",name:"clinic_name",value:s.clinic_name,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(c.clinic_name?"border-red-500":"border-gray-300"),placeholder:"Ex: Cl\xednica ABA Plus"}),c.clinic_name&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.clinic_name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Limite de Pacientes *"}),(0,qe.jsx)("input",{type:"number",name:"max_patients",value:s.max_patients,onChange:u,min:"1",max:"1000",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(c.max_patients?"border-red-500":"border-gray-300")}),c.max_patients&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.max_patients})]}),(0,qe.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,qe.jsx)("div",{className:"flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Modelo de Cobran\xe7a"}),(0,qe.jsx)("div",{className:"text-lg font-bold text-green-600",children:"R$ 34,90 por paciente/m\xeas"}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Exemplo: ",s.max_patients," pacientes = R$ ",(34.9*s.max_patients).toLocaleString("pt-BR",{minimumFractionDigits:2})," m\xe1ximo/m\xeas"]})]})})}),(0,qe.jsx)("div",{className:"border-t border-gray-200 my-4 pt-4",children:(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)(za,{icon:xs,className:"text-blue-600 mr-2"}),(0,qe.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Dados do Administrador"})]})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),(0,qe.jsx)("input",{type:"text",name:"admin_name",value:s.admin_name,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(c.admin_name?"border-red-500":"border-gray-300"),placeholder:"Ex: Jo\xe3o Silva"}),c.admin_name&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.admin_name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username de Login *"}),(0,qe.jsx)("input",{type:"text",name:"admin_username",value:s.admin_username,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(c.admin_username?"border-red-500":"border-gray-300"),placeholder:"Ex: clinica.abaplus"}),c.admin_username&&(0,qe.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.admin_username}),(0,qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"O administrador definir\xe1 a senha no primeiro acesso"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,qe.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:o,children:"Cancelar"}),(0,qe.jsx)("button",{onClick:h,disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:o?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"animate-spin mr-2"}),"Criando..."]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:Qi,className:"mr-2"}),"Criar Cl\xednica"]})})]})]})}):null},Cy=e=>{let{isOpen:t,onClose:n,clinic:a,onSubmit:s}=e;const[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)("");(0,r.useEffect)((()=>{var e;t&&a&&(o((null===(e=a.max_patients)||void 0===e?void 0:e.toString())||""),u(""))}),[t,a]);const h=async e=>{e.preventDefault();const t=parseInt(i),n=parseInt((null===a||void 0===a?void 0:a.patients_count)||0);if(!t||t<1)u("Limite deve ser um n\xfamero maior que 0");else if(t<n)u("Limite n\xe3o pode ser menor que ".concat(n," (pacientes atuais)"));else if(t!==a.max_patients){c(!0),u("");try{await s(t)}catch(d){console.error("Erro ao atualizar limite:",d),u("Erro ao atualizar limite de pacientes")}finally{c(!1)}}else u("O limite informado \xe9 igual ao atual")};if(!t||!a)return null;const f=parseInt(a.patients_count||0),m=parseInt(a.max_patients||0),p=parseInt(i)||0,g=p-m;return(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:us,className:"text-2xl text-blue-600 mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Atualizar Limite de Pacientes"})]}),(0,qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:a.name}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-500",children:"Pacientes atuais:"}),(0,qe.jsx)("div",{className:"font-semibold text-gray-900",children:f})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-500",children:"Limite atual:"}),(0,qe.jsx)("div",{className:"font-semibold text-gray-900",children:m})]})]}),(0,qe.jsxs)("div",{className:"mt-3",children:[(0,qe.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,qe.jsx)("span",{children:"Ocupa\xe7\xe3o atual"}),(0,qe.jsxs)("span",{children:[Math.round(f/m*100),"%"]})]}),(0,qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,qe.jsx)("div",{className:"h-2 rounded-full ".concat(f/m>.8?"bg-red-500":f/m>.6?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,f/m*100),"%")}})})]})]}),(0,qe.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:hs,className:"mr-2 text-blue-600"}),"Novo Limite de Pacientes"]}),(0,qe.jsx)("input",{type:"number",value:i,onChange:e=>{const t=e.target.value;o(t),d&&u("")},min:f,max:"1000",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg font-semibold ".concat(d?"border-red-500":"border-gray-300"),placeholder:"Digite o novo limite"}),p&&p!==m&&!d&&(0,qe.jsxs)("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:g>0?Qi:eo,className:"mr-2 ".concat(g>0?"text-green-600":"text-yellow-600")}),(0,qe.jsx)("span",{className:"text-sm",children:g>0?"Aumento de ".concat(g," paciente").concat(g>1?"s":""):"Redu\xe7\xe3o de ".concat(Math.abs(g)," paciente").concat(Math.abs(g)>1?"s":"")})]}),(0,qe.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Nova ocupa\xe7\xe3o: ",Math.round(f/p*100),"%"]})]})]}),d&&(0,qe.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,qe.jsxs)("div",{className:"flex",children:[(0,qe.jsx)(za,{icon:eo,className:"text-red-600 mr-2 mt-0.5"}),(0,qe.jsx)("span",{className:"text-red-700 text-sm",children:d})]})}),(0,qe.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-xs text-gray-600",children:[(0,qe.jsx)("strong",{children:"Dicas:"}),(0,qe.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,qe.jsx)("li",{children:"O limite n\xe3o pode ser menor que o n\xfamero atual de pacientes"}),(0,qe.jsx)("li",{children:"Recomenda-se manter uma margem de 10-20% para crescimento"}),(0,qe.jsx)("li",{children:"Cl\xednicas com mais de 80% de ocupa\xe7\xe3o podem precisar expandir"})]})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,qe.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:l,children:"Cancelar"}),(0,qe.jsx)("button",{onClick:h,disabled:l||!i||d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:l?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"animate-spin mr-2"}),"Atualizando..."]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:Qi,className:"mr-2"}),"Atualizar Limite"]})})]})]})})},Ay=e=>{let{isOpen:t,onClose:n,clinic:a,onSubmit:s}=e;const[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),h=async e=>{if(e.preventDefault(),i.trim())if(i.trim().length<10)u("Motivo deve ter pelo menos 10 caracteres");else{c(!0),u("");try{await s(i.trim()),o("")}catch(d){console.error("Erro ao suspender cl\xednica:",d),u("Erro ao suspender cl\xednica")}finally{c(!1)}}else u("Motivo da suspens\xe3o \xe9 obrigat\xf3rio")},f=()=>{o(""),u(""),n()};if(!t||!a)return null;const m=new Date(a.created_at).toLocaleDateString("pt-BR"),p=parseInt(a.therapists_count||0)+parseInt(a.parents_count||0);return(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"text-2xl text-red-600 mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Suspender Cl\xednica"})]}),(0,qe.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,qe.jsxs)("div",{className:"flex",children:[(0,qe.jsx)(za,{icon:eo,className:"text-red-600 mr-3 mt-0.5"}),(0,qe.jsxs)("div",{className:"text-sm",children:[(0,qe.jsx)("h4",{className:"font-semibold text-red-800 mb-2",children:"Aten\xe7\xe3o!"}),(0,qe.jsx)("p",{className:"text-red-700",children:"Esta a\xe7\xe3o suspender\xe1 completamente o acesso da cl\xednica ao sistema. Todos os usu\xe1rios (terapeutas e pais) ser\xe3o bloqueados, exceto o administrador que ter\xe1 acesso limitado apenas para regulariza\xe7\xe3o."})]})]})}),(0,qe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,qe.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,qe.jsx)(za,{icon:Wi,className:"mr-2 text-blue-600"}),a.name]}),(0,qe.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-gray-500",children:"Pacientes"}),(0,qe.jsx)("div",{className:"font-semibold text-gray-900",children:a.patients_count||0})]}),(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-gray-500",children:"Usu\xe1rios"}),(0,qe.jsx)("div",{className:"font-semibold text-gray-900",children:p})]}),(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-gray-500",children:"Criada em"}),(0,qe.jsx)("div",{className:"font-semibold text-gray-900",children:m})]})]}),(0,qe.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,qe.jsx)("span",{className:"text-gray-500",children:"Administrador:"}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"font-medium text-gray-900",children:a.admin_name}),(0,qe.jsxs)("div",{className:"text-gray-500",children:["@",a.admin_username]})]})]})})]}),(0,qe.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo da Suspens\xe3o *"}),(0,qe.jsxs)("div",{className:"mb-3",children:[(0,qe.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Motivos comuns (clique para selecionar):"}),(0,qe.jsx)("div",{className:"space-y-1",children:["Inadimpl\xeancia - Pagamento em atraso h\xe1 mais de 10 dias","Inadimpl\xeancia - M\xfaltiplas faturas em aberto","Viola\xe7\xe3o dos termos de uso","Inatividade prolongada - Mais de 60 dias sem acesso","Solicita\xe7\xe3o da pr\xf3pria cl\xednica","Problemas t\xe9cnicos ou de seguran\xe7a"].map(((e,t)=>(0,qe.jsx)("button",{type:"button",onClick:()=>o(e),className:"text-left w-full px-3 py-2 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:e},t)))})]}),(0,qe.jsx)("textarea",{value:i,onChange:e=>{o(e.target.value),d&&u("")},rows:"4",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none ".concat(d?"border-red-500":"border-gray-300"),placeholder:"Descreva o motivo detalhado da suspens\xe3o..."}),(0,qe.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[d&&(0,qe.jsx)("span",{className:"text-red-500 text-xs",children:d}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500 ml-auto",children:[i.length,"/500 caracteres"]})]})]}),(0,qe.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,qe.jsx)("h5",{className:"font-medium text-yellow-800 mb-2",children:"Consequ\xeancias da Suspens\xe3o:"}),(0,qe.jsxs)("ul",{className:"text-xs text-yellow-700 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 Terapeutas n\xe3o conseguir\xe3o fazer login"}),(0,qe.jsx)("li",{children:"\u2022 Pais n\xe3o ter\xe3o acesso aos dados dos filhos"}),(0,qe.jsx)("li",{children:"\u2022 Administrador ter\xe1 acesso limitado para regulariza\xe7\xe3o"}),(0,qe.jsx)("li",{children:"\u2022 Dados permanecem seguros e podem ser reativados"}),(0,qe.jsx)("li",{children:"\u2022 Cobran\xe7a continua ativa at\xe9 regulariza\xe7\xe3o"})]})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,qe.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:l,children:"Cancelar"}),(0,qe.jsx)("button",{onClick:h,disabled:l||!i.trim()||i.trim().length<10,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:l?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"animate-spin mr-2"}),"Suspendendo..."]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:ys,className:"mr-2"}),"Suspender Cl\xednica"]})})]})]})})},Py=e=>{var t,n;let{isOpen:a,onClose:s,billing:i,onSubmit:o}=e;const[l,c]=(0,r.useState)({payment_date:(new Date).toISOString().split("T")[0],payment_method:"credit_card",notes:""}),[d,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)("");(0,r.useEffect)((()=>{a&&i&&(c({payment_date:(new Date).toISOString().split("T")[0],payment_method:"credit_card",notes:""}),f(""))}),[a,i]);const m=async e=>{if(e.preventDefault(),!l.payment_date)return void f("Data de pagamento \xe9 obrigat\xf3ria");const t=new Date(l.payment_date),n=new Date;if(n.setHours(23,59,59,999),t>n)f("Data de pagamento n\xe3o pode ser futura");else{u(!0),f("");try{await o(l)}catch(h){console.error("Erro ao registrar pagamento:",h),f("Erro ao registrar pagamento")}finally{u(!1)}}},p=()=>{c({payment_date:(new Date).toISOString().split("T")[0],payment_method:"credit_card",notes:""}),f(""),s()},g=e=>{const{name:t,value:n}=e.target;c((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n}))),h&&f("")};if(!a||!i)return null;const x=Math.floor((new Date-new Date(i.due_date))/864e5),b=x>0&&"pending"===i.status;return(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:fi,className:"text-2xl text-green-600 mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Registrar Pagamento"})]}),(0,qe.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qe.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,qe.jsx)(za,{icon:Wi,className:"mr-2 text-blue-600"}),i.clinic_name]}),(0,qe.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("premium"===i.plan_type?"bg-purple-100 text-purple-800":"enterprise"===i.plan_type?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:(null===(t=i.plan_type)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=i.plan_type)||void 0===n?void 0:n.slice(1))})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-500",children:"Valor:"}),(0,qe.jsx)("div",{className:"font-bold text-lg text-green-600",children:(e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(e)||0))(i.amount)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-500",children:"Vencimento:"}),(0,qe.jsx)("div",{className:"font-semibold ".concat(b?"text-red-600":"text-gray-900"),children:(v=i.due_date,new Date(v).toLocaleDateString("pt-BR"))}),b&&(0,qe.jsxs)("div",{className:"text-xs text-red-500",children:[x," dia",x>1?"s":""," em atraso"]})]})]})]}),b&&(0,qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:(0,qe.jsxs)("div",{className:"flex",children:[(0,qe.jsx)(za,{icon:ii,className:"text-red-600 mr-2 mt-0.5"}),(0,qe.jsxs)("div",{className:"text-sm text-red-700",children:[(0,qe.jsx)("strong",{children:"Pagamento em Atraso:"})," Esta cobran\xe7a est\xe1 vencida h\xe1 ",x," dia",x>1?"s":"",". Ap\xf3s confirmar o pagamento, a cl\xednica ser\xe1 automaticamente reativada."]})]})}),(0,qe.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-2 text-blue-600"}),"Data do Pagamento *"]}),(0,qe.jsx)("input",{type:"date",name:"payment_date",value:l.payment_date,onChange:g,max:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(h&&h.includes("Data")?"border-red-500":"border-gray-300")})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:vs,className:"mr-2 text-blue-600"}),"M\xe9todo de Pagamento *"]}),(0,qe.jsx)("select",{name:"payment_method",value:l.payment_method,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[{value:"credit_card",label:"\ud83d\udcb3 Cart\xe3o de Cr\xe9dito"},{value:"debit_card",label:"\ud83d\udcb3 Cart\xe3o de D\xe9bito"},{value:"bank_transfer",label:"\ud83c\udfe6 Transfer\xeancia Banc\xe1ria"},{value:"pix",label:"\ud83d\udcf1 PIX"},{value:"bank_slip",label:"\ud83d\udcc4 Boleto Banc\xe1rio"},{value:"cash",label:"\ud83d\udcb5 Dinheiro"},{value:"other",label:"\ud83d\udd27 Outros"}].map((e=>(0,qe.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa\xe7\xf5es (opcional)"}),(0,qe.jsx)("textarea",{name:"notes",value:l.notes,onChange:g,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Ex: N\xfamero da transa\xe7\xe3o, observa\xe7\xf5es sobre o pagamento..."}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[l.notes.length,"/200 caracteres"]})]})]}),h&&(0,qe.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,qe.jsxs)("div",{className:"flex",children:[(0,qe.jsx)(za,{icon:ii,className:"text-red-600 mr-2 mt-0.5"}),(0,qe.jsx)("span",{className:"text-red-700 text-sm",children:h})]})}),(0,qe.jsxs)("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,qe.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Ap\xf3s confirmar o pagamento:"}),(0,qe.jsxs)("ul",{className:"text-xs text-green-700 space-y-1",children:[(0,qe.jsx)("li",{children:'\u2022 Status da cobran\xe7a ser\xe1 alterado para "Pago"'}),"suspended"===i.clinic_status&&(0,qe.jsx)("li",{children:"\u2022 Cl\xednica ser\xe1 automaticamente reativada"}),(0,qe.jsx)("li",{children:"\u2022 M\xe9tricas financeiras ser\xe3o atualizadas"}),(0,qe.jsx)("li",{children:"\u2022 Registro ficar\xe1 dispon\xedvel no hist\xf3rico"})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,qe.jsx)("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:d,children:"Cancelar"}),(0,qe.jsx)("button",{onClick:m,disabled:d||!l.payment_date,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:d?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:zi,className:"animate-spin mr-2"}),"Registrando..."]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(za,{icon:Qi,className:"mr-2"}),"Confirmar Pagamento"]})})]})]})});var v},Ly=e=>{let{days:t,currentDate:n,today:r,billingsByDate:a,weekDays:s,getDateStatus:i,getStatusStyles:o,formatCurrency:l,onViewBilling:c,onEditDueDate:d,onRecordPayment:u}=e;return(0,qe.jsxs)("div",{className:"grid grid-cols-7 gap-0",children:[s.map((e=>(0,qe.jsx)("div",{className:"bg-gray-100 p-3 text-center font-medium text-gray-700 border-b border-gray-200",children:e},e))),t.map(((e,t)=>{const s=e.toDateString(),h=a[s]||[],f=e.toDateString()===r.toDateString(),m=e.getMonth()===n.getMonth(),p=i(e,h);return(0,qe.jsxs)("div",{className:o(p,f,m),children:[(0,qe.jsx)("div",{className:"p-2",children:(0,qe.jsx)("div",{className:"text-sm font-medium ".concat(f?"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center":""),children:e.getDate()})}),h.length>0&&(0,qe.jsxs)("div",{className:"absolute inset-x-1 bottom-1 space-y-1 max-h-20 overflow-y-auto",children:[h.slice(0,3).map((e=>(0,qe.jsx)(Dy,{billing:e,formatCurrency:l,onViewBilling:c,onEditDueDate:d,onRecordPayment:u},e.id))),h.length>3&&(0,qe.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["+",h.length-3," mais"]})]})]},t)}))]})},Ey=e=>{let{days:t,today:n,billingsByDate:r,weekDays:a,formatCurrency:s,onViewBilling:i,onEditDueDate:o,onRecordPayment:l}=e;return(0,qe.jsx)("div",{className:"grid grid-cols-7 gap-4",children:t.map(((e,t)=>{const c=e.toDateString(),d=r[c]||[],u=e.toDateString()===n.toDateString();return(0,qe.jsxs)("div",{className:"bg-white border rounded-lg p-4 min-h-64 ".concat(u?"ring-2 ring-blue-500":"border-gray-200"),children:[(0,qe.jsxs)("div",{className:"text-center mb-3",children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-gray-600",children:a[e.getDay()]}),(0,qe.jsx)("div",{className:"text-lg font-bold ".concat(u?"bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center mx-auto":"text-gray-900"),children:e.getDate()})]}),(0,qe.jsx)("div",{className:"space-y-2",children:d.map((e=>(0,qe.jsx)(Dy,{billing:e,formatCurrency:s,onViewBilling:i,onEditDueDate:o,onRecordPayment:l,compact:!1},e.id)))})]},t)}))})},My=e=>{let{date:t,today:n,billingsByDate:r,formatCurrency:a,onViewBilling:s,onEditDueDate:i,onRecordPayment:o}=e;const l=r[t.toDateString()]||[],c=t.toDateString()===n.toDateString();return(0,qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,qe.jsxs)("div",{className:"p-6 border-b border-gray-200 ".concat(c?"bg-blue-50":"bg-gray-50"),children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:t.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,qe.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[l.length," cobran\xe7a",1!==l.length?"s":""," ",l.length>0?"programada"+(l.length>1?"s":""):"programadas"]})]}),(0,qe.jsx)("div",{className:"p-6",children:l.length>0?(0,qe.jsx)("div",{className:"space-y-4",children:l.map((e=>(0,qe.jsx)("div",{className:"p-4 rounded-lg border ".concat("paid"===e.status?"bg-green-50 border-green-200":"overdue"===e.status?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"),children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-semibold text-gray-900",children:e.clinic_name}),(0,qe.jsx)("p",{className:"text-lg font-bold text-gray-800",children:a(e.amount)}),(0,qe.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ","paid"===e.status?"Pago":"overdue"===e.status?"Vencido":"Pendente"]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>s&&s(e),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-white rounded transition-colors",title:"Ver detalhes",children:(0,qe.jsx)(za,{icon:Ys})}),(0,qe.jsx)("button",{onClick:()=>i&&i(e),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-white rounded transition-colors",title:"Editar data de vencimento",children:(0,qe.jsx)(za,{icon:us})}),"paid"!==e.status&&(0,qe.jsx)("button",{onClick:()=>o&&o(e),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-white rounded transition-colors",title:"Registrar pagamento",children:(0,qe.jsx)(za,{icon:fi})})]})]})},e.id)))}):(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:Xa,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Nenhuma cobran\xe7a programada para este dia."})]})})]})},Dy=e=>{let{billing:t,formatCurrency:n,onViewBilling:r,onEditDueDate:a,onRecordPayment:s,compact:i=!0}=e;return(0,qe.jsxs)("div",{className:"".concat(i?"text-xs":"text-sm"," p-").concat(i?"1":"3"," rounded cursor-pointer group relative ").concat("paid"===t.status?"bg-green-100 text-green-800":"overdue"===t.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),onClick:()=>r&&r(t),children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"truncate font-medium ".concat(i?"":"text-base"),children:t.clinic_name}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1 ".concat(i?"opacity-0 group-hover:opacity-100":""," transition-opacity"),children:[(0,qe.jsx)("button",{onClick:e=>{e.stopPropagation(),r&&r(t)},className:"text-gray-600 hover:text-blue-600",title:"Ver detalhes",children:(0,qe.jsx)(za,{icon:Ys,className:i?"w-3 h-3":"w-4 h-4"})}),(0,qe.jsx)("button",{onClick:e=>{e.stopPropagation(),a&&a(t)},className:"text-gray-600 hover:text-blue-600",title:"Editar data de vencimento",children:(0,qe.jsx)(za,{icon:us,className:i?"w-3 h-3":"w-4 h-4"})}),"paid"!==t.status&&(0,qe.jsx)("button",{onClick:e=>{e.stopPropagation(),s&&s(t)},className:"text-gray-600 hover:text-green-600",title:"Registrar pagamento",children:(0,qe.jsx)(za,{icon:fi,className:i?"w-3 h-3":"w-4 h-4"})})]})]}),(0,qe.jsx)("div",{className:"".concat(i?"text-xs":"text-sm"," opacity-75"),children:n(t.amount)})]})},Oy=e=>{let{billings:t,onViewBilling:n,onRecordPayment:a,onEditDueDate:s}=e;const[i,o]=(0,r.useState)(new Date),[l,c]=(0,r.useState)("month"),d=e=>{const t=new Date(i);"month"===l?t.setMonth(i.getMonth()+e):"week"===l?t.setDate(i.getDate()+7*e):"day"===l&&t.setDate(i.getDate()+e),o(t)},u=(0,r.useMemo)((()=>{const e={};return t.forEach((t=>{const n=new Date(t.due_date).toDateString();e[n]||(e[n]=[]),e[n].push(t)})),e}),[t]),h=(e,t)=>{if(!t||0===t.length)return"normal";const n=e<new Date,r=t.every((e=>"paid"===e.status)),a=t.some((e=>"pending"===e.status)),s=t.some((e=>"overdue"===e.status));return r?"paid":s||n&&a?"overdue":a?"pending":"normal"},f=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),m=new Date,p=["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"];return(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,qe.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-2 text-blue-600"}),"Calend\xe1rio de Cobran\xe7as"]}),(0,qe.jsx)("button",{onClick:()=>{o(new Date)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Hoje"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[(0,qe.jsxs)("button",{onClick:()=>c("month"),className:"px-3 py-1 text-sm flex items-center transition-colors ".concat("month"===l?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,qe.jsx)(za,{icon:as,className:"mr-1"}),"M\xeas"]}),(0,qe.jsxs)("button",{onClick:()=>c("week"),className:"px-3 py-1 text-sm flex items-center transition-colors ".concat("week"===l?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-1"}),"Semana"]}),(0,qe.jsxs)("button",{onClick:()=>c("day"),className:"px-3 py-1 text-sm flex items-center transition-colors ".concat("day"===l?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,qe.jsx)(za,{icon:cs,className:"mr-1"}),"Dia"]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Vs,className:"text-green-500 mr-1"}),(0,qe.jsx)("span",{children:"Pago"})]}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Vs,className:"text-yellow-500 mr-1"}),(0,qe.jsx)("span",{children:"Pendente"})]}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Vs,className:"text-red-500 mr-1"}),(0,qe.jsx)("span",{children:"Vencido"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>d(-1),className:"p-2 hover:bg-gray-200 rounded transition-colors",children:(0,qe.jsx)(za,{icon:Oi})}),(0,qe.jsxs)("span",{className:"font-medium text-gray-900 min-w-48 text-center",children:["month"===l&&"".concat(["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][i.getMonth()]," ").concat(i.getFullYear()),"week"===l&&"Semana de ".concat(i.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})),"day"===l&&i.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,qe.jsx)("button",{onClick:()=>d(1),className:"p-2 hover:bg-gray-200 rounded transition-colors",children:(0,qe.jsx)(za,{icon:Ti})})]})]})]})}),"month"===l&&(0,qe.jsx)(Ly,{days:(()=>{const e=i.getFullYear(),t=i.getMonth(),n=new Date(e,t,1),r=new Date(n);r.setDate(r.getDate()-n.getDay());const a=[],s=new Date(r);s.setDate(s.getDate()+42);for(let i=new Date(r);i<s;i.setDate(i.getDate()+1))a.push(new Date(i));return a})(),currentDate:i,today:m,billingsByDate:u,weekDays:p,getDateStatus:h,getStatusStyles:(e,t,n)=>{const r="relative w-full h-32 border border-gray-200 hover:bg-gray-50 transition-colors ".concat(n?"bg-white":"bg-gray-50 text-gray-400");let a="";switch(t&&(a="ring-2 ring-blue-500"),e){case"paid":a+=" bg-green-50 border-green-200";break;case"overdue":a+=" bg-red-50 border-red-300";break;case"pending":a+=" bg-yellow-50 border-yellow-200"}return"".concat(r," ").concat(a)},formatCurrency:f,onViewBilling:n,onEditDueDate:s,onRecordPayment:a}),"week"===l&&(0,qe.jsx)(Ey,{days:(()=>{const e=new Date(i),t=e.getDay(),n=e.getDate()-t;e.setDate(n);const r=[];for(let a=0;a<7;a++){const t=new Date(e);t.setDate(e.getDate()+a),r.push(t)}return r})(),currentDate:i,today:m,billingsByDate:u,weekDays:p,getDateStatus:h,formatCurrency:f,onViewBilling:n,onEditDueDate:s,onRecordPayment:a}),"day"===l&&(0,qe.jsx)(My,{date:i,today:m,billingsByDate:u,formatCurrency:f,onViewBilling:n,onEditDueDate:s,onRecordPayment:a}),(0,qe.jsx)("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:(0,qe.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm text-gray-600",children:"Total de Cobran\xe7as"}),(0,qe.jsx)("div",{className:"font-bold text-lg text-gray-900",children:t.length})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm text-gray-600",children:"Pagas"}),(0,qe.jsx)("div",{className:"font-bold text-lg text-green-600",children:t.filter((e=>"paid"===e.status)).length})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm text-gray-600",children:"Pendentes"}),(0,qe.jsx)("div",{className:"font-bold text-lg text-yellow-600",children:t.filter((e=>"pending"===e.status)).length})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm text-gray-600",children:"Vencidas"}),(0,qe.jsx)("div",{className:"font-bold text-lg text-red-600",children:t.filter((e=>"overdue"===e.status)).length})]})]})})]})},Ty=e=>{let{isOpen:t,onClose:n,onSubmit:a}=e;const[s,i]=(0,r.useState)({clinic_id:"",due_date:"",notes:""}),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(0),[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)("");(0,r.useEffect)((()=>{if(t){x();const e=new Date;e.setDate(e.getDate()+30),i((t=>(0,Ie.A)((0,Ie.A)({},t),{},{due_date:e.toISOString().split("T")[0]})))}}),[t]);const x=async()=>{try{const e=await oy();l(e.data||[])}catch(p){console.error("Erro ao carregar cl\xednicas:",p),g("Erro ao carregar cl\xednicas")}},b=()=>{i({clinic_id:"",due_date:"",notes:""}),d(null),h(0),g(""),n()},v=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0);return t?(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:ao,className:"text-2xl text-green-600 mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Nova Cobran\xe7a"})]}),(0,qe.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.clinic_id&&s.due_date)if(c&&0!==c.current_patients){m(!0),g("");try{await a({clinic_id:parseInt(s.clinic_id),due_date:s.due_date,notes:s.notes||"Cobran\xe7a autom\xe1tica - ".concat((null===c||void 0===c?void 0:c.current_patients)||0," pacientes")}),i({clinic_id:"",due_date:"",notes:""}),d(null),h(0)}catch(p){console.error("Erro ao criar cobran\xe7a:",p),g("Erro ao criar cobran\xe7a")}finally{m(!1)}}else g("A cl\xednica selecionada deve ter pelo menos 1 paciente para cobran\xe7a");else g("Cl\xednica e data de vencimento s\xe3o obrigat\xf3rios")},className:"p-6 space-y-6",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:Wi,className:"mr-2"}),"Cl\xednica *"]}),(0,qe.jsxs)("select",{value:s.clinic_id,onChange:e=>{const t=e.target.value,n=o.find((e=>e.id===parseInt(t)));if(i((e=>(0,Ie.A)((0,Ie.A)({},e),{},{clinic_id:t}))),d(n),n){const e=34.9,t=(n.current_patients||0)*e;h(t)}else h(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,qe.jsx)("option",{value:"",children:"Selecione uma cl\xednica"}),o.map((e=>(0,qe.jsxs)("option",{value:e.id,children:[e.name," (",e.current_patients||0," pacientes)"]},e.id)))]})]}),c&&(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qe.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Informa\xe7\xf5es da Cl\xednica"}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-blue-700 font-medium",children:"Status:"}),(0,qe.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs ".concat("active"===c.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===c.status?"Ativa":"Suspensa"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-blue-700 font-medium",children:"Pacientes:"}),(0,qe.jsxs)("span",{className:"ml-2 text-blue-900",children:[c.current_patients||0," / ",c.max_patients]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-blue-700 font-medium",children:"Terapeutas:"}),(0,qe.jsx)("span",{className:"ml-2 text-blue-900",children:c.therapists_count||0})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-blue-700 font-medium",children:"Administrador:"}),(0,qe.jsx)("span",{className:"ml-2 text-blue-900",children:c.admin_name||"N/A"})]})]})]}),u>0&&(0,qe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,qe.jsxs)("h4",{className:"font-medium text-green-900 mb-2 flex items-center",children:[(0,qe.jsx)(za,{icon:di,className:"mr-2"}),"C\xe1lculo da Cobran\xe7a"]}),(0,qe.jsxs)("div",{className:"text-sm text-green-800",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qe.jsxs)("span",{children:[(null===c||void 0===c?void 0:c.current_patients)||0," pacientes \xd7 R$ 34,90"]}),(0,qe.jsx)("span",{className:"font-bold text-lg",children:v(u)})]}),(0,qe.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"* Valor calculado automaticamente baseado no n\xfamero atual de pacientes"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-2"}),"Data de Vencimento *"]}),(0,qe.jsx)("input",{type:"date",value:s.due_date,onChange:e=>i((t=>(0,Ie.A)((0,Ie.A)({},t),{},{due_date:e.target.value}))),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:ii,className:"mr-2"}),"Observa\xe7\xf5es"]}),(0,qe.jsx)("textarea",{value:s.notes,onChange:e=>i((t=>(0,Ie.A)((0,Ie.A)({},t),{},{notes:e.target.value}))),placeholder:"Observa\xe7\xf5es sobre esta cobran\xe7a (opcional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),p&&(0,qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,qe.jsx)("p",{className:"text-sm text-red-800",children:p})}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,qe.jsx)("button",{type:"button",onClick:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",disabled:f,children:"Cancelar"}),(0,qe.jsxs)("button",{type:"submit",disabled:f||!s.clinic_id||!s.due_date||0===u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 rounded-md transition-colors flex items-center",children:[f&&(0,qe.jsx)(za,{icon:zi,className:"mr-2 animate-spin"}),f?"Criando...":"Criar Cobran\xe7a ".concat(v(u))]})]})]})]})}):null},Ry=e=>{let{isOpen:t,onClose:n,billing:a,onSubmit:s}=e;const[i,o]=(0,r.useState)({due_date:"",reason:""}),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)("");(0,r.useEffect)((()=>{t&&a&&(o({due_date:new Date(a.due_date).toISOString().split("T")[0],reason:""}),u(""))}),[t,a]);const h=()=>{o({due_date:"",reason:""}),u(""),n()},f=e=>new Date(e).toLocaleDateString("pt-BR");return t&&a?(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:us,className:"text-2xl text-blue-600 mr-3"}),(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Data de Vencimento"})]}),(0,qe.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,qe.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,qe.jsx)(za,{icon:Wi,className:"mr-2 text-gray-600"}),"Informa\xe7\xf5es da Cobran\xe7a"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-600 font-medium",children:"Cl\xednica:"}),(0,qe.jsx)("span",{className:"ml-2 text-gray-900",children:a.clinic_name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-600 font-medium",children:"Valor:"}),(0,qe.jsx)("span",{className:"ml-2 text-gray-900 font-semibold",children:(e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0))(a.amount)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-600 font-medium",children:"Status:"}),(0,qe.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs ".concat("paid"===a.status?"bg-green-100 text-green-800":"overdue"===a.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"paid"===a.status?"Pago":"overdue"===a.status?"Vencido":"Pendente"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-600 font-medium",children:"Vencimento Atual:"}),(0,qe.jsx)("span",{className:"ml-2 text-gray-900 font-semibold",children:f(a.due_date)})]})]})]}),"paid"===a.status&&(0,qe.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"text-amber-500 mr-2"}),(0,qe.jsx)("span",{className:"text-amber-800 text-sm font-medium",children:"Aten\xe7\xe3o: Esta cobran\xe7a j\xe1 foi paga. Alterar a data pode afetar relat\xf3rios financeiros."})]})}),(0,qe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.due_date)return void u("Nova data de vencimento \xe9 obrigat\xf3ria");const t=new Date(i.due_date),n=new Date(a.due_date);if(t.getTime()!==n.getTime()){c(!0),u("");try{await s({billing_id:a.id,old_due_date:a.due_date,new_due_date:i.due_date,reason:i.reason||"Altera\xe7\xe3o solicitada pelo super admin"}),o({due_date:"",reason:""})}catch(d){console.error("Erro ao editar data de vencimento:",d),u("Erro ao salvar altera\xe7\xe3o")}finally{c(!1)}}else u("A nova data deve ser diferente da data atual")},className:"space-y-6",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-2"}),"Nova Data de Vencimento *"]}),(0,qe.jsx)("input",{type:"date",value:i.due_date,onChange:e=>o((t=>(0,Ie.A)((0,Ie.A)({},t),{},{due_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),(0,qe.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Data atual: ",f(a.due_date)]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo da Altera\xe7\xe3o (opcional)"}),(0,qe.jsx)("textarea",{value:i.reason,onChange:e=>o((t=>(0,Ie.A)((0,Ie.A)({},t),{},{reason:e.target.value}))),placeholder:"Descreva o motivo da altera\xe7\xe3o da data de vencimento...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Este motivo ser\xe1 registrado no hist\xf3rico de altera\xe7\xf5es."})]}),i.due_date&&i.due_date!==a.due_date&&(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qe.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"Resumo da Altera\xe7\xe3o"}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-blue-700 font-medium",children:"Data Original:"}),(0,qe.jsx)("br",{}),(0,qe.jsx)("span",{className:"text-blue-900",children:f(a.due_date)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-blue-700 font-medium",children:"Nova Data:"}),(0,qe.jsx)("br",{}),(0,qe.jsx)("span",{className:"text-blue-900 font-semibold",children:f(i.due_date)})]})]}),(0,qe.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-300",children:(0,qe.jsx)("span",{className:"text-blue-700 text-sm",children:new Date(i.due_date)>new Date(a.due_date)?"\ud83d\udcc5 Prazo ser\xe1 estendido":"\u26a1 Prazo ser\xe1 antecipado"})})]}),d&&(0,qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,qe.jsxs)("p",{className:"text-sm text-red-800 flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"mr-2"}),d]})}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,qe.jsx)("button",{type:"button",onClick:h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",disabled:l,children:"Cancelar"}),(0,qe.jsxs)("button",{type:"submit",disabled:l||!i.due_date||i.due_date===a.due_date,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 rounded-md transition-colors flex items-center",children:[l&&(0,qe.jsx)(za,{icon:zi,className:"mr-2 animate-spin"}),l?"Salvando...":"Salvar Altera\xe7\xe3o"]})]})]})]})]})}):null};rf.register(Pm,Dm,wf,vf,lm,Sm,im,nm,df,Af);const Iy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(parseFloat(e)||0).toFixed(t)},Fy=e=>{let{title:t,value:n,icon:r,colorClass:a,interpretation:s,trend:i}=e;const o=s?(e=>{switch(e){case"good":return{bg:"bg-green-100",border:"border-green-200",icon:Es,color:"text-green-600"};case"attention":return{bg:"bg-yellow-100",border:"border-yellow-200",icon:eo,color:"text-yellow-600"};case"critical":return{bg:"bg-red-100",border:"border-red-200",icon:eo,color:"text-red-600"};default:return{bg:"bg-gray-100",border:"border-gray-200",icon:ii,color:"text-gray-600"}}})(s):null;return(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border ".concat(o?o.border:"border-gray-200"," flex items-start space-x-4 relative transition-all hover:shadow-md"),children:[(0,qe.jsx)("div",{className:"text-xl p-3 rounded-full ".concat(a.bg," ").concat(a.text),children:(0,qe.jsx)(za,{icon:r,className:"fa-fw"})}),(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("p",{className:"text-3xl font-semibold ".concat(a.text),children:n}),i&&(0,qe.jsxs)("span",{className:"text-sm font-medium ".concat(i>0?"text-green-500":"text-red-500"),children:[i>0?"\u2197":"\u2198"," ",Math.abs(i),"%"]})]})]}),o&&(0,qe.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full ".concat(o.bg," flex items-center justify-center"),children:(0,qe.jsx)(za,{icon:o.icon,className:"text-xs ".concat(o.color)})})]})},zy=e=>{let{metrics:t,processedRevenueChart:n,processedGrowthChart:r,statusChart:a}=e;return(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,qe.jsx)(za,{icon:Us,className:"mr-3 text-blue-600"}),"M\xe9tricas do Sistema"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[(0,qe.jsx)(Fy,{title:"Total de Cl\xednicas",value:t.total_clinics||"0",icon:Wi,colorClass:{bg:"bg-blue-100",text:"text-blue-600"},interpretation:parseInt(t.total_clinics||0)>20?"good":"attention"}),(0,qe.jsx)(Fy,{title:"Receita Mensal (MRR)",value:"R$ ".concat(parseFloat(t.monthly_revenue||0).toLocaleString("pt-BR")),icon:vs,colorClass:{bg:"bg-green-100",text:"text-green-600"},interpretation:"good"}),(0,qe.jsx)(Fy,{title:"Total de Usu\xe1rios",value:t.total_users||"0",icon:hs,colorClass:{bg:"bg-purple-100",text:"text-purple-600"}}),(0,qe.jsx)(Fy,{title:"Taxa de Inadimpl\xeancia",value:"".concat(Iy(t.default_rate,1),"%"),icon:eo,colorClass:{bg:"bg-orange-100",text:"text-orange-600"},interpretation:parseFloat(t.default_rate||0)<5?"good":parseFloat(t.default_rate||0)<15?"attention":"critical"})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,qe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:Di,className:"mr-2 text-green-600"}),"Evolu\xe7\xe3o da Receita"]}),n?(0,qe.jsx)(px,{data:n,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",callbacks:{label:e=>"R$ ".concat(e.parsed.y.toLocaleString("pt-BR"))}}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"R$ ".concat(e.toLocaleString("pt-BR"))}}}}}):(0,qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,qe.jsx)(za,{icon:zi,className:"text-2xl text-gray-400 animate-spin"})})]}),(0,qe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:Bs,className:"mr-2 text-blue-600"}),"Status das Cl\xednicas"]}),a?(0,qe.jsx)(xx,{data:a,options:{responsive:!0,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:e=>"".concat(e.label,": ").concat(e.parsed)}}}}}):(0,qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,qe.jsx)(za,{icon:zi,className:"text-2xl text-gray-400 animate-spin"})})]})]}),r&&(0,qe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:Ji,className:"mr-2 text-purple-600"}),"Crescimento por M\xeas"]}),(0,qe.jsx)(gx,{data:r,options:{responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})]})]})},By=e=>{let{clinics:t,filters:n,setFilters:r,onCreateClinic:a,onEditLimit:s,onSuspend:i,onReactivate:o,onViewDetails:l,onDeleteClinic:c}=e;const d=e=>{switch(e){case"active":return"Ativa";case"suspended":return"Suspensa";case"inactive":return"Inativa";default:return"Desconhecido"}};return(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 lg:mb-0 flex items-center",children:[(0,qe.jsx)(za,{icon:Wi,className:"mr-3 text-blue-600"}),"Gest\xe3o de Cl\xednicas"]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:zs,className:"text-gray-400"}),["active","suspended","inactive"].map((e=>(0,qe.jsx)("button",{onClick:()=>(e=>{r((0,Ie.A)((0,Ie.A)({},n),{},{status:e===n.status?"":e}))})(e),className:"px-3 py-1 rounded-full text-xs font-medium ".concat(n.status===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:d(e)},e)))]}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(za,{icon:yi,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Buscar cl\xednicas...",value:n.search,onChange:e=>{return t=e.target.value,void r((0,Ie.A)((0,Ie.A)({},n),{},{search:t}));var t},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,qe.jsx)(za,{icon:Pi,className:"mr-2"}),"Nova Cl\xednica"]})]})]}),(0,qe.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,qe.jsx)("thead",{className:"bg-gray-50",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cl\xednica"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pacientes"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usu\xe1rios"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Administrador"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,qe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>{const t=(e=>{switch(e){case"active":return{icon:Es,color:"text-green-500"};case"suspended":return{icon:eo,color:"text-red-500"};default:return{icon:ii,color:"text-gray-500"}}})(e.status);return(0,qe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-500",children:["Criada em ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]})}),(0,qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:t.icon,className:"mr-2 ".concat(t.color)}),(0,qe.jsx)("span",{className:"text-sm font-medium",children:d(e.status)})]}),e.suspension_reason&&(0,qe.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.suspension_reason})]}),(0,qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,qe.jsxs)("div",{className:"text-sm text-gray-900",children:[e.patients_count||0," / ",e.max_patients]}),(0,qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:(0,qe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(Math.min(100,(e.patients_count||0)/e.max_patients*100),"%")}})})]}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,qe.jsxs)("div",{className:"space-y-1",children:[(0,qe.jsxs)("div",{children:[e.therapists_count||0," terapeutas"]}),(0,qe.jsxs)("div",{className:"text-gray-500",children:[e.parents_count||0," pais"]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.admin_name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-500",children:["@",e.admin_username]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>s(e),className:"text-blue-600 hover:text-blue-900",title:"Editar limite de pacientes",children:(0,qe.jsx)(za,{icon:us})}),"active"===e.status?(0,qe.jsx)("button",{onClick:()=>i(e),className:"text-red-600 hover:text-red-900",title:"Suspender cl\xednica",children:(0,qe.jsx)(za,{icon:ys})}):(0,qe.jsx)("button",{onClick:()=>o(e.id),className:"text-green-600 hover:text-green-900",title:"Reativar cl\xednica",children:(0,qe.jsx)(za,{icon:bi})}),(0,qe.jsx)("button",{onClick:()=>l(e),className:"text-gray-600 hover:text-gray-900",title:"Ver detalhes",children:(0,qe.jsx)(za,{icon:Ys})}),(0,qe.jsx)("button",{onClick:()=>{window.confirm('Tem certeza que deseja ELIMINAR permanentemente a cl\xednica "'.concat(e.name,'"?\n\nEsta a\xe7\xe3o ir\xe1:\n- Remover todos os usu\xe1rios da cl\xednica\n- Remover todos os pacientes e dados associados\n- Remover todas as cobran\xe7as\n- Esta a\xe7\xe3o \xc9 IRREVERS\xcdVEL!'))&&c(e.id)},className:"text-gray-600 hover:text-red-600",title:"Eliminar cl\xednica (IRREVERS\xcdVEL)",children:(0,qe.jsx)(za,{icon:Qs})})]})})]},e.id)}))})]})}),0===t.length&&(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:Wi,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Nenhuma cl\xednica encontrada."})]})]})]})},qy=e=>{let{billings:t,metrics:n,filters:r,setFilters:a,onRecordPayment:s,onCreateBilling:i,loadInitialData:o}=e;const l=e=>{switch(e){case"paid":return{bg:"bg-green-100",text:"text-green-800",label:"Pago"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pendente"};case"overdue":return{bg:"bg-red-100",text:"text-red-800",label:"Vencida"};default:return{bg:"bg-gray-100",text:"text-gray-800",label:"Desconhecido"}}},c=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(e)||0),d=e=>new Date(e).toLocaleDateString("pt-BR"),u=(()=>{const e={suspend_now:[],overdue:[],due_soon:[]};return t.forEach((t=>{const n=new Date,r=new Date(t.due_date),a=Math.ceil((r-n)/864e5);"paid"!==t.status&&(a<-10?e.suspend_now.push(t):a<0?e.overdue.push(t):a<=3&&e.due_soon.push(t))})),e})(),h=u.suspend_now.length>0||u.overdue.length>0||u.due_soon.length>0;return(0,qe.jsxs)("div",{className:"space-y-6",children:[h&&(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"mr-2 text-amber-500"}),"Alertas de Cobran\xe7a"]}),u.suspend_now.length>0&&(0,qe.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,qe.jsxs)("h4",{className:"font-medium text-red-800 mb-2",children:["\u26a0\ufe0f Suspender Agora (",u.suspend_now.length,")"]}),(0,qe.jsx)("p",{className:"text-sm text-red-700 mb-2",children:"Cl\xednicas com mais de 10 dias de atraso. Prazo de suspens\xe3o atingido."}),u.suspend_now.slice(0,3).map((e=>(0,qe.jsxs)("div",{className:"text-sm text-red-600",children:["\u2022 ",e.clinic_name," - ",c(e.amount)," - Venceu em ",d(e.due_date)]},e.id))),u.suspend_now.length>3&&(0,qe.jsxs)("div",{className:"text-sm text-red-600 mt-1",children:["... e mais ",u.suspend_now.length-3," cl\xednicas"]})]}),u.overdue.length>0&&(0,qe.jsxs)("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[(0,qe.jsxs)("h4",{className:"font-medium text-orange-800 mb-2",children:["\ud83d\udd36 Em Atraso (",u.overdue.length,")"]}),(0,qe.jsx)("p",{className:"text-sm text-orange-700 mb-2",children:"Cobran\xe7as vencidas. Monitorar para eventual suspens\xe3o."}),u.overdue.slice(0,3).map((e=>(0,qe.jsxs)("div",{className:"text-sm text-orange-600",children:["\u2022 ",e.clinic_name," - ",c(e.amount)," - Venceu em ",d(e.due_date)]},e.id))),u.overdue.length>3&&(0,qe.jsxs)("div",{className:"text-sm text-orange-600 mt-1",children:["... e mais ",u.overdue.length-3," cl\xednicas"]})]}),u.due_soon.length>0&&(0,qe.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,qe.jsxs)("h4",{className:"font-medium text-yellow-800 mb-2",children:["\ud83d\udcc5 Vencem em Breve (",u.due_soon.length,")"]}),(0,qe.jsx)("p",{className:"text-sm text-yellow-700 mb-2",children:"Cobran\xe7as que vencem nos pr\xf3ximos 3 dias. Acompanhar de perto."}),u.due_soon.slice(0,3).map((e=>(0,qe.jsxs)("div",{className:"text-sm text-yellow-600",children:["\u2022 ",e.clinic_name," - ",c(e.amount)," - Vence em ",d(e.due_date)]},e.id))),u.due_soon.length>3&&(0,qe.jsxs)("div",{className:"text-sm text-yellow-600 mt-1",children:["... e mais ",u.due_soon.length-3," cl\xednicas"]})]})]}),(0,qe.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6 mb-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-green-100 p-3 rounded-full mr-4",children:(0,qe.jsx)(za,{icon:hs,className:"text-green-600 text-xl"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Modelo de Assinatura ABAplay"}),(0,qe.jsxs)("p",{className:"text-gray-600",children:[(0,qe.jsx)("span",{className:"font-bold text-green-600",children:"R$ 34,90"})," por slot contratado \u2022 Cobran\xe7a mensal pelos slots assinados (independente do uso)"]}),(0,qe.jsx)("p",{className:"text-sm text-blue-600 mt-1",children:"\ud83d\udca1 Cl\xednica assina X slots, paga por X slots mesmo se usar menos"})]})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"text-sm text-gray-500",children:"Exemplo"}),(0,qe.jsx)("div",{className:"text-lg font-bold text-green-600",children:"100 slots = R$ 3.490,00/m\xeas"}),(0,qe.jsx)("div",{className:"text-xs text-gray-500",children:"(mesmo usando s\xf3 80 pacientes)"})]})]})}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,qe.jsx)(za,{icon:ao,className:"mr-3 text-green-600"}),"Gest\xe3o Financeira",h&&(0,qe.jsxs)("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:[u.suspend_now.length+u.overdue.length+u.due_soon.length," alertas"]})]}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsxs)("button",{onClick:async()=>{if(window.confirm("Esta a\xe7\xe3o ir\xe1 recalcular todas as cobran\xe7as pendentes para o modelo por slots contratados.\n\nDeseja continuar?"))try{const e=await fetch("/api/super-admin/billing/migrate-to-slot-model",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),t=await e.json();t.success&&(alert("Migra\xe7\xe3o conclu\xedda!\n\n".concat(t.data.updated_count," cobran\xe7as atualizadas\nDiferen\xe7a total: R$ ").concat(Iy(t.data.difference,2),"\nVaria\xe7\xe3o: ").concat(t.data.percentage_change,"%")),o())}catch(e){alert("Erro na migra\xe7\xe3o: "+e.message)}},className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[(0,qe.jsx)(za,{icon:us,className:"mr-1"}),"Migrar Cobran\xe7as"]}),(0,qe.jsxs)("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,qe.jsx)(za,{icon:Pi,className:"mr-2"}),"Nova Cobran\xe7a"]})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[(0,qe.jsx)(Fy,{title:"Receita Mensal (MRR)",value:c(n.monthly_revenue||0),icon:vs,colorClass:{bg:"bg-green-100",text:"text-green-600"},interpretation:"good"}),(0,qe.jsx)(Fy,{title:"Valores Pendentes",value:c(n.pending_amount||0),icon:es,colorClass:{bg:"bg-yellow-100",text:"text-yellow-600"}}),(0,qe.jsx)(Fy,{title:"Valores Vencidos",value:c(n.overdue_amount||0),icon:eo,colorClass:{bg:"bg-red-100",text:"text-red-600"},interpretation:0===parseFloat(n.overdue_amount||0)?"good":"critical"}),(0,qe.jsx)(Fy,{title:"Taxa Inadimpl\xeancia",value:"".concat(Iy(n.default_rate,1),"%"),icon:Us,colorClass:{bg:"bg-purple-100",text:"text-purple-600"},interpretation:parseFloat(n.default_rate||0)<5?"good":parseFloat(n.default_rate||0)<15?"attention":"critical"})]})]}),(0,qe.jsx)("div",{className:"flex items-center space-x-4",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(za,{icon:zs,className:"text-gray-400"}),["pending","overdue","paid"].map((e=>(0,qe.jsx)("button",{onClick:()=>(e=>{a((0,Ie.A)((0,Ie.A)({},r),{},{status:e===r.status?"":e}))})(e),className:"px-3 py-1 rounded-full text-xs font-medium ".concat(r.status===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:l(e).label},e)))]})}),(0,qe.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,qe.jsx)("thead",{className:"bg-gray-50",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cl\xednica"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pacientes"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Real"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,qe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>{const t=l(e.status),n=new Date(e.due_date)<new Date&&"pending"===e.status;return(0,qe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.clinic_name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-500",children:[e.current_patients," pacientes / ",e.max_patients," limite"]})]})}),(0,qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:c(34.9*e.max_patients)}),(0,qe.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:[e.max_patients," slots \xd7 R$ 34,90"]}),(e.current_patients||0)<e.max_patients&&(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Usando ",e.current_patients||0," de ",e.max_patients," slots"]})]}),(0,qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,qe.jsx)("div",{className:"text-sm ".concat(n?"text-red-600 font-medium":"text-gray-900"),children:d(e.due_date)}),e.payment_date&&(0,qe.jsxs)("div",{className:"text-xs text-green-600",children:["Pago em ",d(e.payment_date)]})]}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(t.bg," ").concat(t.text),children:t.label})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.current_patients||0}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:["de ",e.max_patients," m\xe1x"]}),(0,qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:(0,qe.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:"".concat(Math.min(100,(e.current_patients||0)/e.max_patients*100),"%")}})})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-sm font-bold text-purple-600",children:c(34.9*e.max_patients)}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.max_patients," \xd7 R$ 34,90"]}),e.max_patients-(e.current_patients||0)>0&&(0,qe.jsxs)("div",{className:"text-xs text-amber-600 font-medium mt-1",children:["+",e.max_patients-(e.current_patients||0)," slots livres"]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:["paid"!==e.status&&(0,qe.jsx)("button",{onClick:()=>s(e),className:"text-green-600 hover:text-green-900",title:"Registrar pagamento",children:(0,qe.jsx)(za,{icon:fi})}),(0,qe.jsx)("button",{className:"text-blue-600 hover:text-blue-900",title:"Ver hist\xf3rico",children:(0,qe.jsx)(za,{icon:Vi})})]})})]},e.id)}))})]})}),0===t.length&&(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:ao,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Nenhuma cobran\xe7a encontrada."})]})]})]})},Uy=e=>{let{billings:t,onViewBilling:n,onRecordPayment:r,onEditDueDate:a,onCreateBilling:s}=e;return(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,qe.jsx)(za,{icon:Xa,className:"mr-3 text-blue-600"}),"Calend\xe1rio de Vencimentos"]}),(0,qe.jsxs)("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,qe.jsx)(za,{icon:Pi,className:"mr-2"}),"Nova Cobran\xe7a"]})]}),(0,qe.jsx)(Oy,{billings:t,onViewBilling:n,onRecordPayment:r,onEditDueDate:a})]})},Wy=()=>{const[e,t]=(0,r.useState)(!0),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)("executive"),[o,l]=(0,r.useState)({executiveDashboard:null,customerHealth:null,cohortAnalysis:null,churnPrediction:null,expansionOpportunities:null,executiveReport:null});(0,r.useEffect)((()=>{c()}),[]);const c=async()=>{try{t(!0),a("");const[e,n,r,s,i,o]=await Promise.all([yy().catch((e=>({data:null,error:e}))),wy().catch((e=>({data:null,error:e}))),Ny().catch((e=>({data:null,error:e}))),jy().catch((e=>({data:null,error:e}))),_y().catch((e=>({data:null,error:e}))),Sy().catch((e=>({data:null,error:e})))]);l({executiveDashboard:e.data,customerHealth:n.data,cohortAnalysis:r.data,churnPrediction:s.data,expansionOpportunities:i.data,executiveReport:o.data})}catch(n){console.error("Erro ao carregar dados empresariais:",n),a("Erro ao carregar dados empresariais. Alguns recursos podem n\xe3o estar dispon\xedveis.")}finally{t(!1)}};return e?(0,qe.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,qe.jsx)(za,{icon:zi,className:"text-4xl text-blue-500 animate-spin mr-3"}),(0,qe.jsx)("span",{className:"text-lg",children:"Carregando Business Intelligence..."})]}):(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h2",{className:"text-3xl font-bold mb-2 flex items-center",children:[(0,qe.jsx)(za,{icon:to,className:"mr-3"}),"Business Intelligence & Analytics"]}),(0,qe.jsx)("p",{className:"text-blue-100 text-lg",children:"Insights avan\xe7ados para decis\xf5es estrat\xe9gicas baseadas em dados"})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"text-blue-100 text-sm",children:"\xdaltima atualiza\xe7\xe3o"}),(0,qe.jsx)("div",{className:"text-white font-semibold",children:(new Date).toLocaleString("pt-BR")})]})]})}),n&&(0,qe.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"text-yellow-600 mr-2"}),(0,qe.jsx)("p",{className:"text-yellow-800",children:n})]})}),(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,qe.jsx)("div",{className:"border-b border-gray-200",children:(0,qe.jsx)("nav",{className:"flex space-x-8 px-6",children:[{key:"executive",label:"Dashboard Executivo",icon:Ms,color:"blue"},{key:"health",label:"Customer Health",icon:js,color:"green"},{key:"churn",label:"An\xe1lise de Churn",icon:gs,color:"red"},{key:"growth",label:"Oportunidades",icon:Mi,color:"purple"},{key:"cohort",label:"An\xe1lise de Coortes",icon:qi,color:"orange"}].map((e=>(0,qe.jsxs)("button",{onClick:()=>i(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(s===e.key?"border-".concat(e.color,"-500 text-").concat(e.color,"-600"):"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,qe.jsx)(za,{icon:e.icon,className:"mr-2"}),e.label]},e.key)))})}),(0,qe.jsxs)("div",{className:"p-6",children:["executive"===s&&(0,qe.jsx)(Hy,{data:o.executiveDashboard}),"health"===s&&(0,qe.jsx)(Vy,{data:o.customerHealth}),"churn"===s&&(0,qe.jsx)(Yy,{data:o.churnPrediction}),"growth"===s&&(0,qe.jsx)(Gy,{data:o.expansionOpportunities}),"cohort"===s&&(0,qe.jsx)(Xy,{data:o.cohortAnalysis})]})]})]})},Hy=e=>{var t,n,r,a;let{data:s}=e;if(!s)return(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:is,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Dados do dashboard executivo n\xe3o dispon\xedveis."}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Verifique se o modelo EnterpriseMetricsModel est\xe1 configurado corretamente."})]});const{financial_kpis:i,insights:o}=s;return(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"KPIs Executivos"}),(0,qe.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"C-Level Dashboard"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,qe.jsx)(Fy,{title:"MRR (Monthly Recurring Revenue)",value:"R$ ".concat(((null===i||void 0===i?void 0:i.current_mrr)||0).toLocaleString("pt-BR")),icon:vs,colorClass:{bg:"bg-green-100",text:"text-green-600"},trend:null===i||void 0===i?void 0:i.mrr_growth_rate,interpretation:(null===i||void 0===i?void 0:i.mrr_growth_rate)>0?"good":"attention"}),(0,qe.jsx)(Fy,{title:"ARR (Annual Recurring Revenue)",value:"R$ ".concat(((null===i||void 0===i?void 0:i.arr)||0).toLocaleString("pt-BR")),icon:Us,colorClass:{bg:"bg-blue-100",text:"text-blue-600"}}),(0,qe.jsx)(Fy,{title:"LTV (Lifetime Value)",value:"R$ ".concat(((null===i||void 0===i?void 0:i.ltv)||0).toLocaleString("pt-BR")),icon:mi,colorClass:{bg:"bg-purple-100",text:"text-purple-600"}}),(0,qe.jsx)(Fy,{title:"Churn Rate",value:"".concat(Iy(null===i||void 0===i?void 0:i.churn_rate,1),"%"),icon:eo,colorClass:{bg:"bg-red-100",text:"text-red-600"},interpretation:(null===i||void 0===i?void 0:i.churn_rate)<5?"good":"critical"})]}),o&&(0,qe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:is,className:"mr-2 text-yellow-500"}),"Insights Estrat\xe9gicos"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Sa\xfade do Neg\xf3cio"}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Tend\xeancia MRR:"}),(0,qe.jsx)("span",{className:"font-medium ".concat("growing"===o.mrr_trend?"text-green-600":"text-red-600"),children:"growing"===o.mrr_trend?"Crescendo":"Declining"})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Receita por Cliente:"}),(0,qe.jsxs)("span",{className:"font-medium",children:["R$ ",Iy(o.avg_revenue_per_user,2)]})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Proje\xe7\xe3o ARR:"}),(0,qe.jsxs)("span",{className:"font-medium",children:["R$ ",(o.arr_projection||0).toLocaleString("pt-BR")]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Segmenta\xe7\xe3o de Clientes"}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Micro:"}),(0,qe.jsx)("span",{className:"font-medium",children:(null===(t=o.customer_segments)||void 0===t?void 0:t.micro)||0})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Pequeno:"}),(0,qe.jsx)("span",{className:"font-medium",children:(null===(n=o.customer_segments)||void 0===n?void 0:n.small)||0})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"M\xe9dio:"}),(0,qe.jsx)("span",{className:"font-medium",children:(null===(r=o.customer_segments)||void 0===r?void 0:r.medium)||0})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Grande:"}),(0,qe.jsx)("span",{className:"font-medium",children:(null===(a=o.customer_segments)||void 0===a?void 0:a.large)||0})]})]})]}),(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Riscos e Oportunidades"}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Clientes em Risco:"}),(0,qe.jsx)("span",{className:"font-medium text-red-600",children:o.total_customers_at_risk||0})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Receita em Risco:"}),(0,qe.jsxs)("span",{className:"font-medium text-red-600",children:["R$ ",Iy(o.revenue_at_risk,2)]})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-600",children:"Oportunidades Expans\xe3o:"}),(0,qe.jsx)("span",{className:"font-medium text-green-600",children:o.expansion_opportunities||0})]})]})]})]})]})]})},Vy=e=>{let{data:t}=e;if(!t)return(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:js,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Dados de Customer Health n\xe3o dispon\xedveis."})]});const{summary:n}=t;return(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Customer Health Score"}),(0,qe.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"An\xe1lise Comportamental"})]}),n&&(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,qe.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Es,className:"text-green-500 mr-2"}),(0,qe.jsx)("span",{className:"text-green-800 font-medium",children:"Saud\xe1veis"})]}),(0,qe.jsx)("div",{className:"text-2xl font-bold text-green-600 mt-2",children:n.healthy_customers||0}),(0,qe.jsx)("div",{className:"text-sm text-green-600",children:"Health Score \u2265 80"})]}),(0,qe.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:eo,className:"text-yellow-500 mr-2"}),(0,qe.jsx)("span",{className:"text-yellow-800 font-medium",children:"Em Risco"})]}),(0,qe.jsx)("div",{className:"text-2xl font-bold text-yellow-600 mt-2",children:n.at_risk_customers||0}),(0,qe.jsx)("div",{className:"text-sm text-yellow-600",children:"Health Score < 60"})]}),(0,qe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:hs,className:"text-blue-500 mr-2"}),(0,qe.jsx)("span",{className:"text-blue-800 font-medium",children:"Total Clientes"})]}),(0,qe.jsx)("div",{className:"text-2xl font-bold text-blue-600 mt-2",children:n.total_customers||0}),(0,qe.jsxs)("div",{className:"text-sm text-blue-600",children:["M\xe9dia: ",Iy(n.avg_health_score,1)]})]}),(0,qe.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:vs,className:"text-purple-500 mr-2"}),(0,qe.jsx)("span",{className:"text-purple-800 font-medium",children:"Receita Total"})]}),(0,qe.jsxs)("div",{className:"text-2xl font-bold text-purple-600 mt-2",children:["R$ ",(n.total_revenue||0).toLocaleString("pt-BR")]}),(0,qe.jsxs)("div",{className:"text-sm text-purple-600",children:["Idade m\xe9dia: ",Math.round(n.avg_customer_age||0)," meses"]})]})]}),(0,qe.jsx)("p",{className:"text-gray-600",children:"O Customer Health Score \xe9 calculado com base em m\xfaltiplos fatores incluindo utiliza\xe7\xe3o da plataforma, hist\xf3rico de pagamentos, engajamento e crescimento do neg\xf3cio do cliente."})]})},Yy=e=>{let{data:t}=e;return t?(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"An\xe1lise Preditiva de Churn"}),(0,qe.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Preven\xe7\xe3o de Churn"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)("div",{className:"bg-red-100 rounded-full p-3 mr-4",children:(0,qe.jsx)(za,{icon:eo,className:"text-red-600 text-xl"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-red-900",children:"Alto Risco"}),(0,qe.jsx)("p",{className:"text-red-600 text-sm",children:"A\xe7\xe3o imediata necess\xe1ria"})]})]}),(0,qe.jsx)("div",{className:"text-3xl font-bold text-red-700 mb-2",children:t.high_risk_count||0}),(0,qe.jsx)("p",{className:"text-red-600 text-sm",children:"cl\xednicas em risco cr\xedtico"})]}),(0,qe.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)("div",{className:"bg-yellow-100 rounded-full p-3 mr-4",children:(0,qe.jsx)(za,{icon:ls,className:"text-yellow-600 text-xl"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-yellow-900",children:"M\xe9dio Risco"}),(0,qe.jsx)("p",{className:"text-yellow-600 text-sm",children:"Monitoramento ativo"})]})]}),(0,qe.jsx)("div",{className:"text-3xl font-bold text-yellow-700 mb-2",children:t.medium_risk_count||0}),(0,qe.jsx)("p",{className:"text-yellow-600 text-sm",children:"cl\xednicas para acompanhar"})]}),(0,qe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:(0,qe.jsx)(za,{icon:Es,className:"text-green-600 text-xl"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-green-900",children:"Baixo Risco"}),(0,qe.jsx)("p",{className:"text-green-600 text-sm",children:"Clientes saud\xe1veis"})]})]}),(0,qe.jsx)("div",{className:"text-3xl font-bold text-green-700 mb-2",children:t.low_risk_count||0}),(0,qe.jsx)("p",{className:"text-green-600 text-sm",children:"cl\xednicas est\xe1veis"})]})]}),(0,qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Principais Fatores de Churn"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,qe.jsx)("span",{className:"text-gray-700",children:"Inadimpl\xeancia prolongada"}),(0,qe.jsx)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm",children:"Alto impacto"})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,qe.jsx)("span",{className:"text-gray-700",children:"Baixa utiliza\xe7\xe3o da plataforma"}),(0,qe.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm",children:"M\xe9dio impacto"})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,qe.jsx)("span",{className:"text-gray-700",children:"Aus\xeancia de crescimento"}),(0,qe.jsx)("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded text-sm",children:"M\xe9dio impacto"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:is,className:"mr-2"}),"Recomenda\xe7\xf5es de A\xe7\xe3o"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Contato Proativo"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Entre em contato com cl\xednicas de alto risco para entender dificuldades"})]}),(0,qe.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Ofertas Personalizadas"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Crie planos especiais para clientes em risco m\xe9dio"})]}),(0,qe.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Treinamento & Suporte"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Ofere\xe7a sess\xf5es de treinamento para melhorar a ado\xe7\xe3o"})]}),(0,qe.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Monitoramento Cont\xednuo"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Acompanhe m\xe9tricas de uso e engagement regularmente"})]})]})]})]}):(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:gs,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"An\xe1lise Preditiva de Churn"}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Dados n\xe3o dispon\xedveis"})]})},Gy=e=>{let{data:t}=e;return t?(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Oportunidades de Crescimento"}),(0,qe.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Expans\xe3o de Receita"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-blue-100 rounded-full p-3",children:(0,qe.jsx)(za,{icon:Di,className:"text-blue-600 text-xl"})}),(0,qe.jsx)("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full",children:"Expans\xe3o"})]}),(0,qe.jsxs)("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:["R$ ",Iy((t.expansion_potential||0)/1e3,1),"K"]}),(0,qe.jsx)("p",{className:"text-blue-600 text-sm",children:"Receita potencial de expans\xe3o"})]}),(0,qe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-green-100 rounded-full p-3",children:(0,qe.jsx)(za,{icon:Ji,className:"text-green-600 text-xl"})}),(0,qe.jsx)("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full",children:"Pronto"})]}),(0,qe.jsx)("div",{className:"text-2xl font-bold text-green-700 mb-1",children:t.ready_for_expansion||0}),(0,qe.jsx)("p",{className:"text-green-600 text-sm",children:"Clientes prontos para expans\xe3o"})]})]}),(0,qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:vs,className:"mr-2 text-green-600"}),"Principais Candidatos \xe0 Expans\xe3o"]}),(0,qe.jsx)("div",{className:"space-y-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900",children:"Cl\xednicas com Alta Utiliza\xe7\xe3o"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Utilizando > 85% dos slots contratados"})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.high_utilization_clinics||0}),(0,qe.jsx)("p",{className:"text-sm text-green-600",children:"cl\xednicas"})]})]})})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:Mi,className:"mr-2 text-blue-600"}),"Estrat\xe9gias de Expans\xe3o Recomendadas"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-3",children:"Outreach Proativo"}),(0,qe.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 Contatar cl\xednicas com alta utiliza\xe7\xe3o"}),(0,qe.jsx)("li",{children:"\u2022 Oferecer consulta gratuita de expans\xe3o"}),(0,qe.jsx)("li",{children:"\u2022 Demonstrar ROI de slots adicionais"})]})]}),(0,qe.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-3",children:"Incentivos de Upgrades"}),(0,qe.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 Desconto de 15% no primeiro m\xeas"}),(0,qe.jsx)("li",{children:"\u2022 Per\xedodo de teste de 30 dias"}),(0,qe.jsx)("li",{children:"\u2022 Suporte premium inclu\xeddo"})]})]})]})]})]}):(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:Mi,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Oportunidades de Crescimento"}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Dados n\xe3o dispon\xedveis"})]})},Xy=e=>{let{data:t}=e;return t?(0,qe.jsxs)("div",{className:"space-y-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"An\xe1lise de Coortes"}),(0,qe.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:"Reten\xe7\xe3o de Clientes"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-blue-900",children:"Taxa de Reten\xe7\xe3o Global"}),(0,qe.jsx)(za,{icon:hs,className:"text-blue-600 text-xl"})]}),(0,qe.jsxs)("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:[Iy(100*(t.global_retention_rate||0),1),"%"]}),(0,qe.jsx)("p",{className:"text-blue-600 text-sm",children:"Clientes ativos ap\xf3s 12 meses"})]}),(0,qe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-green-900",children:"Melhor Coorte"}),(0,qe.jsx)(za,{icon:Fi,className:"text-green-600 text-xl"})]}),(0,qe.jsx)("div",{className:"text-3xl font-bold text-green-700 mb-2",children:t.best_cohort_period||"Jun/24"}),(0,qe.jsxs)("p",{className:"text-green-600 text-sm",children:[Iy(100*(t.best_cohort_retention||0),1),"% de reten\xe7\xe3o"]})]}),(0,qe.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-orange-900",children:"Tend\xeancia"}),(0,qe.jsx)(za,{icon:Us,className:"text-orange-600 text-xl"})]}),(0,qe.jsxs)("div",{className:"text-3xl font-bold text-orange-700 mb-2",children:["+",Iy(100*(t.retention_trend||0),1),"%"]}),(0,qe.jsx)("p",{className:"text-orange-600 text-sm",children:"Melhoria \xfaltimos 3 meses"})]})]}),(0,qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:as,className:"mr-2 text-purple-600"}),"Matriz de Reten\xe7\xe3o por Coorte"]}),(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full text-sm",children:[(0,qe.jsx)("thead",{children:(0,qe.jsxs)("tr",{className:"bg-gray-50",children:[(0,qe.jsx)("th",{className:"text-left p-3 text-gray-600",children:"Per\xedodo"}),(0,qe.jsx)("th",{className:"text-center p-3 text-gray-600",children:"Novos Clientes"}),(0,qe.jsx)("th",{className:"text-center p-3 text-gray-600",children:"M\xeas 1"}),(0,qe.jsx)("th",{className:"text-center p-3 text-gray-600",children:"M\xeas 3"}),(0,qe.jsx)("th",{className:"text-center p-3 text-gray-600",children:"M\xeas 6"}),(0,qe.jsx)("th",{className:"text-center p-3 text-gray-600",children:"M\xeas 12"})]})}),(0,qe.jsxs)("tbody",{className:"space-y-2",children:[(0,qe.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,qe.jsx)("td",{className:"p-3 font-medium",children:"Jan/24"}),(0,qe.jsx)("td",{className:"text-center p-3",children:"15"}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"93%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"87%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"73%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"67%"})})]}),(0,qe.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,qe.jsx)("td",{className:"p-3 font-medium",children:"Jun/24"}),(0,qe.jsx)("td",{className:"text-center p-3",children:"23"}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"96%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"91%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"87%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"text-gray-400",children:"-"})})]}),(0,qe.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,qe.jsx)("td",{className:"p-3 font-medium",children:"Set/24"}),(0,qe.jsx)("td",{className:"text-center p-3",children:"18"}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"89%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"78%"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,qe.jsx)("td",{className:"text-center p-3",children:(0,qe.jsx)("span",{className:"text-gray-400",children:"-"})})]})]})]})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:is,className:"mr-2"}),"Insights de Reten\xe7\xe3o"]}),(0,qe.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)("div",{className:"bg-green-100 rounded-full p-1 mr-3 mt-1",children:(0,qe.jsx)(za,{icon:Es,className:"text-green-600 text-xs"})}),(0,qe.jsx)("p",{className:"text-blue-800",children:"Clientes do primeiro semestre apresentam maior taxa de reten\xe7\xe3o a longo prazo"})]}),(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)("div",{className:"bg-yellow-100 rounded-full p-1 mr-3 mt-1",children:(0,qe.jsx)(za,{icon:eo,className:"text-yellow-600 text-xs"})}),(0,qe.jsx)("p",{className:"text-blue-800",children:"Per\xedodo cr\xedtico de churn ocorre entre o 3\xba e 6\xba m\xeas"})]}),(0,qe.jsxs)("div",{className:"flex items-start",children:[(0,qe.jsx)("div",{className:"bg-blue-100 rounded-full p-1 mr-3 mt-1",children:(0,qe.jsx)(za,{icon:ii,className:"text-blue-600 text-xs"})}),(0,qe.jsx)("p",{className:"text-blue-800",children:"Coortes recentes mostram tend\xeancia de melhora na reten\xe7\xe3o inicial"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,qe.jsxs)("h4",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[(0,qe.jsx)(za,{icon:gs,className:"mr-2"}),"A\xe7\xf5es Recomendadas"]}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:"Programa de Onboarding"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Fortalecer processo de integra\xe7\xe3o nos primeiros 90 dias"})]}),(0,qe.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:"Check-ins Proativos"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Agendar reuni\xf5es no 3\xba e 6\xba m\xeas para identificar problemas"})]}),(0,qe.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,qe.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:"Programa de Fidelidade"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Criar incentivos para clientes que completam 12 meses"})]})]})]})]})]}):(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(za,{icon:qi,className:"text-4xl text-gray-400 mb-4"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"An\xe1lise de Coortes"}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Dados n\xe3o dispon\xedveis"})]})},$y=()=>{const{user:e,logout:t}=He(),[n,a]=(0,r.useState)("dashboard"),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)({}),[u,h]=(0,r.useState)([]),[f,m]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[x,b]=(0,r.useState)([]),[v,y]=(0,r.useState)({status:"",search:""}),[w,N]=(0,r.useState)({status:"",clinic_id:""}),[j,_]=(0,r.useState)(!1),[S,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[P,L]=(0,r.useState)(!1),[E,M]=(0,r.useState)(!1),[D,O]=(0,r.useState)(!1),[T,R]=(0,r.useState)(!1),[I,F]=(0,r.useState)(null),[z,B]=(0,r.useState)(null);(0,r.useEffect)((()=>{e&&"super_admin"===e.role||t()}),[e,t]);const q=(0,r.useCallback)((async()=>{try{i(!0);const[e,t,n,r]=await Promise.all([sy(),oy(),py(),iy()]);d(e.data||{}),h(t.data||[]),g(n.data||[]),b(r.data||[])}catch(o){console.error("Erro ao carregar dados:",o),l("Erro ao carregar dados do sistema.")}finally{i(!1)}}),[]);(0,r.useEffect)((()=>{q()}),[q]);const U=(0,r.useCallback)((async()=>{try{const e=await oy(v);h(e.data||[])}catch(o){console.error("Erro ao carregar cl\xednicas:",o)}}),[v]),W=(0,r.useCallback)((async()=>{try{const e=await hy(w);m(e.data||[])}catch(o){console.error("Erro ao carregar cobran\xe7as:",o)}}),[w]);(0,r.useEffect)((()=>{"clinics"===n&&U()}),[n,U]),(0,r.useEffect)((()=>{"financial"===n&&W()}),[n,W]);const H=(0,r.useMemo)((()=>p.length?{labels:p.map((e=>e.month_label)),datasets:[{label:"Receita Mensal (R$)",data:p.map((e=>parseFloat(e.revenue||0))),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]}:null),[p]),V=(0,r.useMemo)((()=>x.length?{labels:x.map((e=>e.month_label)),datasets:[{label:"Novas Cl\xednicas",data:x.map((e=>parseInt(e.new_clinics||0))),backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgb(34, 197, 94)",borderWidth:1},{label:"Novos Usu\xe1rios",data:x.map((e=>parseInt(e.new_users||0))),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]}:null),[x]),Y=(0,r.useMemo)((()=>{const e=parseInt(c.active_clinics||0),t=parseInt(c.suspended_clinics||0);return{labels:["Ativas","Suspensas","Inativas"],datasets:[{data:[e,t,parseInt(c.total_clinics||0)-e-t],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)","rgb(156, 163, 175)"],borderWidth:2}]}}),[c]);return s?(0,qe.jsxs)("div",{className:"flex justify-center items-center min-h-screen",children:[(0,qe.jsx)(za,{icon:zi,className:"text-4xl text-blue-500 animate-spin"}),(0,qe.jsx)("span",{className:"ml-3 text-lg",children:"Carregando painel super admin..."})]}):o?(0,qe.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,qe.jsxs)("div",{className:"text-red-500 text-center",children:[(0,qe.jsx)(za,{icon:eo,className:"text-4xl mb-4"}),(0,qe.jsx)("p",{className:"text-lg",children:o})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qe.jsx)("div",{className:"bg-white shadow border-b border-gray-200",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qe.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(za,{icon:Ms,className:"text-2xl text-blue-600 mr-3"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Super Admin"}),(0,qe.jsx)("p",{className:"text-sm text-gray-500",children:"Painel de controle do sistema ABAplay"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("div",{className:"text-sm text-gray-500",children:["Bem-vindo, ",(0,qe.jsx)("span",{className:"font-semibold text-gray-700",children:null===e||void 0===e?void 0:e.name})]}),(0,qe.jsx)("button",{onClick:t,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sair"})]})]})})}),(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qe.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,qe.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[{key:"dashboard",label:"Dashboard",icon:xi},{key:"enterprise",label:"Business Intelligence",icon:to},{key:"clinics",label:"Cl\xednicas",icon:Wi},{key:"financial",label:"Financeiro",icon:ao},{key:"calendar",label:"Calend\xe1rio",icon:Xa}].map((e=>(0,qe.jsxs)("button",{onClick:()=>a(e.key),className:"".concat(n===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,qe.jsx)(za,{icon:e.icon,className:"mr-2"}),e.label]},e.key)))})})}),(0,qe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["dashboard"===n&&(0,qe.jsx)(zy,{metrics:c,processedRevenueChart:H,processedGrowthChart:V,statusChart:Y}),"enterprise"===n&&(0,qe.jsx)(Wy,{}),"clinics"===n&&(0,qe.jsx)(By,{clinics:u,filters:v,setFilters:y,onCreateClinic:()=>_(!0),onEditLimit:e=>{F(e),k(!0)},onSuspend:e=>{F(e),A(!0)},onReactivate:async e=>{try{await dy(e),U()}catch(o){console.error("Erro ao reativar cl\xednica:",o)}},onViewDetails:e=>{F(e),M(!0)},onDeleteClinic:async e=>{try{await gy(e),U(),q()}catch(o){console.error("Erro ao eliminar cl\xednica:",o)}}}),"financial"===n&&(0,qe.jsx)(qy,{billings:f,metrics:c,filters:w,setFilters:N,onRecordPayment:e=>{B(e),L(!0)},onCreateBilling:()=>O(!0),loadInitialData:q}),"calendar"===n&&(0,qe.jsx)(Uy,{billings:f,onViewBilling:e=>{B(e)},onRecordPayment:e=>{B(e),L(!0)},onEditDueDate:e=>{B(e),R(!0)},onCreateBilling:()=>O(!0)})]}),(0,qe.jsx)(ky,{isOpen:j,onClose:()=>_(!1),onSubmit:async e=>{try{await ly(e),_(!1),U(),q()}catch(o){console.error("Erro ao criar cl\xednica:",o)}}}),(0,qe.jsx)(Cy,{isOpen:S,onClose:()=>{k(!1),F(null)},clinic:I,onSubmit:e=>(async(e,t)=>{try{await uy(e,t),k(!1),F(null),U()}catch(o){console.error("Erro ao atualizar limite:",o)}})(I.id,e)}),(0,qe.jsx)(Ay,{isOpen:C,onClose:()=>{A(!1),F(null)},clinic:I,onSubmit:e=>(async(e,t)=>{try{await cy(e,t),A(!1),F(null),U()}catch(o){console.error("Erro ao suspender cl\xednica:",o)}})(I.id,e)}),(0,qe.jsx)(Py,{isOpen:P,onClose:()=>{L(!1),B(null)},billing:z,onSubmit:async e=>{try{await my(z.id,e),L(!1),B(null),W(),q()}catch(o){console.error("Erro ao registrar pagamento:",o)}}}),(0,qe.jsx)(Ty,{isOpen:D,onClose:()=>O(!1),clinics:u,onSubmit:async e=>{try{await fy(e),O(!1),W(),q()}catch(o){console.error("Erro ao criar cobran\xe7a:",o)}}}),(0,qe.jsx)(Ry,{isOpen:T,onClose:()=>{R(!1),B(null)},billing:z,onSubmit:async e=>{try{await xy(z.id,e),R(!1),B(null),W(),q()}catch(o){console.error("Erro ao editar data de vencimento:",o)}}}),E&&I&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Detalhes da Cl\xednica: ",I.name]}),(0,qe.jsx)("button",{onClick:()=>{M(!1),F(null)},className:"text-gray-400 hover:text-gray-600",children:(0,qe.jsx)(za,{icon:Ei})})]}),(0,qe.jsxs)("div",{className:"p-6 space-y-4",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,qe.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("active"===I.status?"bg-green-100 text-green-800":"suspended"===I.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"active"===I.status?"Ativa":"suspended"===I.status?"Suspensa":"Inativa"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pacientes Atuais"}),(0,qe.jsxs)("p",{className:"text-sm text-gray-900",children:[I.current_patients||0," / ",I.max_patients]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Terapeutas"}),(0,qe.jsx)("p",{className:"text-sm text-gray-900",children:I.therapists_count||0})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pais"}),(0,qe.jsx)("p",{className:"text-sm text-gray-900",children:I.parents_count||0})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Cria\xe7\xe3o"}),(0,qe.jsx)("p",{className:"text-sm text-gray-900",children:new Date(I.created_at).toLocaleDateString("pt-BR")})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Administrador"}),(0,qe.jsx)("p",{className:"text-sm text-gray-900",children:I.admin_name||"N/A"})]})]}),I.suspended_at&&(0,qe.jsxs)("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:[(0,qe.jsx)("h4",{className:"font-medium text-red-800",children:"Informa\xe7\xf5es da Suspens\xe3o"}),(0,qe.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:[(0,qe.jsx)("strong",{children:"Data:"})," ",new Date(I.suspended_at).toLocaleDateString("pt-BR")]}),I.suspension_reason&&(0,qe.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:[(0,qe.jsx)("strong",{children:"Motivo:"})," ",I.suspension_reason]})]})]})]})})]})},Ky=e=>{let{children:t}=e;const{user:n}=He();return n&&n.is_admin?t:(0,qe.jsx)(pe,{to:"/",replace:!0})},Jy=e=>{let{children:t}=e;const{user:n}=He();return n&&"super_admin"===n.role?t:(0,qe.jsx)(pe,{to:"/",replace:!0})};const Qy=function(){return(0,qe.jsx)(We,{children:(0,qe.jsx)(Pe,{children:(0,qe.jsx)("div",{className:"bg-gray-100 min-h-screen",children:(0,qe.jsxs)(ve,{children:[(0,qe.jsx)(xe,{path:"/login",element:(0,qe.jsx)(uo,{})}),(0,qe.jsx)(xe,{path:"/super-admin",element:(0,qe.jsx)(Jy,{children:(0,qe.jsx)($y,{})})}),(0,qe.jsxs)(xe,{path:"/",element:(0,qe.jsx)(nt,{children:(0,qe.jsx)(st,{children:(0,qe.jsx)(wo,{})})}),children:[(0,qe.jsx)(xe,{index:!0,element:(0,qe.jsx)(No,{})}),(0,qe.jsx)(xe,{path:"clients",element:(0,qe.jsx)(Mv,{})}),(0,qe.jsx)(xe,{path:"parent-dashboard",element:(0,qe.jsx)(Gv,{})}),(0,qe.jsx)(xe,{path:"colleagues",element:(0,qe.jsx)(ny,{})}),(0,qe.jsx)(xe,{path:"admin",element:(0,qe.jsx)(Ky,{children:(0,qe.jsx)(Qv,{})})}),(0,qe.jsx)(xe,{path:"programs",element:(0,qe.jsx)(Rv,{})}),(0,qe.jsx)(xe,{path:"session/:assignmentId",element:(0,qe.jsx)(Zv,{})}),(0,qe.jsx)(xe,{path:"notes",element:(0,qe.jsx)(Iv,{})}),(0,qe.jsx)(xe,{path:"dashboard",element:(0,qe.jsx)(Hv,{})})]}),(0,qe.jsx)(xe,{path:"*",element:(0,qe.jsx)(pe,{to:"/",replace:!0})})]})})})})};s.createRoot(document.getElementById("root")).render((0,qe.jsx)(r.StrictMode,{children:(0,qe.jsx)(Qy,{})}))})()})();
//# sourceMappingURL=main.e304a128.js.map